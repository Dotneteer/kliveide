<!DOCTYPE html>
<html lang="en-US">

  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width,maximum-scale=2">
    <link rel="stylesheet" type="text/css" media="screen" href="/kliveide/assets/css/semantic.min.css">
    <link rel="stylesheet" type="text/css" media="screen" href="/kliveide/assets/css/style.css">
    <link href="https://fonts.googleapis.com/css?family=Roboto:400,700&amp;subset=latin-ext" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Roboto+Condensed:400,700&amp;subset=latin-ext" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Ubuntu+Mono:400,700&amp;subset=latin-ext" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Lato:300,300i,400,400i,700,700i" rel="stylesheet">

    <!-- Begin Jekyll SEO tag v2.6.1 -->
<title>BEEP | Klive IDE</title>
<meta name="generator" content="Jekyll v3.9.0" />
<meta property="og:title" content="BEEP" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="CHAPTER 19: BEEP" />
<meta property="og:description" content="CHAPTER 19: BEEP" />
<link rel="canonical" href="http://localhost:4000/kliveide/spectrum/basic-ch19" />
<meta property="og:url" content="http://localhost:4000/kliveide/spectrum/basic-ch19" />
<meta property="og:site_name" content="Klive IDE" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2019-01-01T00:00:00+01:00" />
<script type="application/ld+json">
{"@type":"BlogPosting","url":"http://localhost:4000/kliveide/spectrum/basic-ch19","headline":"BEEP","dateModified":"2019-01-01T00:00:00+01:00","datePublished":"2019-01-01T00:00:00+01:00","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/kliveide/spectrum/basic-ch19"},"description":"CHAPTER 19: BEEP","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->

  </head>

  <body>

    <!-- Header -->
    <div class="ui vertical stripe segment with-header-back">
      <div class="ui container high">
        <h1 class="ui header">Klive IDE</h1>
        <h3 class="ui header">Full-fledged ZX Spectrum IDE with Electron, VS Code</h2>
      </div>
    </div>

    <!-- Menu -->
    <div class="ui vertical stripe segment with-menu-back">
      <div class="ui container">
        <div class="ui menu with-menu-back">
          <a class="item" href="/kliveide/">Home</a>
          <a class=" item" href="/kliveide/getting-started/install-kliveide.html">Getting Started</a>
          <a class=" item" href="/kliveide/documents/main-features.html">Documents</a>
          <a class=" active item" href="/kliveide/spectrum/basic-toc.html">ZX Spectrum</a>
          <a class="item" target="_blank" href="https://github.com/Dotneteer/kliveide">GitHub</a>
        </div>
      </div>
    </div>

    <div class="ui vertical stripe segment with-content-back">
      <div class="ui container">
        <div class="ui grid">
          <div class="three wide computer sixteen wide mobile column">
            <div class="document-list">
              
              
              
              
              
                
                  
                  
                  
                  
                
                  
                  
                  
                  
                  <div class="document-category  expanded " onclick="handleClick(this)">
                    <span class="category-name">Spectrum48 BASIC</span>
                    <div class="extender  expanded ">
                      <svg width="24" height="24" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 10 16" >
                        <path d="M10 10l-1.5 1.5L5 7.75 1.5 11.5 0 10l5-5z" />
                      </svg>
                    </div>
                  </div>
                  <div class="article-names  displayed ">
                  
                    
                  
                    
                  
                    
                    <a id="basic-toc" class="" href="/kliveide/spectrum/basic-toc#article">Table of Contents</a>
                      
                      
                      
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                    <a id="basic-ch1" class="" href="/kliveide/spectrum/basic-ch1#article">Introduction</a>
                      
                      
                      
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                    <a id="basic-ch2" class="" href="/kliveide/spectrum/basic-ch2#article">Basic programming concepts</a>
                      
                      
                      
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                    <a id="basic-ch3" class="" href="/kliveide/spectrum/basic-ch3#article">Decisions</a>
                      
                      
                      
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                    <a id="basic-ch4" class="" href="/kliveide/spectrum/basic-ch4#article">Looping</a>
                      
                      
                      
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                    <a id="basic-ch5" class="" href="/kliveide/spectrum/basic-ch5#article">Subroutines</a>
                      
                      
                      
                    
                  
                    
                  
                    
                  
                    
                  
                    
                    <a id="basic-ch6" class="" href="/kliveide/spectrum/basic-ch6#article">READ, DATA, RESTORE</a>
                      
                      
                      
                    
                  
                    
                  
                    
                    <a id="basic-ch7" class="" href="/kliveide/spectrum/basic-ch7#article">Expressions</a>
                      
                      
                      
                    
                  
                    
                  
                    
                    <a id="basic-ch8" class="" href="/kliveide/spectrum/basic-ch8#article">Strings</a>
                      
                      
                      
                    
                  
                    
                  
                    
                    <a id="basic-ch9" class="" href="/kliveide/spectrum/basic-ch9#article">Functions</a>
                      
                      
                      
                    
                  
                    
                  
                    
                    <a id="basic-ch10" class="" href="/kliveide/spectrum/basic-ch10#article">Mathematical functions</a>
                      
                      
                      
                    
                  
                    
                  
                    
                  
                    
                    <a id="basic-ch11" class="" href="/kliveide/spectrum/basic-ch11#article">Random numbers</a>
                      
                      
                      
                    
                  
                    
                    <a id="basic-ch12" class="" href="/kliveide/spectrum/basic-ch12#article">Arrays</a>
                      
                      
                      
                    
                  
                    
                    <a id="basic-ch13" class="" href="/kliveide/spectrum/basic-ch13#article">Conditions</a>
                      
                      
                      
                    
                  
                    
                    <a id="basic-ch14" class="" href="/kliveide/spectrum/basic-ch14#article">The character set</a>
                      
                      
                      
                    
                  
                    
                    <a id="basic-ch15" class="" href="/kliveide/spectrum/basic-ch15#article">More about PRINT and INPUT</a>
                      
                      
                      
                    
                  
                    
                    <a id="basic-ch16" class="" href="/kliveide/spectrum/basic-ch16#article">Colours</a>
                      
                      
                      
                    
                  
                    
                    <a id="basic-ch17" class="" href="/kliveide/spectrum/basic-ch17#article">Graphics</a>
                      
                      
                      
                    
                  
                    
                    <a id="basic-ch18" class="" href="/kliveide/spectrum/basic-ch18#article">Motion</a>
                      
                      
                      
                    
                  
                    
                    <a id="basic-ch19" class=" active " href="/kliveide/spectrum/basic-ch19#article">BEEP</a>
                      
                      
                      
                    
                  
                    
                    <a id="basic-ch20" class="" href="/kliveide/spectrum/basic-ch20#article">Tape Storage</a>
                      
                      
                      
                    
                  
                    
                    <a id="basic-ch21" class="" href="/kliveide/spectrum/basic-ch21#article">The ZX Printer</a>
                      
                      
                      
                    
                  
                    
                    <a id="basic-ch22" class="" href="/kliveide/spectrum/basic-ch22#article">Other Equipment</a>
                      
                      
                      
                    
                  
                    
                    <a id="basic-ch23" class="" href="/kliveide/spectrum/basic-ch23#article">IN and OUT</a>
                      
                      
                      
                    
                  
                    
                    <a id="basic-ch24" class="" href="/kliveide/spectrum/basic-ch24#article">The memory</a>
                      
                      
                      
                    
                  
                    
                    <a id="basic-ch25" class="" href="/kliveide/spectrum/basic-ch25#article">The system variables</a>
                      
                      
                      
                    
                  
                    
                    <a id="basic-ch26" class="" href="/kliveide/spectrum/basic-ch26#article">Using machine code</a>
                      
                      
                      
                    
                  
                    
                    <a id="basic-appa" class="" href="/kliveide/spectrum/basic-appa#article">Appendix A: The character set</a>
                      
                      
                      
                    
                  
                    
                    <a id="basic-appc1" class="" href="/kliveide/spectrum/basic-appc1#article">Appendix C1: A description of the ZX Spectrum for reference</a>
                      
                      
                      
                    
                  
                    
                    <a id="basic-appb" class="" href="/kliveide/spectrum/basic-appb#article">Appendix B: Reports</a>
                      
                      
                      
                    
                  
                    
                    <a id="basic-appd" class="" href="/kliveide/spectrum/basic-appd#article">Appendix D: Example programs</a>
                      
                      
                      
                    
                  
                    
                    <a id="basic-appc2" class="" href="/kliveide/spectrum/basic-appc2#article">Appendix C2: The BASIC</a>
                      
                      
                      
                    
                  
                    
                    <a id="basic-appe" class="" href="/kliveide/spectrum/basic-appe#article">Appendix E: Binary and hexadecimal</a>
                      
                      
                      
                    
                  
                  </div>
                  
                
                  
                  
                  
                  
                
                  
                  
                  
                  
                  <div class="document-category  collapsed " onclick="handleClick(this)">
                    <span class="category-name">Pac-Man Discovery</span>
                    <div class="extender  collapsed ">
                      <svg width="24" height="24" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 10 16" >
                        <path d="M10 10l-1.5 1.5L5 7.75 1.5 11.5 0 10l5-5z" />
                      </svg>
                    </div>
                  </div>
                  <div class="article-names  hidden ">
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                    <a id="introduction" class="" href="/kliveide/pacman/introduction#article">Decrypting the loader</a>
                      
                      
                      
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                  </div>
                  
                
                  
                  
                  
                  
                
                  
                  
                  
                  
                
                  
                  
                  
                  
                
            </div>
          </div>
          <div class="thirteen wide computer sixteen wide mobile column with-main-back">
            <div id="#article" class="main-title-area">
              <h1>Spectrum48 BASIC &raquo; BEEP</h1>
            </div>
            <div class="main-content-area">
              <h1 id="chapter-19-beep">CHAPTER 19: BEEP</h1>

<h2 id="summary">Summary</h2>

<ul>
  <li><strong>BEEP</strong></li>
</ul>

<p>If you haven’t already discovered that the ZX Spectrum has a loudspeaker built into it, read the Introductory booklet before carrying on.</p>

<p>The loudspeaker is sounded by using the <strong>BEEP</strong> statement,</p>

<p><strong>BEEP</strong> <em>duration</em>, <em>pitch</em></p>

<p>where, as usual, ‘<em>duration</em>’ and ‘<em>pitch</em>’ represent any numerical expressions. The duration is given in seconds, and the pitch is given in semitones above
middle C using negative numbers for notes below middle C. Here is a diagram to show the pitch values of all the notes in one octave on the
piano:</p>

<p><img src="/kliveide/assets/images/basic/image11.gif" alt="Image11" /></p>

<p>To get higher or lower notes, you have to add or subtract 12 for each octave that you go up or down.</p>

<p>If you have a piano in front of you when you are programming a tune, this diagram will probably be all that you need to work out the pitch values. If,
however, you are transcribing straight from some written music, then we suggest that you draw a diagram of the stave with the pitch value written against each
line and space, taking the key into account.</p>

<p>For example, type:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>10 PRINT "Frere Gustav"
20 BEEP 1,0: BEEP 1,2: BEEP .5,3: BEEP.5,2: BEEP 1,0
30 BEEP 1,0: BEEP 1,2: BEEP .5,3: BEEP.5,2: BEEP 1,0
40 BEEP 1,3: BEEP 1,5: BEEP 2,7
50 BEEP 1,3: BEEP 1,5: BEEP 2,7
60 BEEP .75,7: BEEP .25,8: BEEP .5,7: BEEP .5,5:BEEP .5,3: BEEP.5,2: BEEP 1,0
70 BEEP .75,7: BEEP .25,8: BEEP .5,7: BEEP .5,5: BEEP .5,3: BEEP .5,2: BEEP 1,0
80 BEEP 1,0: BEEP 1,-5: BEEP 2,0
90 BEEP l,0: BEEP 1,-5: BEEP 2,0
</code></pre></div></div>

<p>When you run this, you should get the funeral march from Mahler’s first symphony, the bit where the goblins bury the US Cavalry man.</p>

<p>Suppose for example that your tune is written in the key of C minor, like the Mahler above. The beginning looks like this:</p>

<p><img src="/kliveide/assets/images/basic/image12.gif" alt="Image12" /></p>

<p>and you can write in the pitch values of the notes like this:</p>

<p><img src="/kliveide/assets/images/basic/image13.gif" alt="Image13" /></p>

<p>We have put in two ledger lines, just for good measure. Note how the E flat in the key signature affects not only the E in the top space, flattening it from 16
to 15, but also the E on the bottom line, flattening it from 4 to 3. It should now be quite easy to find the pitch value of any note on the stave.</p>

<p>If you want to change the key of the piece, the best thing is to set up a variable key and insert key+ before each pitch value: thus the second line
becomes</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>20 BEEP 1,key+0: BEEP 1,key+2: BEEP s,key+3: BEEP.5,key+2: BEEP 1,key+0
</code></pre></div></div>

<p>Before you run a program you must give key the appropriate value - 0 for C minor, 2 for D minor, 12 for C minor an octave up, and so on. You can get the
computer in tune with another instrument by adjusting key, using fractional values.</p>

<p>You also have to work out the durations of all the notes. Since this is a fairly slow piece, we have allowed one second for a crotchet and based the rest on
that, half a second for a quaver and so on.</p>

<p>More flexible is to set up a variable crotchet to store the length of a crotchet and specify the durations in terms of this. Then line 20 would become</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>20 BEEP crotchet,key+0: BEEP crotchet,key+2: BEEP crotchet/2,key+3: 
BEEP crotchet/2,key+2: BEEP crotchet,key+0
</code></pre></div></div>

<p>(You will probably want to give <em>crotchet</em> and <em>key</em> shorter names.)</p>

<p>By giving crotchet appropriate values, you can easily vary the speed of the piece.</p>

<p>Remember that because there is only one loudspeaker in the computer you can only play one note at a time, so you are restricted to unharmonized tunes. If you
want any more you must sing it yourself.</p>

<p>Try programming tunes in for yourself - start off with fairly simple ones like ‘Three Blind Mice’. If you have neither piano nor written music, get hold of a
very simple instrument like a tin whistle or a recorder, and work the tunes out on that. You could make a chart showing the pitch value for each note that you
can play on this instrument.</p>

<p>Type:</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>FOR n=0 TO 1000: BEEP .5,n: NEXT n
</code></pre></div></div>

<p>This will play notes as high as it can, and then stop with error report B integer out of range. You can print out n to find out how high it did actually
get.</p>

<p>Try the same thing, but going down into the low notes. The very lowest notes will just sound like clicks; in fact the higher notes are also made of clicks in
the same way, but faster, so that the ear cannot distinguish them.</p>

<p>Only the middle range of notes are really any good for music; the low notes sound too much like clicks, and the high notes are thin and tend to warble a
bit.</p>

<p>Type in this program line:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>10 BEEP .5,0: BEEP .5,2: BEEP .5,4: BEEP .5,5: BEEP .5,7: BEEP .5,9:
BEEP .5,11: BEEP .5,12: STOP
</code></pre></div></div>

<p>This plays the scale of C major, which uses all the white notes on the piano from middle C to the next C up. The way this scale is tuned is exactly the same
as on a piano, and is called even-tempered tuning because the pitch interval of a semitone is the same all the way up the scale. A violinist, however, would
play the scale very slightly differently, adjusting all the notes to make them sound more pleasing to the ear. He can do this just by moving his fingers very
slightly up or down the string in a way that a pianist can’t.</p>

<p>The natural scale, which is what the violinist plays, comes out like this:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>20 BEEP .5,0: BEEP .5,2.039: BEEP .5,3.86: BEEP .5,4.98: BEEP .5,7.02:
BEEP .5,8.84: BEEP .5,10.88: BEEP .5,12: STOP**
</code></pre></div></div>

<p>You may or may not be able to detect any difference between these two; some people can. The first noticeable difference is that the third note is slightly
flatter in the naturally tempered scale.lf you are a real perfectionist, you might like to program your tunes to use this natural scale instead of the
even-tempered one. The disadvantage is that although it works perfectly in the key of C, in other keys it works less well - they all have their own natural
scales - and in some keys it works very badly indeed. The even-tempered scale is only slightly off, and works equally well in all keys.</p>

<p>This is less of a problem on the computer, of course, because you can use the trick of adding on a variable key.</p>

<p>Some music - notably Indian music - uses intervals of pitch smaller than a semitone. You can program these into the <strong>BEEP</strong> statement without any trouble; for
instance the quartertone above middle C has a pitch value of .5.</p>

<p>You can make the keyboard beep instead of clicking by</p>

<p><strong>POKE 23609,255</strong></p>

<p>The second number in this determines the length of the beep (try various values between 0 and 255). When it is 0, the beep is so short that it sounds like a
soft click.</p>

<p>If you are interested in doing more with sound from the Spectrum, like hearing the sound that <strong>BEEP</strong> makes on something other the internal speaker, you will find that the signal is present on both the ‘MIC’ and the ‘EAR’ sockets. It will be at a higher level on the ‘EAR’ socket, but otherwise they are the same. You may use this to connect an earphone or a pair of headphones to your Spectrum. This will not cut out the internal loudspeaker. If you are really keen to make a lot
of noise you could connect it up to an amplifier - the ‘MIC’ socket will probably give about the right level - or you could record the sound onto tape
and get the Spectrum to play along with itself.</p>

<p>You will not damage the Spectrum even if you short-circuit the ‘MIC’ or ‘EAR’ sockets, so experiment to find which gives the best output for what you want to
do.</p>

<h2 id="exercise">Exercise</h2>

<ol>
  <li>Rewrite the Mahler program so that it uses <strong>FOR</strong> loops to repeat the bars.</li>
  <li>Program the computer so that it plays not only the funeral march, but also the rest of Mahler’s first symphony.</li>
</ol>

            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Footer  -->
    <div class="ui vertical stripe segment with-header-back">
        <footer class="ui container">
          <p>&copy; Istvan Novak, 2020</p>
        </footer>
      </div>
  
    <!-- Floating return to top button -->
    <a href="javascript:" id="return-to-top">
      <span>
        <svg width="32" height="24" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 10 16">
          <path d="M10 10l-1.5 1.5L5 7.75 1.5 11.5 0 10l5-5z"/>
        </svg>
      </span>
    </a>
    
    <!-- Floating go to previous button -->
    <a href="/kliveide/spectrum/basic-ch18#article" id="go-to-prev">
      <span>
        <svg width="32" height="24" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 10 16" transform="rotate(-90)">
          <path d="M10 10l-1.5 1.5L5 7.75 1.5 11.5 0 10l5-5z"/>
        </svg>
      </span>
    </a>
    
    
    <!-- Floating go to next button -->
    <a href="/kliveide/spectrum/basic-ch20#article" id="go-to-next">
      <span>
        <svg width="32" height="24" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 10 16" transform="rotate(90)">
          <path d="M10 10l-1.5 1.5L5 7.75 1.5 11.5 0 10l5-5z"/>
        </svg>
      </span>
    </a>
    

    <script>
      window.addEventListener("scroll", function(){
        var scrolled = window.pageYOffset > 50;
        document.getElementById("return-to-top").style.display = scrolled ? "block" : "none";
        var prevEl = document.getElementById("go-to-prev");
        if (prevEl) prevEl.style.display = scrolled ? "block" : "none";
        var nextEl = document.getElementById("go-to-next");
        if (nextEl) nextEl.style.display = scrolled ? "block" : "none";
      });
      var intervalId = 0;
      var $scrollButton = document.querySelector('#return-to-top');
      function scrollStep() {
        if (window.pageYOffset === 0) {
          clearInterval(intervalId);
        }
        window.scroll(0, window.pageYOffset - 50);
      }
      function scrollToTop() {
        intervalId = setInterval(scrollStep, 6.66);
      }
      $scrollButton.addEventListener('click', scrollToTop);

      function handleClick(arg) {
        var nextEl = arg.nextElementSibling;
        var extEl = arg.children[1];
        if (arg.classList.contains("expanded")) {
          arg.classList.remove("expanded");
          arg.classList.add("collapsed");
          extEl.classList.remove("expanded");
          extEl.classList.add("collapsed");
          nextEl.classList.remove("displayed")
          nextEl.classList.add("hidden")
        } else {
          arg.classList.remove("collapsed");
          arg.classList.add("expanded");
          extEl.classList.remove("collapsed");
          extEl.classList.add("expanded");
          nextEl.classList.remove("hidden")
          nextEl.classList.add("displayed")
        }
      }
    </script>

    
  </body>
</html>