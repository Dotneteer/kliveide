<!DOCTYPE html>
<html lang="en-US">

  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width,maximum-scale=2">
    <link rel="stylesheet" type="text/css" media="screen" href="/kliveide/assets/css/semantic.min.css">
    <link rel="stylesheet" type="text/css" media="screen" href="/kliveide/assets/css/style.css">
    <link href="https://fonts.googleapis.com/css?family=Roboto:400,700&amp;subset=latin-ext" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Roboto+Condensed:400,700&amp;subset=latin-ext" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Ubuntu+Mono:400,700&amp;subset=latin-ext" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Lato:300,300i,400,400i,700,700i" rel="stylesheet">

    <!-- Begin Jekyll SEO tag v2.5.0 -->
<title>Scripting the Memory | Klive IDE</title>
<meta name="generator" content="Jekyll v3.8.5" />
<meta property="og:title" content="Scripting the Memory" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="The MemoryPagingInfo class" />
<meta property="og:description" content="The MemoryPagingInfo class" />
<link rel="canonical" href="http://localhost:4000/kliveide/documents/scripting-memory" />
<meta property="og:url" content="http://localhost:4000/kliveide/documents/scripting-memory" />
<meta property="og:site_name" content="Klive IDE" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2019-01-04T00:00:00+01:00" />
<script type="application/ld+json">
{"@type":"BlogPosting","headline":"Scripting the Memory","dateModified":"2019-01-04T00:00:00+01:00","datePublished":"2019-01-04T00:00:00+01:00","url":"http://localhost:4000/kliveide/documents/scripting-memory","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/kliveide/documents/scripting-memory"},"description":"The MemoryPagingInfo class","@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->

  </head>

  <body>

    <!-- Header -->
    <div class="ui vertical stripe segment with-header-back">
      <div class="ui container high">
        <h1 class="ui header">Klive IDE</h1>
        <h3 class="ui header">Full-fledged ZX Spectrum IDE with Electron, VS Code</h2>
      </div>
    </div>

    <!-- Menu -->
    <div class="ui vertical stripe segment with-menu-back">
      <div class="ui container">
        <div class="ui menu with-menu-back">
          <a class="item" href="/kliveide/">Home</a>
          <a class=" item" href="/kliveide/getting-started/install-kliveide.html">Getting Started</a>
          <a class=" active  item" href="/kliveide/documents/main-features.html">Documents</a>
          <a class="item" href="/kliveide/spectrum/basic-toc.html">ZX Spectrum</a>
          <a class="item" target="_blank" href="https://github.com/Dotneteer/kliveide">GitHub</a>
        </div>
      </div>
    </div>

    <div class="ui vertical stripe segment with-content-back">
      <div class="ui container">
        <div class="ui grid">
          <div class="three wide computer sixteen wide mobile column">
            <div class="document-list">
              
              
              
              
              
                
                  
                  
                  
                  
                  <div class="document-category  collapsed " onclick="handleClick(this)">
                    <span class="category-name">Z80 Assembler</span>
                    <div class="extender  collapsed ">
                      <svg width="24" height="24" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 10 16" >
                        <path d="M10 10l-1.5 1.5L5 7.75 1.5 11.5 0 10l5-5z" />
                      </svg>
                    </div>
                  </div>
                  <div class="article-names  hidden ">
                  
                    
                  
                    
                    <a id="main-features" class="" href="/kliveide/documents/main-features#article">Main Features</a>
                      
                      
                      
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                    <a id="how-assembler-works" class="" href="/kliveide/documents/how-assembler-works#article">How the assembler works</a>
                      
                      
                      
                    
                  
                    
                  
                    
                  
                    
                    <a id="language-structure" class="" href="/kliveide/documents/language-structure#article">Language structure</a>
                      
                      
                      
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                    <a id="labels" class="" href="/kliveide/documents/labels-and-symbols#article">Labels and Symbols</a>
                      
                      
                      
                    
                  
                    
                  
                    
                    <a id="expressions" class="" href="/kliveide/documents/expressions#article">Expressions</a>
                      
                      
                      
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                    <a id="instructions" class="" href="/kliveide/documents/z80-instructions#article">Z80 Instructions</a>
                      
                      
                      
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                    <a id="pragmas" class="" href="/kliveide/documents/pragmas#article">Pragmas</a>
                      
                      
                      
                    
                  
                    
                  
                    
                    <a id="statements" class="" href="/kliveide/documents/statements#article">Statements</a>
                      
                      
                      
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                    <a id="macros" class="" href="/kliveide/documents/macros#article">Macros</a>
                      
                      
                      
                    
                  
                    
                  
                    
                    <a id="directives" class="" href="/kliveide/documents/directives#article">Directives</a>
                      
                      
                      
                    
                  
                    
                  
                    
                    <a id="modules" class="" href="/kliveide/documents/modules#article">Modules</a>
                      
                      
                      
                    
                  
                    
                  
                    
                    <a id="structs" class="" href="/kliveide/documents/structs#article">Structures</a>
                      
                      
                      
                    
                  
                    
                    <a id="assembler-output" class="" href="/kliveide/documents/assembler-output#article">Assembler Output</a>
                      
                      
                      
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                  </div>
                  
                
                  
                  
                  
                  
                
                  
                  
                  
                  
                  <div class="document-category  collapsed " onclick="handleClick(this)">
                    <span class="category-name">Tool Commands</span>
                    <div class="extender  collapsed ">
                      <svg width="24" height="24" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 10 16" >
                        <path d="M10 10l-1.5 1.5L5 7.75 1.5 11.5 0 10l5-5z" />
                      </svg>
                    </div>
                  </div>
                  <div class="article-names  hidden ">
                  
                    
                  
                    
                  
                    
                  
                    
                    <a id="tool-overview" class="" href="/kliveide/documents/tool-overview#article">Overview</a>
                      
                      
                      
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                    <a id="memory-commands" class="" href="/kliveide/documents/common-commands#article">Common Commands</a>
                      
                      
                      
                    
                  
                    
                  
                    
                  
                    
                  
                    
                    <a id="memory-section-commands" class="" href="/kliveide/documents/memory-section-commands#article">Disassembly: Memory Sections</a>
                      
                      
                      
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                    <a id="annotation-commands" class="" href="/kliveide/documents/annotation-commands#article">Disassembly: Annotations</a>
                      
                      
                      
                    
                  
                    
                    <a id="breakpoint-commands" class="" href="/kliveide/documents/breakpoint-commands#article">Disassembly: Breakpoints</a>
                      
                      
                      
                    
                  
                    
                  
                    
                  
                    
                  
                    
                    <a id="miscellaneous-commands" class="" href="/kliveide/documents/miscellaneous-commands#article">Disassembly: Miscellaneous</a>
                      
                      
                      
                    
                  
                    
                    <a id="watch-commands" class="" href="/kliveide/documents/tape-explorer-commands#article">Tape Explorer Commands</a>
                      
                      
                      
                    
                  
                    
                  
                    
                    <a id="watch-commands" class="" href="/kliveide/documents/watch-commands#article">Watch Commands</a>
                      
                      
                      
                    
                  
                    
                  
                    
                  
                    
                  
                    
                    <a id="watch-expressions" class="" href="/kliveide/documents/watch-expressions#article">Watch Expressions</a>
                      
                      
                      
                    
                  
                    
                  
                    
                  
                    
                    <a id="watch-samples" class="" href="/kliveide/documents/watch-samples#article">Watch Samples</a>
                      
                      
                      
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                  </div>
                  
                
                  
                  
                  
                  
                
                  
                  
                  
                  
                  <div class="document-category  expanded " onclick="handleClick(this)">
                    <span class="category-name">Scripting</span>
                    <div class="extender  expanded ">
                      <svg width="24" height="24" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 10 16" >
                        <path d="M10 10l-1.5 1.5L5 7.75 1.5 11.5 0 10l5-5z" />
                      </svg>
                    </div>
                  </div>
                  <div class="article-names  displayed ">
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                    <a id="scripting-overview" class="" href="/kliveide/documents/scripting-overview#article">Overview</a>
                      
                      
                      
                    
                  
                    
                  
                    
                  
                    
                    <a id="scripting-object-model" class="" href="/kliveide/documents/scripting-object-model#article">Scripting Object Model</a>
                      
                      
                      
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                    <a id="scripting-vms" class="" href="/kliveide/documents/scripting-vms#article">Managing Virtual machines</a>
                      
                      
                      
                    
                  
                    
                  
                    
                  
                    
                  
                    
                    <a id="scripting-z80" class="" href="/kliveide/documents/scripting-z80#article">Scripting the Z80 CPU</a>
                      
                      
                      
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                    <a id="scripting-screen" class="" href="/kliveide/documents/scripting-screen#article">Scripting the Screen</a>
                      
                      
                      
                    
                  
                    
                  
                    
                  
                    
                  
                    
                    <a id="scripting-memory" class=" active " href="/kliveide/documents/scripting-memory#article">Scripting the Memory</a>
                      
                      
                      
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                    <a id="scripting-audio" class="" href="/kliveide/documents/scripting-audio#article">Scripting the Audio</a>
                      
                      
                      
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                  </div>
                  
                
                  
                  
                  
                  
                  <div class="document-category  collapsed " onclick="handleClick(this)">
                    <span class="category-name">Unit Testing</span>
                    <div class="extender  collapsed ">
                      <svg width="24" height="24" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 10 16" >
                        <path d="M10 10l-1.5 1.5L5 7.75 1.5 11.5 0 10l5-5z" />
                      </svg>
                    </div>
                  </div>
                  <div class="article-names  hidden ">
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                    <a id="unit-testing-basics" class="" href="/kliveide/documents/unit-testing-basics#article">Syntax Basics</a>
                      
                      
                      
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                    <a id="unit-testing-expressions" class="" href="/kliveide/documents/unit-testing-expressions#article">Expressions</a>
                      
                      
                      
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                    <a id="unit-testing-details" class="" href="/kliveide/documents/unit-testing-details#article">Detailed Syntax</a>
                      
                      
                      
                    
                  
                    
                  
                    
                  
                    
                  
                    
                    <a id="unit-testing-process" class="" href="/kliveide/documents/unit-testing-process#article">The Testing Process</a>
                      
                      
                      
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                  </div>
                  
                
                  
                  
                  
                  
                
            </div>
          </div>
          <div class="thirteen wide computer sixteen wide mobile column with-main-back">
            <div id="#article" class="main-title-area">
              <h1>Scripting &raquo; Scripting the Memory</h1>
            </div>
            <div class="main-content-area">
              <h1 id="the-memorypaginginfo-class">The MemoryPagingInfo class</h1>

<p>This class provides properties and methods to obtain information about ROM and RAM paging.
Though it works with ZX Spectrum 48K model, it provides benefits only for higher models.</p>

<p><strong>Namespace</strong>: <code class="highlighter-rouge">Spect.Net.SpectrumEmu.Scripting</code><br />
<strong>Assembly</strong>: <code class="highlighter-rouge">Spect.Net.SpectrumEmu</code></p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>public sealed class MemoryPagingInfo
</code></pre></div></div>

<h2 id="selectedromindex">SelectedRomIndex</h2>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>public int SelectedRomIndex { get; }
</code></pre></div></div>

<p>Gets the index of the currently selected ROM.</p>

<h2 id="selectedrambankindex">SelectedRamBankIndex</h2>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>public int SelectedRamBankIndex { get; }
</code></pre></div></div>

<p>Gets the index of the selecter RAM bank for the <code class="highlighter-rouge">#C000</code>-<code class="highlighter-rouge">#FFFF</code> address range.</p>

<h2 id="getbankindexforslotint">GetBankIndexForSlot(int)</h2>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>public int GetBankIndexForSlot(int slot)
</code></pre></div></div>

<p>Gets the RAM bank index for the specified <em><code class="highlighter-rouge">slot</code></em>.</p>

<blockquote>
  <p>There are four slots, for the pages starting at <code class="highlighter-rouge">#0000</code>, <code class="highlighter-rouge">#4000</code>, <code class="highlighter-rouge">#8000</code>, and <code class="highlighter-rouge">#C000</code>, respectively.
Slot index should be set accordingly, from <code class="highlighter-rouge">0</code> to <code class="highlighter-rouge">3</code>.</p>
</blockquote>

<h2 id="usesshadowscreen">UsesShadowScreen</h2>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>public bool UsesShadowScreen { get; }
</code></pre></div></div>

<p>Indicates if the virtual machine uses the shadow screen (Bit 3 of port #7FFD). If false, the normal
screen (Bank #5) is used. If true, the shadow screen (Bank #7) is displayed.</p>

<h2 id="isinallrammode">IsInAllRamMode</h2>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>public bool IsInAllRamMode { get; }
</code></pre></div></div>

<p>Indicates if the virtul machine (ZX Spectrum +3E and ZX Spectrum Next) machine is
in the special ALL RAM mode (Bit 0 of port #1FFD).</p>

<h1 id="the-memoryslice-class">The MemorySlice class</h1>

<p>This class represents a slice of the memory in the Spectrum virtual machine. Right now, it is used to
represent the contents of a RAM bank.</p>

<p><strong>Namespace</strong>: <code class="highlighter-rouge">Spect.Net.SpectrumEmu.Scripting</code><br />
<strong>Assembly</strong>: <code class="highlighter-rouge">Spect.Net.SpectrumEmu</code></p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>public sealed class MemorySlice
</code></pre></div></div>

<h2 id="size">Size</h2>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>public int Size { get; }
</code></pre></div></div>

<p>The size of the memory slice, given in number of bytes.</p>

<h2 id="thisint">this[int]</h2>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>public byte this[int index] { get; set; }
</code></pre></div></div>

<p>You can get and set the byte at the <em><code class="highlighter-rouge">index</code></em> position in the memory slice.</p>

<blockquote>
  <p>Be aware, <em><code class="highlighter-rouge">index</code></em> is not the absolute memory address of the byte, but a relative address from <code class="highlighter-rouge">0</code> to
<code class="highlighter-rouge">Size - 1</code>. For RAM banks, <code class="highlighter-rouge">Size</code> is <code class="highlighter-rouge">#4000</code>, thus you can address bytes from <code class="highlighter-rouge">0</code> to <code class="highlighter-rouge">#3FFF</code>.</p>
</blockquote>

<h1 id="the-readonlymemoryslice-class">The ReadOnlyMemorySlice class</h1>

<p>This class represents a read-only slice of the memory in the Spectrum virtual machine. Right now, it is used to
represent the contents of a ROM pages.</p>

<p><strong>Namespace</strong>: <code class="highlighter-rouge">Spect.Net.SpectrumEmu.Scripting</code><br />
<strong>Assembly</strong>: <code class="highlighter-rouge">Spect.Net.SpectrumEmu</code></p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>public sealed class ReadOnlyMemorySlice
</code></pre></div></div>

<h2 id="size-1">Size</h2>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>public int Size { get; }
</code></pre></div></div>

<p>The size of the memory slice, given in number of bytes.</p>

<h2 id="thisint-1">this[int]</h2>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>public byte this[int index] { get; }
</code></pre></div></div>

<p>You can get the byte at the <em><code class="highlighter-rouge">index</code></em> position in the memory slice. As the name of the class suggest,
you cannot change the contents of a read-only memory slice.</p>

<blockquote>
  <p>Be aware, <em><code class="highlighter-rouge">index</code></em> is not the absolute memory address of the byte, but a relative address from <code class="highlighter-rouge">0</code> to
<code class="highlighter-rouge">Size - 1</code>. For RAM banks, <code class="highlighter-rouge">Size</code> is <code class="highlighter-rouge">#4000</code>, thus you can address bytes from <code class="highlighter-rouge">0</code> to <code class="highlighter-rouge">#3FFF</code>.</p>
</blockquote>

<h1 id="the-spectrummemorycontents-class">The SpectrumMemoryContents class</h1>

<p>This class provides access to the addressable 64KBytes memory contents of the Spectrum virtual machine.
An instance of the class allows reading and writeng the memory.</p>

<p><strong>Namespace</strong>: <code class="highlighter-rouge">Spect.Net.SpectrumEmu.Scripting</code><br />
<strong>Assembly</strong>: <code class="highlighter-rouge">Spect.Net.SpectrumEmu</code></p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>public sealed class SpectrumMemoryContents
</code></pre></div></div>

<h2 id="thisushort">this[ushort]</h2>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>public byte this[ushort address] { get; set; }
</code></pre></div></div>

<p>Gets or sets the contents of the specified <em><code class="highlighter-rouge">address</code></em>. Setting the content behaves as
in the real hardware: if you try to set a ROM address, the contents of the particular
memory address won’t change after the write operation.</p>

<h2 id="readtrackingstate">ReadTrackingState</h2>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>public AddressTrackingState ReadTrackingState { get; }
</code></pre></div></div>

<p>The property’s value is an <a href="/kliveide/documents/scripting-z80.html#the-addresstrackingstate-class"><code class="highlighter-rouge">AddressTrackingState</code></a> 
instance. It provides a bit for each memory address in the <code class="highlighter-rouge">#0000</code>-<code class="highlighter-rouge">#FFFF</code> range to check if the 
particular byte in the memory has been read during a CPU operation.</p>

<h2 id="resetreadtracking">ResetReadTracking()</h2>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>public void ResetReadTracking()
</code></pre></div></div>

<p>Resets the <code class="highlighter-rouge">ReadTrackingState</code> property as if no memory had been read.</p>

<h2 id="writetrackingstate">WriteTrackingState</h2>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>public AddressTrackingState WriteTrackingState { get; }
</code></pre></div></div>

<p>The property’s value is an <a href="/kliveide/documents/scripting-z80.html#the-addresstrackingstate-class"><code class="highlighter-rouge">AddressTrackingState</code></a> 
instance. It provides a bit for each memory address in the <code class="highlighter-rouge">#0000</code>-<code class="highlighter-rouge">#FFFF</code> range to check if the 
particular byte in the memory has been written during a CPU operation.</p>

<h2 id="resetwritetracking">ResetWriteTracking()</h2>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>public void ResetWriteTracking()
</code></pre></div></div>

<p>Resets the <code class="highlighter-rouge">WriteTrackingState</code> property as if no memory had been read.</p>

            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Footer  -->
    <div class="ui vertical stripe segment with-header-back">
        <footer class="ui container">
          <p>&copy; Istvan Novak, 2020</p>
        </footer>
      </div>
  
    <!-- Floating return to top button -->
    <a href="javascript:" id="return-to-top">
      <span>
        <svg width="32" height="24" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 10 16">
          <path d="M10 10l-1.5 1.5L5 7.75 1.5 11.5 0 10l5-5z"/>
        </svg>
      </span>
    </a>
    
    <!-- Floating go to previous button -->
    <a href="/kliveide/documents/scripting-screen#article" id="go-to-prev">
      <span>
        <svg width="32" height="24" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 10 16" transform="rotate(-90)">
          <path d="M10 10l-1.5 1.5L5 7.75 1.5 11.5 0 10l5-5z"/>
        </svg>
      </span>
    </a>
    
    
    <!-- Floating go to next button -->
    <a href="/kliveide/documents/scripting-audio#article" id="go-to-next">
      <span>
        <svg width="32" height="24" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 10 16" transform="rotate(90)">
          <path d="M10 10l-1.5 1.5L5 7.75 1.5 11.5 0 10l5-5z"/>
        </svg>
      </span>
    </a>
    

    <script>
      window.addEventListener("scroll", function(){
        var scrolled = window.pageYOffset > 50;
        document.getElementById("return-to-top").style.display = scrolled ? "block" : "none";
        var prevEl = document.getElementById("go-to-prev");
        if (prevEl) prevEl.style.display = scrolled ? "block" : "none";
        var nextEl = document.getElementById("go-to-next");
        if (nextEl) nextEl.style.display = scrolled ? "block" : "none";
      });
      var intervalId = 0;
      var $scrollButton = document.querySelector('#return-to-top');
      function scrollStep() {
        if (window.pageYOffset === 0) {
          clearInterval(intervalId);
        }
        window.scroll(0, window.pageYOffset - 50);
      }
      function scrollToTop() {
        intervalId = setInterval(scrollStep, 6.66);
      }
      $scrollButton.addEventListener('click', scrollToTop);

      function handleClick(arg) {
        var nextEl = arg.nextElementSibling;
        var extEl = arg.children[1];
        if (arg.classList.contains("expanded")) {
          arg.classList.remove("expanded");
          arg.classList.add("collapsed");
          extEl.classList.remove("expanded");
          extEl.classList.add("collapsed");
          nextEl.classList.remove("displayed")
          nextEl.classList.add("hidden")
        } else {
          arg.classList.remove("collapsed");
          arg.classList.add("expanded");
          extEl.classList.remove("collapsed");
          extEl.classList.add("expanded");
          nextEl.classList.remove("hidden")
          nextEl.classList.add("displayed")
        }
      }
    </script>

    
  </body>
</html>