<!DOCTYPE html>
<html lang="en-US">

  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width,maximum-scale=2">
    <link rel="stylesheet" type="text/css" media="screen" href="/kliveide/assets/css/semantic.min.css">
    <link rel="stylesheet" type="text/css" media="screen" href="/kliveide/assets/css/style.css">
    <link href="https://fonts.googleapis.com/css?family=Roboto:400,700&amp;subset=latin-ext" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Roboto+Condensed:400,700&amp;subset=latin-ext" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Ubuntu+Mono:400,700&amp;subset=latin-ext" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Lato:300,300i,400,400i,700,700i" rel="stylesheet">

    <!-- Begin Jekyll SEO tag v2.5.0 -->
<title>Z80 Instructions | Klive IDE</title>
<meta name="generator" content="Jekyll v3.8.5" />
<meta property="og:title" content="Z80 Instructions" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="SpectNetIDE implements Every officially documented Z80 instruction as well as the non-official ones. During the implementation I used ClrHome.org as a reference." />
<meta property="og:description" content="SpectNetIDE implements Every officially documented Z80 instruction as well as the non-official ones. During the implementation I used ClrHome.org as a reference." />
<link rel="canonical" href="http://localhost:4000/kliveide/documents/z80-instructions" />
<meta property="og:url" content="http://localhost:4000/kliveide/documents/z80-instructions" />
<meta property="og:site_name" content="Klive IDE" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2019-01-01T00:00:00+01:00" />
<script type="application/ld+json">
{"@type":"BlogPosting","headline":"Z80 Instructions","dateModified":"2019-01-01T00:00:00+01:00","datePublished":"2019-01-01T00:00:00+01:00","url":"http://localhost:4000/kliveide/documents/z80-instructions","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/kliveide/documents/z80-instructions"},"description":"SpectNetIDE implements Every officially documented Z80 instruction as well as the non-official ones. During the implementation I used ClrHome.org as a reference.","@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->

  </head>

  <body>

    <!-- Header -->
    <div class="ui vertical stripe segment with-header-back">
      <div class="ui container high">
        <h1 class="ui header">Klive IDE</h1>
        <h3 class="ui header">Full-fledged ZX Spectrum IDE with Electron, VS Code</h2>
      </div>
    </div>

    <!-- Menu -->
    <div class="ui vertical stripe segment with-menu-back">
      <div class="ui container">
        <div class="ui menu with-menu-back">
          <a class="item" href="/kliveide/">Home</a>
          <a class=" item" href="/kliveide/getting-started/install-kliveide.html">Getting Started</a>
          <a class=" active  item" href="/kliveide/documents/main-features.html">Documents</a>
          <a class="item" href="/kliveide/spectrum/basic-toc.html">ZX Spectrum</a>
          <a class="item" target="_blank" href="https://github.com/Dotneteer/kliveide">GitHub</a>
        </div>
      </div>
    </div>

    <div class="ui vertical stripe segment with-content-back">
      <div class="ui container">
        <div class="ui grid">
          <div class="three wide computer sixteen wide mobile column">
            <div class="document-list">
              
              
              
              
              
                
                  
                  
                  
                  
                  <div class="document-category  expanded " onclick="handleClick(this)">
                    <span class="category-name">Z80 Assembler</span>
                    <div class="extender  expanded ">
                      <svg width="24" height="24" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 10 16" >
                        <path d="M10 10l-1.5 1.5L5 7.75 1.5 11.5 0 10l5-5z" />
                      </svg>
                    </div>
                  </div>
                  <div class="article-names  displayed ">
                  
                    
                  
                    
                    <a id="main-features" class="" href="/kliveide/documents/main-features#article">Main Features</a>
                      
                      
                      
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                    <a id="how-assembler-works" class="" href="/kliveide/documents/how-assembler-works#article">How the assembler works</a>
                      
                      
                      
                    
                  
                    
                  
                    
                  
                    
                    <a id="language-structure" class="" href="/kliveide/documents/language-structure#article">Language structure</a>
                      
                      
                      
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                    <a id="labels" class="" href="/kliveide/documents/labels-and-symbols#article">Labels and Symbols</a>
                      
                      
                      
                    
                  
                    
                  
                    
                    <a id="expressions" class="" href="/kliveide/documents/expressions#article">Expressions</a>
                      
                      
                      
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                    <a id="instructions" class=" active " href="/kliveide/documents/z80-instructions#article">Z80 Instructions</a>
                      
                      
                      
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                    <a id="pragmas" class="" href="/kliveide/documents/pragmas#article">Pragmas</a>
                      
                      
                      
                    
                  
                    
                  
                    
                    <a id="statements" class="" href="/kliveide/documents/statements#article">Statements</a>
                      
                      
                      
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                    <a id="macros" class="" href="/kliveide/documents/macros#article">Macros</a>
                      
                      
                      
                    
                  
                    
                  
                    
                    <a id="directives" class="" href="/kliveide/documents/directives#article">Directives</a>
                      
                      
                      
                    
                  
                    
                  
                    
                    <a id="modules" class="" href="/kliveide/documents/modules#article">Modules</a>
                      
                      
                      
                    
                  
                    
                  
                    
                    <a id="structs" class="" href="/kliveide/documents/structs#article">Structures</a>
                      
                      
                      
                    
                  
                    
                    <a id="assembler-output" class="" href="/kliveide/documents/assembler-output#article">Assembler Output</a>
                      
                      
                      
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                  </div>
                  
                
                  
                  
                  
                  
                
                  
                  
                  
                  
                  <div class="document-category  collapsed " onclick="handleClick(this)">
                    <span class="category-name">Tool Commands</span>
                    <div class="extender  collapsed ">
                      <svg width="24" height="24" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 10 16" >
                        <path d="M10 10l-1.5 1.5L5 7.75 1.5 11.5 0 10l5-5z" />
                      </svg>
                    </div>
                  </div>
                  <div class="article-names  hidden ">
                  
                    
                  
                    
                  
                    
                  
                    
                    <a id="tool-overview" class="" href="/kliveide/documents/tool-overview#article">Overview</a>
                      
                      
                      
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                    <a id="memory-commands" class="" href="/kliveide/documents/common-commands#article">Common Commands</a>
                      
                      
                      
                    
                  
                    
                  
                    
                  
                    
                  
                    
                    <a id="memory-section-commands" class="" href="/kliveide/documents/memory-section-commands#article">Disassembly: Memory Sections</a>
                      
                      
                      
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                    <a id="annotation-commands" class="" href="/kliveide/documents/annotation-commands#article">Disassembly: Annotations</a>
                      
                      
                      
                    
                  
                    
                    <a id="breakpoint-commands" class="" href="/kliveide/documents/breakpoint-commands#article">Disassembly: Breakpoints</a>
                      
                      
                      
                    
                  
                    
                  
                    
                  
                    
                  
                    
                    <a id="miscellaneous-commands" class="" href="/kliveide/documents/miscellaneous-commands#article">Disassembly: Miscellaneous</a>
                      
                      
                      
                    
                  
                    
                    <a id="watch-commands" class="" href="/kliveide/documents/tape-explorer-commands#article">Tape Explorer Commands</a>
                      
                      
                      
                    
                  
                    
                  
                    
                    <a id="watch-commands" class="" href="/kliveide/documents/watch-commands#article">Watch Commands</a>
                      
                      
                      
                    
                  
                    
                  
                    
                  
                    
                  
                    
                    <a id="watch-expressions" class="" href="/kliveide/documents/watch-expressions#article">Watch Expressions</a>
                      
                      
                      
                    
                  
                    
                  
                    
                  
                    
                    <a id="watch-samples" class="" href="/kliveide/documents/watch-samples#article">Watch Samples</a>
                      
                      
                      
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                  </div>
                  
                
                  
                  
                  
                  
                
                  
                  
                  
                  
                  <div class="document-category  collapsed " onclick="handleClick(this)">
                    <span class="category-name">Scripting</span>
                    <div class="extender  collapsed ">
                      <svg width="24" height="24" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 10 16" >
                        <path d="M10 10l-1.5 1.5L5 7.75 1.5 11.5 0 10l5-5z" />
                      </svg>
                    </div>
                  </div>
                  <div class="article-names  hidden ">
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                    <a id="scripting-overview" class="" href="/kliveide/documents/scripting-overview#article">Overview</a>
                      
                      
                      
                    
                  
                    
                  
                    
                  
                    
                    <a id="scripting-object-model" class="" href="/kliveide/documents/scripting-object-model#article">Scripting Object Model</a>
                      
                      
                      
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                    <a id="scripting-vms" class="" href="/kliveide/documents/scripting-vms#article">Managing Virtual machines</a>
                      
                      
                      
                    
                  
                    
                  
                    
                  
                    
                  
                    
                    <a id="scripting-z80" class="" href="/kliveide/documents/scripting-z80#article">Scripting the Z80 CPU</a>
                      
                      
                      
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                    <a id="scripting-screen" class="" href="/kliveide/documents/scripting-screen#article">Scripting the Screen</a>
                      
                      
                      
                    
                  
                    
                  
                    
                  
                    
                  
                    
                    <a id="scripting-memory" class="" href="/kliveide/documents/scripting-memory#article">Scripting the Memory</a>
                      
                      
                      
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                    <a id="scripting-audio" class="" href="/kliveide/documents/scripting-audio#article">Scripting the Audio</a>
                      
                      
                      
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                  </div>
                  
                
                  
                  
                  
                  
                  <div class="document-category  collapsed " onclick="handleClick(this)">
                    <span class="category-name">Unit Testing</span>
                    <div class="extender  collapsed ">
                      <svg width="24" height="24" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 10 16" >
                        <path d="M10 10l-1.5 1.5L5 7.75 1.5 11.5 0 10l5-5z" />
                      </svg>
                    </div>
                  </div>
                  <div class="article-names  hidden ">
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                    <a id="unit-testing-basics" class="" href="/kliveide/documents/unit-testing-basics#article">Syntax Basics</a>
                      
                      
                      
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                    <a id="unit-testing-expressions" class="" href="/kliveide/documents/unit-testing-expressions#article">Expressions</a>
                      
                      
                      
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                    <a id="unit-testing-details" class="" href="/kliveide/documents/unit-testing-details#article">Detailed Syntax</a>
                      
                      
                      
                    
                  
                    
                  
                    
                  
                    
                  
                    
                    <a id="unit-testing-process" class="" href="/kliveide/documents/unit-testing-process#article">The Testing Process</a>
                      
                      
                      
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                  </div>
                  
                
                  
                  
                  
                  
                
            </div>
          </div>
          <div class="thirteen wide computer sixteen wide mobile column with-main-back">
            <div id="#article" class="main-title-area">
              <h1>Z80 Assembler &raquo; Z80 Instructions</h1>
            </div>
            <div class="main-content-area">
              <p><strong>SpectNetIDE</strong> implements Every officially documented Z80 instruction as well as the 
non-official ones. During the implementation I used <a href="http://clrhome.org/table/">ClrHome.org</a>
as a reference.</p>

<p>Z80 instructions may start with a label. Labels are identifiers that can be terminated by an
optional colon (<code class="highlighter-rouge">:</code>). Both labels in these samples are accepted by the compiler:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Start: ld b,#f0
Wait   djnz Wait
</code></pre></div></div>

<h2 id="z80-mnemonics">Z80 Mnemonics</h2>

<p>The compiler accepts these mnemonics:</p>

<p><code class="highlighter-rouge">ADC</code>, <code class="highlighter-rouge">ADD</code>, <code class="highlighter-rouge">AND</code>, <code class="highlighter-rouge">BIT</code>, <code class="highlighter-rouge">CALL</code>, <code class="highlighter-rouge">CCF</code>, <code class="highlighter-rouge">CP</code>, <code class="highlighter-rouge">CPD</code>,
<code class="highlighter-rouge">CPDR</code>, <code class="highlighter-rouge">CPI</code>, <code class="highlighter-rouge">CPIR</code>, <code class="highlighter-rouge">CPL</code>, <code class="highlighter-rouge">DAA</code>, <code class="highlighter-rouge">DEC</code>, <code class="highlighter-rouge">DI</code>, <code class="highlighter-rouge">DJNZ</code>,
<code class="highlighter-rouge">EI</code>, <code class="highlighter-rouge">EX</code>, <code class="highlighter-rouge">EXX</code>, <code class="highlighter-rouge">HALT</code>, <code class="highlighter-rouge">IM</code>, <code class="highlighter-rouge">IN</code>, <code class="highlighter-rouge">INC</code>, <code class="highlighter-rouge">IND</code>,
<code class="highlighter-rouge">INDR</code>, <code class="highlighter-rouge">INI</code>, <code class="highlighter-rouge">INIR</code>, <code class="highlighter-rouge">JP</code>, <code class="highlighter-rouge">JR</code>, <code class="highlighter-rouge">LD</code>, <code class="highlighter-rouge">LDD</code>, <code class="highlighter-rouge">LDDR</code>, <code class="highlighter-rouge">LDDRX</code>*, <code class="highlighter-rouge">LDDX</code>*, 
<code class="highlighter-rouge">LDI</code>, <code class="highlighter-rouge">LDIR</code>, <code class="highlighter-rouge">LDIRSCALE</code>*, <code class="highlighter-rouge">LDIRX</code>*, <code class="highlighter-rouge">LDIX</code>*, <code class="highlighter-rouge">LDPIRX</code>*, <code class="highlighter-rouge">MIRROR</code>*, <code class="highlighter-rouge">MUL</code>*, <code class="highlighter-rouge">NEG</code>, 
<code class="highlighter-rouge">NEXTREG</code>*, <code class="highlighter-rouge">NOP</code>, <code class="highlighter-rouge">OR</code>, <code class="highlighter-rouge">OTDR</code>, <code class="highlighter-rouge">OTIR</code>, <code class="highlighter-rouge">OUT</code>, <code class="highlighter-rouge">OUTINB</code>*,
<code class="highlighter-rouge">OUTD</code>, <code class="highlighter-rouge">OUTI</code>, <code class="highlighter-rouge">PIXELAD</code>*, <code class="highlighter-rouge">PIXELDN</code>*, <code class="highlighter-rouge">POP</code>, <code class="highlighter-rouge">PUSH</code>, <code class="highlighter-rouge">RES</code>, <code class="highlighter-rouge">RET</code>, <code class="highlighter-rouge">RETI</code>, <code class="highlighter-rouge">RETN</code>,
<code class="highlighter-rouge">RL</code>, <code class="highlighter-rouge">RLA</code>, <code class="highlighter-rouge">RLC</code>, <code class="highlighter-rouge">RLCA</code>, <code class="highlighter-rouge">RLD</code>, <code class="highlighter-rouge">RR</code>, <code class="highlighter-rouge">RRA</code>, <code class="highlighter-rouge">RRC</code>,
<code class="highlighter-rouge">RRCA</code>, <code class="highlighter-rouge">RRD</code>, <code class="highlighter-rouge">RST</code>, <code class="highlighter-rouge">SBC</code>, <code class="highlighter-rouge">SCF</code>, <code class="highlighter-rouge">SET</code>, <code class="highlighter-rouge">SETAE</code>*, <code class="highlighter-rouge">SLA</code>, <code class="highlighter-rouge">SLL</code>
<code class="highlighter-rouge">SRA</code>, <code class="highlighter-rouge">SRL</code>, <code class="highlighter-rouge">SUB</code>, <code class="highlighter-rouge">SWAPNIB</code>*, <code class="highlighter-rouge">TEST</code>*, <code class="highlighter-rouge">XOR</code>.</p>

<blockquote>
  <p>The instructions marked with * can be used only with the ZX Spectrum Next model.</p>
</blockquote>

<h2 id="z80-registers">Z80 Registers</h2>

<p>The compiler uses the standard 8-bit and 16-bit register names, as specified in the official 
Zilog Z80 documentation:</p>

<ul>
  <li>8-bit registers: <code class="highlighter-rouge">A</code>, <code class="highlighter-rouge">B</code>, <code class="highlighter-rouge">C</code>, <code class="highlighter-rouge">D</code>, <code class="highlighter-rouge">E</code>, <code class="highlighter-rouge">H</code>, <code class="highlighter-rouge">L</code>, <code class="highlighter-rouge">I</code>, <code class="highlighter-rouge">R</code></li>
  <li>16-bit registers: <code class="highlighter-rouge">AF</code>, <code class="highlighter-rouge">BC</code>, <code class="highlighter-rouge">DE</code>, <code class="highlighter-rouge">HL</code>, <code class="highlighter-rouge">SP</code>, <code class="highlighter-rouge">IX</code>, <code class="highlighter-rouge">IY</code></li>
  <li>For the 8-bit halves of the <code class="highlighter-rouge">IX</code> and <code class="highlighter-rouge">IY</code> index registers, the compiler uses these names:
<code class="highlighter-rouge">XL</code>, <code class="highlighter-rouge">XH</code>, <code class="highlighter-rouge">YL</code>, <code class="highlighter-rouge">YH</code>. Alternatively, the compiler accepts these names, too: 
<code class="highlighter-rouge">IXL</code>, <code class="highlighter-rouge">IXH</code>, <code class="highlighter-rouge">IYL</code>, <code class="highlighter-rouge">IYH</code>. As a kind of exception to general naming conventions, 
these mixed-case names are also accepted: <code class="highlighter-rouge">IXl</code>, <code class="highlighter-rouge">IXh</code>, <code class="highlighter-rouge">IYl</code>, <code class="highlighter-rouge">IYh</code>.</li>
</ul>

<h2 id="jp-syntax">JP Syntax</h2>

<p>Z80 assemblers use two different syntax for the indirect <code class="highlighter-rouge">JP</code> statements:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>; Notation #1
jp hl
jp ix
jp iy

; Notation #2
jp (hl)
jp (ix)
jp (iy)
</code></pre></div></div>
<p>The <strong>SpectNetIDE</strong> compiler accepts both notation.</p>

<h2 id="alu-operations-syntax">ALU operations syntax</h2>

<p>Three standard ALU operations between <code class="highlighter-rouge">A</code> and other operands (<code class="highlighter-rouge">ADD</code>, <code class="highlighter-rouge">ADC</code>, and <code class="highlighter-rouge">SBC</code>) sign <code class="highlighter-rouge">A</code>
as their first operand:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>add a,b
adc a,(hl)
sbc a,e
</code></pre></div></div>

<p>Hovewer, the five other standard ALU operations between <code class="highlighter-rouge">A</code> and other operands (<code class="highlighter-rouge">SUB</code>, <code class="highlighter-rouge">AND</code>, <code class="highlighter-rouge">XOR</code>, 
<code class="highlighter-rouge">OR</code>, and <code class="highlighter-rouge">CP</code>) omit <code class="highlighter-rouge">A</code> from their notation:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sub e
and (hl)
xor e
or c
cp b
</code></pre></div></div>

<p>The <strong>SpectNetIDE</strong> compiler accepts the second group of ALU operations with using the explicit 
<code class="highlighter-rouge">A</code> operand, too:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sub a,e
and a,(hl)
xor a,e
or a,c
cp a,b
</code></pre></div></div>

            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Footer  -->
    <div class="ui vertical stripe segment with-header-back">
        <footer class="ui container">
          <p>&copy; Istvan Novak, 2020</p>
        </footer>
      </div>
  
    <!-- Floating return to top button -->
    <a href="javascript:" id="return-to-top">
      <span>
        <svg width="32" height="24" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 10 16">
          <path d="M10 10l-1.5 1.5L5 7.75 1.5 11.5 0 10l5-5z"/>
        </svg>
      </span>
    </a>
    
    <!-- Floating go to previous button -->
    <a href="/kliveide/documents/expressions#article" id="go-to-prev">
      <span>
        <svg width="32" height="24" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 10 16" transform="rotate(-90)">
          <path d="M10 10l-1.5 1.5L5 7.75 1.5 11.5 0 10l5-5z"/>
        </svg>
      </span>
    </a>
    
    
    <!-- Floating go to next button -->
    <a href="/kliveide/documents/pragmas#article" id="go-to-next">
      <span>
        <svg width="32" height="24" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 10 16" transform="rotate(90)">
          <path d="M10 10l-1.5 1.5L5 7.75 1.5 11.5 0 10l5-5z"/>
        </svg>
      </span>
    </a>
    

    <script>
      window.addEventListener("scroll", function(){
        var scrolled = window.pageYOffset > 50;
        document.getElementById("return-to-top").style.display = scrolled ? "block" : "none";
        var prevEl = document.getElementById("go-to-prev");
        if (prevEl) prevEl.style.display = scrolled ? "block" : "none";
        var nextEl = document.getElementById("go-to-next");
        if (nextEl) nextEl.style.display = scrolled ? "block" : "none";
      });
      var intervalId = 0;
      var $scrollButton = document.querySelector('#return-to-top');
      function scrollStep() {
        if (window.pageYOffset === 0) {
          clearInterval(intervalId);
        }
        window.scroll(0, window.pageYOffset - 50);
      }
      function scrollToTop() {
        intervalId = setInterval(scrollStep, 6.66);
      }
      $scrollButton.addEventListener('click', scrollToTop);

      function handleClick(arg) {
        var nextEl = arg.nextElementSibling;
        var extEl = arg.children[1];
        if (arg.classList.contains("expanded")) {
          arg.classList.remove("expanded");
          arg.classList.add("collapsed");
          extEl.classList.remove("expanded");
          extEl.classList.add("collapsed");
          nextEl.classList.remove("displayed")
          nextEl.classList.add("hidden")
        } else {
          arg.classList.remove("collapsed");
          arg.classList.add("expanded");
          extEl.classList.remove("collapsed");
          extEl.classList.add("expanded");
          nextEl.classList.remove("hidden")
          nextEl.classList.add("displayed")
        }
      }
    </script>

    
  </body>
</html>