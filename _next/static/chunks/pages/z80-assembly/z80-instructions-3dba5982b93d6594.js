(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[268],{7555:function(e,s,l){(window.__NEXT_P=window.__NEXT_P||[]).push(["/z80-assembly/z80-instructions",function(){return l(9875)}])},9875:function(e,s,l){"use strict";l.r(s),l.d(s,{__toc:function(){return t}});var n=l(5893),c=l(2673),d=l(7758),i=l(3911);l(9128);var r=l(2643);let t=[{depth:2,value:"Z80 Mnemonics",id:"z80-mnemonics"},{depth:2,value:"Z80 Registers",id:"z80-registers"},{depth:2,value:"JP Syntax",id:"jp-syntax"},{depth:2,value:"ALU operations syntax",id:"alu-operations-syntax"}];function _createMdxContent(e){let s=Object.assign({h1:"h1",p:"p",a:"a",code:"code",pre:"pre",span:"span",h2:"h2",blockquote:"blockquote",strong:"strong",ul:"ul",li:"li"},(0,r.a)(),e.components);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(s.h1,{children:"Accepted Z80 Instructions"}),"\n",(0,n.jsxs)(s.p,{children:["The Klive Assembler implements every officially documented Z80 instruction as well as the non-official ones. During the implementation, the ",(0,n.jsx)(s.a,{href:"http://clrhome.org/table/",children:"ClrHome.org"})," was used as a reference."]}),"\n",(0,n.jsxs)(s.p,{children:["Z80 instructions may start with a label. Labels are identifiers that can be terminated by an optional colon (",(0,n.jsx)(s.code,{children:":"}),"). The compiler accepts both labels in these samples:"]}),"\n",(0,n.jsx)(s.pre,{"data-language":"text","data-theme":"default",children:(0,n.jsxs)(s.code,{"data-language":"text","data-theme":"default",children:[(0,n.jsx)(s.span,{className:"line",children:(0,n.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"Start: ld b,#f0"})}),"\n",(0,n.jsx)(s.span,{className:"line",children:(0,n.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"Wait   djnz Wait"})})]})}),"\n",(0,n.jsx)(s.h2,{id:"z80-mnemonics",children:"Z80 Mnemonics"}),"\n",(0,n.jsx)(s.p,{children:"The compiler accepts these mnemonics:"}),"\n",(0,n.jsxs)(s.p,{children:[(0,n.jsx)(s.code,{children:"ADC"}),", ",(0,n.jsx)(s.code,{children:"ADD"}),", ",(0,n.jsx)(s.code,{children:"AND"}),", ",(0,n.jsx)(s.code,{children:"BIT"}),", ",(0,n.jsx)(s.code,{children:"CALL"}),", ",(0,n.jsx)(s.code,{children:"CCF"}),", ",(0,n.jsx)(s.code,{children:"CP"}),", ",(0,n.jsx)(s.code,{children:"CPD"}),",\n",(0,n.jsx)(s.code,{children:"CPDR"}),", ",(0,n.jsx)(s.code,{children:"CPI"}),", ",(0,n.jsx)(s.code,{children:"CPIR"}),", ",(0,n.jsx)(s.code,{children:"CPL"}),", ",(0,n.jsx)(s.code,{children:"DAA"}),", ",(0,n.jsx)(s.code,{children:"DEC"}),", ",(0,n.jsx)(s.code,{children:"DI"}),", ",(0,n.jsx)(s.code,{children:"DJNZ"}),",\n",(0,n.jsx)(s.code,{children:"EI"}),", ",(0,n.jsx)(s.code,{children:"EX"}),", ",(0,n.jsx)(s.code,{children:"EXX"}),", ",(0,n.jsx)(s.code,{children:"HALT"}),", ",(0,n.jsx)(s.code,{children:"IM"}),", ",(0,n.jsx)(s.code,{children:"IN"}),", ",(0,n.jsx)(s.code,{children:"INC"}),", ",(0,n.jsx)(s.code,{children:"IND"}),",\n",(0,n.jsx)(s.code,{children:"INDR"}),", ",(0,n.jsx)(s.code,{children:"INI"}),", ",(0,n.jsx)(s.code,{children:"INIR"}),", ",(0,n.jsx)(s.code,{children:"JP"}),", ",(0,n.jsx)(s.code,{children:"JR"}),", ",(0,n.jsx)(s.code,{children:"LD"}),", ",(0,n.jsx)(s.code,{children:"LDD"}),", ",(0,n.jsx)(s.code,{children:"LDDR"}),", ",(0,n.jsx)(s.code,{children:"LDDRX"}),"*, ",(0,n.jsx)(s.code,{children:"LDDX"}),"*,\n",(0,n.jsx)(s.code,{children:"LDI"}),", ",(0,n.jsx)(s.code,{children:"LDIR"}),", ",(0,n.jsx)(s.code,{children:"LDIRSCALE"}),"*, ",(0,n.jsx)(s.code,{children:"LDIRX"}),"*, ",(0,n.jsx)(s.code,{children:"LDIX"}),"*, ",(0,n.jsx)(s.code,{children:"LDPIRX"}),"*, ",(0,n.jsx)(s.code,{children:"MIRROR"}),"*, ",(0,n.jsx)(s.code,{children:"MUL"}),"*, ",(0,n.jsx)(s.code,{children:"NEG"}),",\n",(0,n.jsx)(s.code,{children:"NEXTREG"}),"*, ",(0,n.jsx)(s.code,{children:"NOP"}),", ",(0,n.jsx)(s.code,{children:"OR"}),", ",(0,n.jsx)(s.code,{children:"OTDR"}),", ",(0,n.jsx)(s.code,{children:"OTIR"}),", ",(0,n.jsx)(s.code,{children:"OUT"}),", ",(0,n.jsx)(s.code,{children:"OUTINB"}),"*,\n",(0,n.jsx)(s.code,{children:"OUTD"}),", ",(0,n.jsx)(s.code,{children:"OUTI"}),", ",(0,n.jsx)(s.code,{children:"PIXELAD"}),"*, ",(0,n.jsx)(s.code,{children:"PIXELDN"}),"*, ",(0,n.jsx)(s.code,{children:"POP"}),", ",(0,n.jsx)(s.code,{children:"PUSH"}),", ",(0,n.jsx)(s.code,{children:"RES"}),", ",(0,n.jsx)(s.code,{children:"RET"}),", ",(0,n.jsx)(s.code,{children:"RETI"}),", ",(0,n.jsx)(s.code,{children:"RETN"}),",\n",(0,n.jsx)(s.code,{children:"RL"}),", ",(0,n.jsx)(s.code,{children:"RLA"}),", ",(0,n.jsx)(s.code,{children:"RLC"}),", ",(0,n.jsx)(s.code,{children:"RLCA"}),", ",(0,n.jsx)(s.code,{children:"RLD"}),", ",(0,n.jsx)(s.code,{children:"RR"}),", ",(0,n.jsx)(s.code,{children:"RRA"}),", ",(0,n.jsx)(s.code,{children:"RRC"}),",\n",(0,n.jsx)(s.code,{children:"RRCA"}),", ",(0,n.jsx)(s.code,{children:"RRD"}),", ",(0,n.jsx)(s.code,{children:"RST"}),", ",(0,n.jsx)(s.code,{children:"SBC"}),", ",(0,n.jsx)(s.code,{children:"SCF"}),", ",(0,n.jsx)(s.code,{children:"SET"}),", ",(0,n.jsx)(s.code,{children:"SETAE"}),"*, ",(0,n.jsx)(s.code,{children:"SLA"}),", ",(0,n.jsx)(s.code,{children:"SLL"}),"\n",(0,n.jsx)(s.code,{children:"SRA"}),", ",(0,n.jsx)(s.code,{children:"SRL"}),", ",(0,n.jsx)(s.code,{children:"SUB"}),", ",(0,n.jsx)(s.code,{children:"SWAPNIB"}),"*, ",(0,n.jsx)(s.code,{children:"TEST"}),"*, ",(0,n.jsx)(s.code,{children:"XOR"}),"."]}),"\n",(0,n.jsxs)(s.blockquote,{children:["\n",(0,n.jsxs)(s.p,{children:[(0,n.jsx)(s.strong,{children:"Note"}),": The instructions marked with * can be used only with the ZX Spectrum Next model."]}),"\n"]}),"\n",(0,n.jsx)(s.h2,{id:"z80-registers",children:"Z80 Registers"}),"\n",(0,n.jsx)(s.p,{children:"The compiler uses the standard 8-bit and 16-bit register names, as specified in the official\nZilog Z80 documentation:"}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsxs)(s.li,{children:["8-bit registers: ",(0,n.jsx)(s.code,{children:"A"}),", ",(0,n.jsx)(s.code,{children:"B"}),", ",(0,n.jsx)(s.code,{children:"C"}),", ",(0,n.jsx)(s.code,{children:"D"}),", ",(0,n.jsx)(s.code,{children:"E"}),", ",(0,n.jsx)(s.code,{children:"H"}),", ",(0,n.jsx)(s.code,{children:"L"}),", ",(0,n.jsx)(s.code,{children:"I"}),", ",(0,n.jsx)(s.code,{children:"R"})]}),"\n",(0,n.jsxs)(s.li,{children:["16-bit registers: ",(0,n.jsx)(s.code,{children:"AF"}),", ",(0,n.jsx)(s.code,{children:"BC"}),", ",(0,n.jsx)(s.code,{children:"DE"}),", ",(0,n.jsx)(s.code,{children:"HL"}),", ",(0,n.jsx)(s.code,{children:"SP"}),", ",(0,n.jsx)(s.code,{children:"IX"}),", ",(0,n.jsx)(s.code,{children:"IY"})]}),"\n",(0,n.jsxs)(s.li,{children:["For the 8-bit halves of the ",(0,n.jsx)(s.code,{children:"IX"})," and ",(0,n.jsx)(s.code,{children:"IY"})," index registers, the compiler uses these names: ",(0,n.jsx)(s.code,{children:"XL"}),", ",(0,n.jsx)(s.code,{children:"XH"}),", ",(0,n.jsx)(s.code,{children:"YL"}),", ",(0,n.jsx)(s.code,{children:"YH"}),". Alternatively, the compiler accepts these names, too: ",(0,n.jsx)(s.code,{children:"IXL"}),", ",(0,n.jsx)(s.code,{children:"IXH"}),", ",(0,n.jsx)(s.code,{children:"IYL"}),", ",(0,n.jsx)(s.code,{children:"IYH"}),". As a kind of exception to general naming conventions, these mixed-case names are also accepted: ",(0,n.jsx)(s.code,{children:"IXl"}),", ",(0,n.jsx)(s.code,{children:"IXh"}),", ",(0,n.jsx)(s.code,{children:"IYl"}),", ",(0,n.jsx)(s.code,{children:"IYh"}),"."]}),"\n"]}),"\n",(0,n.jsx)(s.h2,{id:"jp-syntax",children:"JP Syntax"}),"\n",(0,n.jsxs)(s.p,{children:["Z80 assemblers use two different syntax constructs for the indirect ",(0,n.jsx)(s.code,{children:"JP"})," statements:"]}),"\n",(0,n.jsx)(s.pre,{"data-language":"text","data-theme":"default",children:(0,n.jsxs)(s.code,{"data-language":"text","data-theme":"default",children:[(0,n.jsx)(s.span,{className:"line",children:(0,n.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"; Notation #1"})}),"\n",(0,n.jsx)(s.span,{className:"line",children:(0,n.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"jp hl"})}),"\n",(0,n.jsx)(s.span,{className:"line",children:(0,n.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"jp ix"})}),"\n",(0,n.jsx)(s.span,{className:"line",children:(0,n.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"jp iy"})}),"\n",(0,n.jsx)(s.span,{className:"line",children:(0,n.jsx)(s.span,{style:{color:"var(--shiki-color-text)"}})}),"\n",(0,n.jsx)(s.span,{className:"line",children:(0,n.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"; Notation #2"})}),"\n",(0,n.jsx)(s.span,{className:"line",children:(0,n.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"jp (hl)"})}),"\n",(0,n.jsx)(s.span,{className:"line",children:(0,n.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"jp (ix)"})}),"\n",(0,n.jsx)(s.span,{className:"line",children:(0,n.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"jp (iy)"})})]})}),"\n",(0,n.jsx)(s.p,{children:"The Klive Assembler accepts both notations."}),"\n",(0,n.jsx)(s.h2,{id:"alu-operations-syntax",children:"ALU operations syntax"}),"\n",(0,n.jsxs)(s.p,{children:["Three standard ALU operations between ",(0,n.jsx)(s.code,{children:"A"})," and other operands (",(0,n.jsx)(s.code,{children:"ADD"}),", ",(0,n.jsx)(s.code,{children:"ADC"}),", and ",(0,n.jsx)(s.code,{children:"SBC"}),") sign ",(0,n.jsx)(s.code,{children:"A"}),"\nas their first operand:"]}),"\n",(0,n.jsx)(s.pre,{"data-language":"text","data-theme":"default",children:(0,n.jsxs)(s.code,{"data-language":"text","data-theme":"default",children:[(0,n.jsx)(s.span,{className:"line",children:(0,n.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"add a,b"})}),"\n",(0,n.jsx)(s.span,{className:"line",children:(0,n.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"adc a,(hl)"})}),"\n",(0,n.jsx)(s.span,{className:"line",children:(0,n.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"sbc a,e"})})]})}),"\n",(0,n.jsxs)(s.p,{children:["However, the five other standard ALU operations between ",(0,n.jsx)(s.code,{children:"A"})," and other operands (",(0,n.jsx)(s.code,{children:"SUB"}),", ",(0,n.jsx)(s.code,{children:"AND"}),", ",(0,n.jsx)(s.code,{children:"XOR"}),",\n",(0,n.jsx)(s.code,{children:"OR"}),", and ",(0,n.jsx)(s.code,{children:"CP"}),") omit ",(0,n.jsx)(s.code,{children:"A"})," from their notation:"]}),"\n",(0,n.jsx)(s.pre,{"data-language":"text","data-theme":"default",children:(0,n.jsxs)(s.code,{"data-language":"text","data-theme":"default",children:[(0,n.jsx)(s.span,{className:"line",children:(0,n.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"sub e"})}),"\n",(0,n.jsx)(s.span,{className:"line",children:(0,n.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"and (hl)"})}),"\n",(0,n.jsx)(s.span,{className:"line",children:(0,n.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"xor e"})}),"\n",(0,n.jsx)(s.span,{className:"line",children:(0,n.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"or c"})}),"\n",(0,n.jsx)(s.span,{className:"line",children:(0,n.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"cp b"})})]})}),"\n",(0,n.jsxs)(s.p,{children:["The ",(0,n.jsx)(s.strong,{children:"Klive"})," compiler accepts the second group of ALU operations using the explicit ",(0,n.jsx)(s.code,{children:"A"})," operand, too:"]}),"\n",(0,n.jsx)(s.pre,{"data-language":"text","data-theme":"default",children:(0,n.jsxs)(s.code,{"data-language":"text","data-theme":"default",children:[(0,n.jsx)(s.span,{className:"line",children:(0,n.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"sub a,e"})}),"\n",(0,n.jsx)(s.span,{className:"line",children:(0,n.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"and a,(hl)"})}),"\n",(0,n.jsx)(s.span,{className:"line",children:(0,n.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"xor a,e"})}),"\n",(0,n.jsx)(s.span,{className:"line",children:(0,n.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"or a,c"})}),"\n",(0,n.jsx)(s.span,{className:"line",children:(0,n.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"cp a,b"})})]})})]})}function MDXContent(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:s}=Object.assign({},(0,r.a)(),e.components);return s?(0,n.jsx)(s,{...e,children:(0,n.jsx)(_createMdxContent,{...e})}):_createMdxContent(e)}let a={MDXContent,pageOpts:{filePath:"pages/z80-assembly/z80-instructions.mdx",route:"/z80-assembly/z80-instructions",pageMap:[{kind:"Meta",data:{index:"Introduction","getting-started":"Getting Started","z80-assembly":"Klive Z80 Assembler"}},{kind:"Folder",name:"getting-started",route:"/getting-started",children:[{kind:"Meta",data:{installation:"Installing Klive"}},{kind:"MdxPage",name:"installation",route:"/getting-started/installation"}]},{kind:"MdxPage",name:"index",route:"/"},{kind:"Folder",name:"z80-assembly",route:"/z80-assembly",children:[{kind:"Meta",data:{"z80-assembler":"Assembler Overview","language-structure":"Language Structure",expressions:"Expressions","z80-instructions":"Z80 Instructions",pragmas:"Pragmas",statements:"Assembler Statements",macros:"Macros",structs:"Structs"}},{kind:"MdxPage",name:"expressions",route:"/z80-assembly/expressions"},{kind:"MdxPage",name:"language-structure",route:"/z80-assembly/language-structure"},{kind:"MdxPage",name:"macros",route:"/z80-assembly/macros"},{kind:"MdxPage",name:"pragmas",route:"/z80-assembly/pragmas"},{kind:"MdxPage",name:"statements",route:"/z80-assembly/statements"},{kind:"MdxPage",name:"structs",route:"/z80-assembly/structs"},{kind:"MdxPage",name:"z80-assembler",route:"/z80-assembly/z80-assembler"},{kind:"MdxPage",name:"z80-instructions",route:"/z80-assembly/z80-instructions"}]}],flexsearch:{codeblocks:!0},title:"Accepted Z80 Instructions",headings:t},pageNextRoute:"/z80-assembly/z80-instructions",nextraLayout:d.ZP,themeConfig:i.Z};s.default=(0,c.j)(a)},3911:function(e,s,l){"use strict";l.d(s,{Z:function(){return c}});var n=l(5893);l(7294);var c={logo:(0,n.jsx)(()=>(0,n.jsxs)("svg",{width:"118",height:"50",viewBox:"0 0 294 124",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,n.jsx)("rect",{width:"100%",height:"100%",fill:"#000"}),(0,n.jsx)("rect",{width:"100%",height:"100%",stroke:"black",strokeWidth:4}),(0,n.jsx)("rect",{x:12,y:0,width:7,height:"100%",fill:"#007acc"}),(0,n.jsx)("path",{d:"M 293 103 l -21 21 l -21 0 l 42 -42",fill:"#0ff"}),(0,n.jsx)("path",{d:"M 293 82 l -42 42 l -21 0 l 63 -63",fill:"#0f0"}),(0,n.jsx)("path",{d:"M 293 61 l -63 63 l -21 0 l 84 -84",fill:"#ff0"}),(0,n.jsx)("path",{d:"M 293 40 l -84 84 l -21 0 l 105 -105",fill:"#f00"}),(0,n.jsx)("path",{d:"M 41 12 l 0 42 l 7 0 l 0 -42 M 48 26 l 14 0 l 0 7 l -14 0 M 62 19 l 7 0 l 0 7 l -7 0 M 69 12 l 7 0 l 0 7 l -7 0 M 62 33 l 7 0 l 0 7 l -7 0 M 69 40 l 7 0 l 0 7 l -7 0 M 76 47 l 7 0 l 0 7 l -7 0",fill:"#e0e0e0"}),(0,n.jsx)("path",{d:"M 90 12 l 0 42 l 35 0 l 0 -7 l -28 0 l 0 -35",fill:"#e0e0e0"}),(0,n.jsx)("path",{d:"M 139 12 l 35 0 l 0 7 l -14 0 l 0 28 l 14 0 l 0 7 l -35 0 l 0 -7 l 14 0 l 0 -28 l -14 0",fill:"#e0e0e0"}),(0,n.jsx)("path",{d:"M 190 12 l 0 28 l 7 0 l 0 -28 M 195 40 l 7 0 l 0 7 l -7 0 M 202 47 l 14 0 l 0 7 l -14 0 M 216 40 l 7 0 l 0 7 l -7 0 M 223 12 l 0 28 l 7 0 l 0 -28",fill:"#e0e0e0"}),(0,n.jsx)("path",{d:"M 237 12 l 0 42 l 42 0 l 0 -7 l -35 0 l 0 -14 l 28 0 l 0 -7 l -28 0 l 0 -7 l 35 0 l 0 -7",fill:"#e0e0e0"}),(0,n.jsx)("path",{d:"M 56 68 l 7 0 l 0 7 l -7 0 M 49 82 l 14 0 l 0 21 l 7 0 l 0 7 l -21 0 l 0 -7 l 7 0 l 0 -14 l -7 0",fill:"#e0e0e0"}),(0,n.jsx)("path",{d:"M 119 68 l 7 0 l 0 42 l -28 0 l 0 -7 l 21 0 M 119 82 l -21 0 l 0 7 l 21 0 M 98 89 l 0 14 l -7 0 l 0 -14",fill:"#e0e0e0"}),(0,n.jsx)("path",{d:"M 147 75 l 21 0 l 0 7 l -21 0 M 140 82 l 0 21 l 7 0 l 0 -21 M 147 103 l 28 0 l 0 7 l -28 0 M 168 82 l 7 0 l 0 7 l -7 0 M 147 89 l 21 0 l 0 7 l -21 0",fill:"#e0e0e0"}),(0,n.jsx)("defs",{children:(0,n.jsxs)("linearGradient",{id:"paint0_linear_2790_21058",x1:"11.9663",y1:"6.54545",x2:"22.5351",y2:"22.5385",gradientUnits:"userSpaceOnUse",children:[(0,n.jsx)("stop",{stopColor:"#D62400"}),(0,n.jsx)("stop",{offset:"1",stopColor:"#A02020"})]})})]}),{}),logoLink:"https://dotneteer.github.io/kliveide",editLink:{text:null},feedback:{content:null},project:{link:"https://github.com/dotneteer/kliveide"}}}},function(e){e.O(0,[774,546,888,179],function(){return e(e.s=7555)}),_N_E=e.O()}]);