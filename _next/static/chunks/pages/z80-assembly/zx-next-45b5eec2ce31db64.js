(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1074],{3508:(e,s,n)=>{"use strict";n.r(s),n.d(s,{default:()=>c,useTOC:()=>t});var l=n(7876),r=n(1807),o=n(8964),i=n(9707);function t(e){let s={code:"code",...(0,i.R)()};return[{value:"Quick Start",id:"quick-start",depth:2},{value:(0,l.jsxs)(l.Fragment,{children:["Automatic Conveniences for ",(0,l.jsx)(s.code,{children:".model next"})]}),id:"automatic-conveniences-for-model-next",depth:2},{value:(0,l.jsxs)(l.Fragment,{children:["Default ",(0,l.jsx)(s.code,{children:".savenex"})," Values"]}),id:"default-savenex-values",depth:3},{value:"Unbanked Code (Automatic Bank 2 Mapping)",id:"unbanked-code-automatic-bank-2-mapping",depth:3},{value:"Address Range Warning (Z0904)",id:"address-range-warning-z0904",depth:3},{value:"Multiple Unbanked Sections",id:"multiple-unbanked-sections",depth:3},{value:"Multi-Bank Applications",id:"multi-bank-applications",depth:2},{value:"How Multi-Bank Code Works",id:"how-multi-bank-code-works",depth:3},{value:"Overview",id:"overview",depth:2},{value:"Subcommands",id:"subcommands",depth:2},{value:"FILE - Set Output Filename",id:"file---set-output-filename",depth:3},{value:"RAM - Set RAM Configuration",id:"ram---set-ram-configuration",depth:3},{value:"BORDER - Set Border Color",id:"border---set-border-color",depth:3},{value:"CORE - Specify Required Core Version",id:"core---specify-required-core-version",depth:3},{value:"STACKADDR - Set Stack Pointer Address",id:"stackaddr---set-stack-pointer-address",depth:3},{value:"ENTRYADDR - Set Entry Point Address",id:"entryaddr---set-entry-point-address",depth:3},{value:"ENTRYBANK - Set Entry Bank",id:"entrybank---set-entry-bank",depth:3},{value:"FILEHANDLE - Set File Handle Mode",id:"filehandle---set-file-handle-mode",depth:3},{value:"PRESERVE - Preserve Next Registers",id:"preserve---preserve-next-registers",depth:3},{value:"SCREEN - Configure Loading Screen",id:"screen---configure-loading-screen",depth:3},{value:"PALETTE - Set Palette File",id:"palette---set-palette-file",depth:3},{value:"COPPER - Set Copper Code File",id:"copper---set-copper-code-file",depth:3},{value:"BAR - Configure Loading Bar",id:"bar---configure-loading-bar",depth:3},{value:"NEX File Format",id:"nex-file-format",depth:2},{value:"NEX File Version",id:"nex-file-version",depth:3},{value:"Bank Organization",id:"bank-organization",depth:3},{value:"How Unbanked Code Maps to Bank 2",id:"how-unbanked-code-maps-to-bank-2",depth:3},{value:"Loading Process",id:"loading-process",depth:3},{value:"Default Values",id:"default-values",depth:2},{value:(0,l.jsxs)(l.Fragment,{children:["With ",(0,l.jsx)(s.code,{children:".model next"})," (Automatic Conveniences)"]}),id:"with-model-next-automatic-conveniences",depth:3},{value:(0,l.jsxs)(l.Fragment,{children:["Without ",(0,l.jsx)(s.code,{children:".model next"})," (Traditional Mode)"]}),id:"without-model-next-traditional-mode",depth:3},{value:"Error Handling",id:"error-handling",depth:2},{value:"Notes",id:"notes",depth:2},{value:"See Also",id:"see-also",depth:2}]}let c=(0,r.e)(function(e){let{toc:s=t(e)}=e,n={a:"a",blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",h3:"h3",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",span:"span",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.h1,{children:"ZX Spectrum Next Development"}),"\n",(0,l.jsxs)(n.p,{children:["The ZX Spectrum Next assembler in Klive IDE provides a comprehensive development environment for the ZX Spectrum Next platform. This page covers all Next-specific features, including automatic conveniences, the ",(0,l.jsx)(n.code,{children:".savenex"})," pragma, and NEX file generation."]}),"\n",(0,l.jsx)(n.h2,{id:s[0].id,children:s[0].value}),"\n",(0,l.jsx)(n.p,{children:"The simplest ZX Spectrum Next program in Klive IDE looks like this:"}),"\n",(0,l.jsx)(n.pre,{tabIndex:"0","data-language":"z80klive","data-word-wrap":"",children:(0,l.jsxs)(n.code,{children:[(0,l.jsxs)(n.span,{children:[(0,l.jsx)(n.span,{style:{color:"#C586C0"},children:".model"}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:" "}),(0,l.jsx)(n.span,{style:{color:"#C586C0",fontWeight:"bold"},children:"next"})]}),"\n",(0,l.jsx)(n.span,{children:" "}),"\n",(0,l.jsxs)(n.span,{children:[(0,l.jsx)(n.span,{style:{color:"#C586C0"},children:".savenex"}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:" "}),(0,l.jsx)(n.span,{style:{color:"#B5890F"},children:"file"}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:" "}),(0,l.jsx)(n.span,{style:{color:"#CD3131"},children:'"myapp.nex"'})]}),"\n",(0,l.jsx)(n.span,{children:" "}),"\n",(0,l.jsx)(n.span,{children:(0,l.jsx)(n.span,{style:{color:"#6A9955"},children:"; Your code starts at $8000 automatically"})}),"\n",(0,l.jsxs)(n.span,{children:[(0,l.jsx)(n.span,{style:{color:"#B5890F"},children:"main"}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4",fontWeight:"bold"},children:":"})]}),"\n",(0,l.jsxs)(n.span,{children:[(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:"    "}),(0,l.jsx)(n.span,{style:{color:"#569CD6",fontWeight:"bold"},children:"ld"}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:" "}),(0,l.jsx)(n.span,{style:{color:"#2B7CB3"},children:"a"}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:", "}),(0,l.jsx)(n.span,{style:{color:"#4D8061"},children:"4"})]}),"\n",(0,l.jsxs)(n.span,{children:[(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:"    "}),(0,l.jsx)(n.span,{style:{color:"#569CD6",fontWeight:"bold"},children:"out"}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:" ("}),(0,l.jsx)(n.span,{style:{color:"#4D8061"},children:"0xFE"}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:"), "}),(0,l.jsx)(n.span,{style:{color:"#2B7CB3"},children:"a"}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:"    "}),(0,l.jsx)(n.span,{style:{color:"#6A9955"},children:"; Set border color to green"})]}),"\n",(0,l.jsxs)(n.span,{children:[(0,l.jsx)(n.span,{style:{color:"#B5890F"},children:"trap"}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4",fontWeight:"bold"},children:":"}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:" "})]}),"\n",(0,l.jsxs)(n.span,{children:[(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:"    "}),(0,l.jsx)(n.span,{style:{color:"#569CD6",fontWeight:"bold"},children:"jr"}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:" $"})]})]})}),"\n",(0,l.jsxs)(n.p,{children:["When you use ",(0,l.jsx)(n.code,{children:".model next"}),", Klive automatically:"]}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Sets ",(0,l.jsx)(n.code,{children:".savenex ram 768"})," (768K RAM)"]}),"\n",(0,l.jsxs)(n.li,{children:["Sets ",(0,l.jsx)(n.code,{children:".savenex border 7"})," (white border)"]}),"\n",(0,l.jsxs)(n.li,{children:["Sets ",(0,l.jsx)(n.code,{children:".savenex entryaddr $8000"})," (entry at $8000)"]}),"\n",(0,l.jsx)(n.li,{children:"Maps unbanked code to bank 2 at address $8000"}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:s[1].id,children:s[1].value}),"\n",(0,l.jsx)(n.h3,{id:s[2].id,children:s[2].value}),"\n",(0,l.jsxs)(n.p,{children:["When ",(0,l.jsx)(n.code,{children:".model next"})," is specified, these defaults are automatically applied:"]}),"\n",(0,l.jsxs)(n.table,{children:[(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"Parameter"}),(0,l.jsx)(n.th,{children:"Default Value"}),(0,l.jsx)(n.th,{children:"Description"})]})}),(0,l.jsxs)(n.tbody,{children:[(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"ram"})}),(0,l.jsx)(n.td,{children:"768"}),(0,l.jsx)(n.td,{children:"768K RAM configuration"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"border"})}),(0,l.jsx)(n.td,{children:"7"}),(0,l.jsx)(n.td,{children:"White border color"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"entryaddr"})}),(0,l.jsx)(n.td,{children:"$8000"}),(0,l.jsx)(n.td,{children:"Entry point at $8000"})]})]})]}),"\n",(0,l.jsxs)(n.p,{children:["You can override any default by explicitly specifying the ",(0,l.jsx)(n.code,{children:".savenex"})," pragma:"]}),"\n",(0,l.jsx)(n.pre,{tabIndex:"0","data-language":"z80klive","data-word-wrap":"",children:(0,l.jsxs)(n.code,{children:[(0,l.jsxs)(n.span,{children:[(0,l.jsx)(n.span,{style:{color:"#C586C0"},children:".model"}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:" "}),(0,l.jsx)(n.span,{style:{color:"#C586C0",fontWeight:"bold"},children:"next"})]}),"\n",(0,l.jsx)(n.span,{children:" "}),"\n",(0,l.jsxs)(n.span,{children:[(0,l.jsx)(n.span,{style:{color:"#C586C0"},children:".savenex"}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:" "}),(0,l.jsx)(n.span,{style:{color:"#B5890F"},children:"file"}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:" "}),(0,l.jsx)(n.span,{style:{color:"#CD3131"},children:'"myapp.nex"'})]}),"\n",(0,l.jsxs)(n.span,{children:[(0,l.jsx)(n.span,{style:{color:"#C586C0"},children:".savenex"}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:" "}),(0,l.jsx)(n.span,{style:{color:"#B5890F"},children:"border"}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:" "}),(0,l.jsx)(n.span,{style:{color:"#4D8061"},children:"5"}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:"        "}),(0,l.jsx)(n.span,{style:{color:"#6A9955"},children:"; Override default (use cyan instead of white)"})]}),"\n",(0,l.jsxs)(n.span,{children:[(0,l.jsx)(n.span,{style:{color:"#C586C0"},children:".savenex"}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:" "}),(0,l.jsx)(n.span,{style:{color:"#B5890F"},children:"ram"}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:" "}),(0,l.jsx)(n.span,{style:{color:"#4D8061"},children:"1792"}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:"        "}),(0,l.jsx)(n.span,{style:{color:"#6A9955"},children:"; Override default (use 1792K instead of 768K)"})]}),"\n",(0,l.jsx)(n.span,{children:" "}),"\n",(0,l.jsx)(n.span,{children:(0,l.jsx)(n.span,{style:{color:"#6A9955"},children:"; Code..."})})]})}),"\n",(0,l.jsx)(n.h3,{id:s[3].id,children:s[3].value}),"\n",(0,l.jsxs)(n.p,{children:["When you write code without an explicit ",(0,l.jsx)(n.code,{children:".bank"})," pragma, it’s considered “unbanked” code and automatically:"]}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Starts at $8000"})," - The default assembly address is $8000"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Maps to Bank 2"})," - During NEX export, unbanked code is written to bank 2"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Uses the range $8000-$bfff"})," - The standard 16KB bank 2 address range"]}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Example - Simple unbanked program:"})}),"\n",(0,l.jsx)(n.pre,{tabIndex:"0","data-language":"z80klive","data-word-wrap":"",children:(0,l.jsxs)(n.code,{children:[(0,l.jsxs)(n.span,{children:[(0,l.jsx)(n.span,{style:{color:"#C586C0"},children:".model"}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:" "}),(0,l.jsx)(n.span,{style:{color:"#C586C0",fontWeight:"bold"},children:"next"})]}),"\n",(0,l.jsx)(n.span,{children:" "}),"\n",(0,l.jsxs)(n.span,{children:[(0,l.jsx)(n.span,{style:{color:"#C586C0"},children:".savenex"}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:" "}),(0,l.jsx)(n.span,{style:{color:"#B5890F"},children:"file"}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:" "}),(0,l.jsx)(n.span,{style:{color:"#CD3131"},children:'"simple.nex"'})]}),"\n",(0,l.jsx)(n.span,{children:" "}),"\n",(0,l.jsx)(n.span,{children:(0,l.jsx)(n.span,{style:{color:"#6A9955"},children:"; This code is unbanked - automatically starts at $8000 and maps to bank 2"})}),"\n",(0,l.jsxs)(n.span,{children:[(0,l.jsx)(n.span,{style:{color:"#B5890F"},children:"main"}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4",fontWeight:"bold"},children:":"})]}),"\n",(0,l.jsxs)(n.span,{children:[(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:"    "}),(0,l.jsx)(n.span,{style:{color:"#569CD6",fontWeight:"bold"},children:"ld"}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:" "}),(0,l.jsx)(n.span,{style:{color:"#2B7CB3"},children:"a"}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:", "}),(0,l.jsx)(n.span,{style:{color:"#4D8061"},children:"3"})]}),"\n",(0,l.jsxs)(n.span,{children:[(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:"    "}),(0,l.jsx)(n.span,{style:{color:"#569CD6",fontWeight:"bold"},children:"call"}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:" "}),(0,l.jsx)(n.span,{style:{color:"#B5890F"},children:"setborder"})]}),"\n",(0,l.jsxs)(n.span,{children:[(0,l.jsx)(n.span,{style:{color:"#B5890F"},children:"trap"}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4",fontWeight:"bold"},children:":"})]}),"\n",(0,l.jsxs)(n.span,{children:[(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:"    "}),(0,l.jsx)(n.span,{style:{color:"#569CD6",fontWeight:"bold"},children:"jr"}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:" $"})]}),"\n",(0,l.jsx)(n.span,{children:" "}),"\n",(0,l.jsxs)(n.span,{children:[(0,l.jsx)(n.span,{style:{color:"#B5890F"},children:"setborder"}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4",fontWeight:"bold"},children:":"})]}),"\n",(0,l.jsxs)(n.span,{children:[(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:"    "}),(0,l.jsx)(n.span,{style:{color:"#569CD6",fontWeight:"bold"},children:"out"}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:" ("}),(0,l.jsx)(n.span,{style:{color:"#4D8061"},children:"0xFE"}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:"), "}),(0,l.jsx)(n.span,{style:{color:"#2B7CB3"},children:"a"})]}),"\n",(0,l.jsxs)(n.span,{children:[(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:"    "}),(0,l.jsx)(n.span,{style:{color:"#569CD6",fontWeight:"bold"},children:"ret"})]})]})}),"\n",(0,l.jsx)(n.h3,{id:s[4].id,children:s[4].value}),"\n",(0,l.jsx)(n.p,{children:"The assembler warns you if unbanked code exceeds the typical bank 2 range ($bfff):"}),"\n",(0,l.jsx)(n.pre,{tabIndex:"0","data-language":"z80klive","data-word-wrap":"",children:(0,l.jsxs)(n.code,{children:[(0,l.jsxs)(n.span,{children:[(0,l.jsx)(n.span,{style:{color:"#C586C0"},children:".model"}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:" "}),(0,l.jsx)(n.span,{style:{color:"#C586C0",fontWeight:"bold"},children:"next"})]}),"\n",(0,l.jsx)(n.span,{children:" "}),"\n",(0,l.jsxs)(n.span,{children:[(0,l.jsx)(n.span,{style:{color:"#C586C0"},children:".savenex"}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:" "}),(0,l.jsx)(n.span,{style:{color:"#B5890F"},children:"file"}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:" "}),(0,l.jsx)(n.span,{style:{color:"#CD3131"},children:'"test.nex"'})]}),"\n",(0,l.jsx)(n.span,{children:" "}),"\n",(0,l.jsxs)(n.span,{children:[(0,l.jsx)(n.span,{style:{color:"#C586C0"},children:".org"}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:" "}),(0,l.jsx)(n.span,{style:{color:"#4D8061"},children:"$c000"}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:"              "}),(0,l.jsx)(n.span,{style:{color:"#6A9955"},children:"; ⚠️ Warning Z0904: Address $c000 exceeds $bfff"})]}),"\n",(0,l.jsxs)(n.span,{children:[(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:"    "}),(0,l.jsx)(n.span,{style:{color:"#569CD6",fontWeight:"bold"},children:"ld"}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:" "}),(0,l.jsx)(n.span,{style:{color:"#2B7CB3"},children:"a"}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:", "}),(0,l.jsx)(n.span,{style:{color:"#4D8061"},children:"7"})]}),"\n",(0,l.jsxs)(n.span,{children:[(0,l.jsx)(n.span,{style:{color:"#B5890F"},children:"trap"}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4",fontWeight:"bold"},children:":"})]}),"\n",(0,l.jsxs)(n.span,{children:[(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:"    "}),(0,l.jsx)(n.span,{style:{color:"#569CD6",fontWeight:"bold"},children:"jr"}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:" $"})]})]})}),"\n",(0,l.jsx)(n.p,{children:"The warning message is:"}),"\n",(0,l.jsx)(n.pre,{tabIndex:"0","data-language":"plaintext","data-word-wrap":"",children:(0,l.jsxs)(n.code,{children:[(0,l.jsx)(n.span,{children:(0,l.jsx)(n.span,{style:{color:"#a4a4a4"},children:"Warning Z0904: Unbanked code address $c000 exceeds typical bank 2 range ($8000-$bfff). "})}),"\n",(0,l.jsx)(n.span,{children:(0,l.jsx)(n.span,{style:{color:"#a4a4a4"},children:"Consider using .bank pragma for explicit memory layout."})})]})}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Note:"})," This is a warning, not an error. Your code will still compile and the NEX file will be generated, but you should review whether you intended to extend beyond the standard bank 2 range."]}),"\n",(0,l.jsx)(n.h3,{id:s[5].id,children:s[5].value}),"\n",(0,l.jsxs)(n.p,{children:["You can have multiple unbanked code sections at different addresses using ",(0,l.jsx)(n.code,{children:".org"}),":"]}),"\n",(0,l.jsx)(n.pre,{tabIndex:"0","data-language":"z80klive","data-word-wrap":"",children:(0,l.jsxs)(n.code,{children:[(0,l.jsxs)(n.span,{children:[(0,l.jsx)(n.span,{style:{color:"#C586C0"},children:".model"}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:" "}),(0,l.jsx)(n.span,{style:{color:"#C586C0",fontWeight:"bold"},children:"next"})]}),"\n",(0,l.jsx)(n.span,{children:" "}),"\n",(0,l.jsxs)(n.span,{children:[(0,l.jsx)(n.span,{style:{color:"#C586C0"},children:".savenex"}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:" "}),(0,l.jsx)(n.span,{style:{color:"#B5890F"},children:"file"}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:" "}),(0,l.jsx)(n.span,{style:{color:"#CD3131"},children:'"multi.nex"'})]}),"\n",(0,l.jsx)(n.span,{children:" "}),"\n",(0,l.jsx)(n.span,{children:(0,l.jsx)(n.span,{style:{color:"#6A9955"},children:"; First section at $8000"})}),"\n",(0,l.jsxs)(n.span,{children:[(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:"    "}),(0,l.jsx)(n.span,{style:{color:"#569CD6",fontWeight:"bold"},children:"ld"}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:" "}),(0,l.jsx)(n.span,{style:{color:"#2B7CB3"},children:"a"}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:", "}),(0,l.jsx)(n.span,{style:{color:"#4D8061"},children:"1"})]}),"\n",(0,l.jsxs)(n.span,{children:[(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:"    "}),(0,l.jsx)(n.span,{style:{color:"#569CD6",fontWeight:"bold"},children:"call"}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:" "}),(0,l.jsx)(n.span,{style:{color:"#B5890F"},children:"routine1"})]}),"\n",(0,l.jsx)(n.span,{children:" "}),"\n",(0,l.jsx)(n.span,{children:(0,l.jsx)(n.span,{style:{color:"#6A9955"},children:"; Second section at $9000"})}),"\n",(0,l.jsxs)(n.span,{children:[(0,l.jsx)(n.span,{style:{color:"#C586C0"},children:".org"}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:" "}),(0,l.jsx)(n.span,{style:{color:"#4D8061"},children:"$9000"})]}),"\n",(0,l.jsxs)(n.span,{children:[(0,l.jsx)(n.span,{style:{color:"#B5890F"},children:"routine1"}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4",fontWeight:"bold"},children:":"})]}),"\n",(0,l.jsxs)(n.span,{children:[(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:"    "}),(0,l.jsx)(n.span,{style:{color:"#569CD6",fontWeight:"bold"},children:"out"}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:" ("}),(0,l.jsx)(n.span,{style:{color:"#4D8061"},children:"0xFE"}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:"), "}),(0,l.jsx)(n.span,{style:{color:"#2B7CB3"},children:"a"})]}),"\n",(0,l.jsxs)(n.span,{children:[(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:"    "}),(0,l.jsx)(n.span,{style:{color:"#569CD6",fontWeight:"bold"},children:"ret"})]}),"\n",(0,l.jsx)(n.span,{children:" "}),"\n",(0,l.jsx)(n.span,{children:(0,l.jsx)(n.span,{style:{color:"#6A9955"},children:"; Third section at $a000"})}),"\n",(0,l.jsxs)(n.span,{children:[(0,l.jsx)(n.span,{style:{color:"#C586C0"},children:".org"}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:" "}),(0,l.jsx)(n.span,{style:{color:"#4D8061"},children:"$a000"})]}),"\n",(0,l.jsxs)(n.span,{children:[(0,l.jsx)(n.span,{style:{color:"#B5890F"},children:"routine2"}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4",fontWeight:"bold"},children:":"})]}),"\n",(0,l.jsxs)(n.span,{children:[(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:"    "}),(0,l.jsx)(n.span,{style:{color:"#569CD6",fontWeight:"bold"},children:"ld"}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:" "}),(0,l.jsx)(n.span,{style:{color:"#2B7CB3"},children:"a"}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:", "}),(0,l.jsx)(n.span,{style:{color:"#4D8061"},children:"2"})]}),"\n",(0,l.jsxs)(n.span,{children:[(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:"    "}),(0,l.jsx)(n.span,{style:{color:"#569CD6",fontWeight:"bold"},children:"ret"})]})]})}),"\n",(0,l.jsx)(n.p,{children:"All unbanked sections are collected and written to bank 2 in the NEX file at their respective addresses."}),"\n",(0,l.jsx)(n.h2,{id:s[6].id,children:s[6].value}),"\n",(0,l.jsxs)(n.p,{children:["For complex applications requiring multiple memory banks, use explicit ",(0,l.jsx)(n.code,{children:".bank"})," pragmas alongside unbanked code:"]}),"\n",(0,l.jsx)(n.pre,{tabIndex:"0","data-language":"z80klive","data-word-wrap":"",children:(0,l.jsxs)(n.code,{children:[(0,l.jsxs)(n.span,{children:[(0,l.jsx)(n.span,{style:{color:"#C586C0"},children:".model"}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:" "}),(0,l.jsx)(n.span,{style:{color:"#C586C0",fontWeight:"bold"},children:"next"})]}),"\n",(0,l.jsx)(n.span,{children:" "}),"\n",(0,l.jsxs)(n.span,{children:[(0,l.jsx)(n.span,{style:{color:"#C586C0"},children:".savenex"}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:" "}),(0,l.jsx)(n.span,{style:{color:"#B5890F"},children:"file"}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:" "}),(0,l.jsx)(n.span,{style:{color:"#CD3131"},children:'"screen-tests.nex"'})]}),"\n",(0,l.jsxs)(n.span,{children:[(0,l.jsx)(n.span,{style:{color:"#C586C0"},children:".savenex"}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:" "}),(0,l.jsx)(n.span,{style:{color:"#B5890F"},children:"core"}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:" "}),(0,l.jsx)(n.span,{style:{color:"#CD3131"},children:'"3.1.0"'})]}),"\n",(0,l.jsx)(n.span,{children:" "}),"\n",(0,l.jsx)(n.span,{children:(0,l.jsx)(n.span,{style:{color:"#6A9955"},children:"; Unbanked code in bank 2 at $8000"})}),"\n",(0,l.jsxs)(n.span,{children:[(0,l.jsx)(n.span,{style:{color:"#B5890F"},children:"main"}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4",fontWeight:"bold"},children:":"})]}),"\n",(0,l.jsxs)(n.span,{children:[(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:"    "}),(0,l.jsx)(n.span,{style:{color:"#6A9955"},children:"; "})]}),"\n",(0,l.jsxs)(n.span,{children:[(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:"    "}),(0,l.jsx)(n.span,{style:{color:"#6A9955"},children:"; Save the current MMU 5 value ($A000-$BFFF)"})]}),"\n",(0,l.jsxs)(n.span,{children:[(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:"    "}),(0,l.jsx)(n.span,{style:{color:"#569CD6",fontWeight:"bold"},children:"ld"}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:" "}),(0,l.jsx)(n.span,{style:{color:"#2B7CB3"},children:"a"}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:","}),(0,l.jsx)(n.span,{style:{color:"#4D8061"},children:"$55"})]}),"\n",(0,l.jsxs)(n.span,{children:[(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:"    "}),(0,l.jsx)(n.span,{style:{color:"#569CD6",fontWeight:"bold"},children:"ld"}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:" "}),(0,l.jsx)(n.span,{style:{color:"#2B7CB3"},children:"bc"}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:","}),(0,l.jsx)(n.span,{style:{color:"#4D8061"},children:"$243b"})]}),"\n",(0,l.jsxs)(n.span,{children:[(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:"    "}),(0,l.jsx)(n.span,{style:{color:"#569CD6",fontWeight:"bold"},children:"out"}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:" ("}),(0,l.jsx)(n.span,{style:{color:"#2B7CB3"},children:"c"}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:"),"}),(0,l.jsx)(n.span,{style:{color:"#2B7CB3"},children:"a"})]}),"\n",(0,l.jsxs)(n.span,{children:[(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:"    "}),(0,l.jsx)(n.span,{style:{color:"#569CD6",fontWeight:"bold"},children:"inc"}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:" "}),(0,l.jsx)(n.span,{style:{color:"#2B7CB3"},children:"b"})]}),"\n",(0,l.jsxs)(n.span,{children:[(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:"    "}),(0,l.jsx)(n.span,{style:{color:"#569CD6",fontWeight:"bold"},children:"in"}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:" "}),(0,l.jsx)(n.span,{style:{color:"#2B7CB3"},children:"a"}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:",("}),(0,l.jsx)(n.span,{style:{color:"#2B7CB3"},children:"c"}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:")"})]}),"\n",(0,l.jsxs)(n.span,{children:[(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:"    "}),(0,l.jsx)(n.span,{style:{color:"#569CD6",fontWeight:"bold"},children:"push"}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:" "}),(0,l.jsx)(n.span,{style:{color:"#2B7CB3"},children:"af"})]}),"\n",(0,l.jsxs)(n.span,{children:[(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:"    "}),(0,l.jsx)(n.span,{style:{color:"#6A9955"},children:";"})]}),"\n",(0,l.jsxs)(n.span,{children:[(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:"    "}),(0,l.jsx)(n.span,{style:{color:"#6A9955"},children:"; Page in the first 8K of 16K Bank $20 to $A000-$BFFF"})]}),"\n",(0,l.jsxs)(n.span,{children:[(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:"    "}),(0,l.jsx)(n.span,{style:{color:"#569CD6",fontWeight:"bold"},children:"di"})]}),"\n",(0,l.jsxs)(n.span,{children:[(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:"    "}),(0,l.jsx)(n.span,{style:{color:"#569CD6",fontWeight:"bold"},children:"nextreg"}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:" "}),(0,l.jsx)(n.span,{style:{color:"#4D8061"},children:"$55"}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:","}),(0,l.jsx)(n.span,{style:{color:"#4D8061"},children:"$40"})]}),"\n",(0,l.jsxs)(n.span,{children:[(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:"    "}),(0,l.jsx)(n.span,{style:{color:"#6A9955"},children:";"})]}),"\n",(0,l.jsxs)(n.span,{children:[(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:"    "}),(0,l.jsx)(n.span,{style:{color:"#6A9955"},children:"; Invoke the subrouting in Bank $20"})]}),"\n",(0,l.jsxs)(n.span,{children:[(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:"    "}),(0,l.jsx)(n.span,{style:{color:"#569CD6",fontWeight:"bold"},children:"call"}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:" "}),(0,l.jsx)(n.span,{style:{color:"#B5890F"},children:"SetBorder"})]}),"\n",(0,l.jsxs)(n.span,{children:[(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:"    "}),(0,l.jsx)(n.span,{style:{color:"#6A9955"},children:";"})]}),"\n",(0,l.jsxs)(n.span,{children:[(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:"    "}),(0,l.jsx)(n.span,{style:{color:"#6A9955"},children:"; Restore the old MMU 5 value"})]}),"\n",(0,l.jsxs)(n.span,{children:[(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:"    "}),(0,l.jsx)(n.span,{style:{color:"#569CD6",fontWeight:"bold"},children:"pop"}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:" "}),(0,l.jsx)(n.span,{style:{color:"#2B7CB3"},children:"af"})]}),"\n",(0,l.jsxs)(n.span,{children:[(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:"    "}),(0,l.jsx)(n.span,{style:{color:"#569CD6",fontWeight:"bold"},children:"nextreg"}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:" "}),(0,l.jsx)(n.span,{style:{color:"#4D8061"},children:"$55"}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:","}),(0,l.jsx)(n.span,{style:{color:"#2B7CB3"},children:"a"})]}),"\n",(0,l.jsxs)(n.span,{children:[(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:"    "}),(0,l.jsx)(n.span,{style:{color:"#569CD6",fontWeight:"bold"},children:"ei"})]}),"\n",(0,l.jsxs)(n.span,{children:[(0,l.jsx)(n.span,{style:{color:"#B5890F"},children:"trap"}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:" "})]}),"\n",(0,l.jsxs)(n.span,{children:[(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:"    "}),(0,l.jsx)(n.span,{style:{color:"#569CD6",fontWeight:"bold"},children:"jr"}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:" $"})]}),"\n",(0,l.jsx)(n.span,{children:" "}),"\n",(0,l.jsx)(n.span,{children:" "}),"\n",(0,l.jsx)(n.span,{children:(0,l.jsx)(n.span,{style:{color:"#6A9955"},children:"; Explicit bank $20 code"})}),"\n",(0,l.jsxs)(n.span,{children:[(0,l.jsx)(n.span,{style:{color:"#C586C0"},children:".bank"}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:" "}),(0,l.jsx)(n.span,{style:{color:"#4D8061"},children:"$20"})]}),"\n",(0,l.jsxs)(n.span,{children:[(0,l.jsx)(n.span,{style:{color:"#C586C0"},children:".org"}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:" "}),(0,l.jsx)(n.span,{style:{color:"#4D8061"},children:"$0000"})]}),"\n",(0,l.jsxs)(n.span,{children:[(0,l.jsx)(n.span,{style:{color:"#C586C0"},children:".disp"}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:" "}),(0,l.jsx)(n.span,{style:{color:"#4D8061"},children:"$a000"})]}),"\n",(0,l.jsx)(n.span,{children:" "}),"\n",(0,l.jsx)(n.span,{children:(0,l.jsx)(n.span,{style:{color:"#B5890F"},children:"SetBorder"})}),"\n",(0,l.jsxs)(n.span,{children:[(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:"    "}),(0,l.jsx)(n.span,{style:{color:"#569CD6",fontWeight:"bold"},children:"ld"}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:" "}),(0,l.jsx)(n.span,{style:{color:"#2B7CB3"},children:"a"}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:","}),(0,l.jsx)(n.span,{style:{color:"#4D8061"},children:"3"})]}),"\n",(0,l.jsxs)(n.span,{children:[(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:"    "}),(0,l.jsx)(n.span,{style:{color:"#569CD6",fontWeight:"bold"},children:"out"}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:" ("}),(0,l.jsx)(n.span,{style:{color:"#4D8061"},children:"$fe"}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:"),"}),(0,l.jsx)(n.span,{style:{color:"#2B7CB3"},children:"a"})]}),"\n",(0,l.jsxs)(n.span,{children:[(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:"    "}),(0,l.jsx)(n.span,{style:{color:"#569CD6",fontWeight:"bold"},children:"ret"})]})]})}),"\n",(0,l.jsx)(n.h3,{id:s[7].id,children:s[7].value}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Unbanked code"})," exports to ",(0,l.jsx)(n.strong,{children:"bank 2"})," at the addresses where it’s assembled ($8000-$bfff typically)"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsxs)(n.strong,{children:[(0,l.jsx)(n.code,{children:".bank"})," sections"]})," export to ",(0,l.jsx)(n.strong,{children:"their specified bank"})," (e.g., bank 5) at the addresses defined by ",(0,l.jsx)(n.code,{children:".org"})," and ",(0,l.jsx)(n.code,{children:".disp"})]}),"\n",(0,l.jsx)(n.li,{children:"Both can coexist in the same source file"}),"\n",(0,l.jsx)(n.li,{children:"Each bank section is independent"}),"\n"]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h1,{children:"SAVENEX Pragma Reference"}),"\n",(0,l.jsxs)(n.p,{children:["The ",(0,l.jsx)(n.code,{children:".savenex"})," pragma provides a declarative way to configure ZX Spectrum Next NEX file generation parameters directly in your assembly source code. This pragma is only available when targeting the ZX Spectrum Next (Model 4)."]}),"\n",(0,l.jsx)(n.h2,{id:s[8].id,children:s[8].value}),"\n",(0,l.jsxs)(n.p,{children:["The ",(0,l.jsx)(n.code,{children:".savenex"})," pragma uses a subcommand syntax where each subcommand configures a specific aspect of the NEX file. You can use multiple ",(0,l.jsx)(n.code,{children:".savenex"})," pragmas throughout your source code, and the compiler will collect and merge all declarations into a complete NEX file configuration."]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Syntax:"})}),"\n",(0,l.jsx)(n.pre,{tabIndex:"0","data-language":"z80klive","data-word-wrap":"",children:(0,l.jsx)(n.code,{children:(0,l.jsxs)(n.span,{children:[(0,l.jsx)(n.span,{style:{color:"#C586C0"},children:".savenex"}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:" "}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4",fontWeight:"bold"},children:"<"}),(0,l.jsx)(n.span,{style:{color:"#B5890F"},children:"subcommand"}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4",fontWeight:"bold"},children:">"}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:" "}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4",fontWeight:"bold"},children:"<"}),(0,l.jsx)(n.span,{style:{color:"#B5890F"},children:"parameters"}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4",fontWeight:"bold"},children:">"})]})})}),"\n",(0,l.jsxs)(n.p,{children:["The pragma is case-insensitive, so ",(0,l.jsx)(n.code,{children:".savenex"}),", ",(0,l.jsx)(n.code,{children:".SAVENEX"}),", and ",(0,l.jsx)(n.code,{children:".SaveNex"})," are all valid."]}),"\n",(0,l.jsx)(n.h2,{id:s[9].id,children:s[9].value}),"\n",(0,l.jsx)(n.h3,{id:s[10].id,children:s[10].value}),"\n",(0,l.jsx)(n.p,{children:"Specifies the name of the NEX file to be generated."}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Syntax:"})}),"\n",(0,l.jsx)(n.pre,{tabIndex:"0","data-language":"z80klive","data-word-wrap":"",children:(0,l.jsx)(n.code,{children:(0,l.jsxs)(n.span,{children:[(0,l.jsx)(n.span,{style:{color:"#C586C0"},children:".savenex"}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:" "}),(0,l.jsx)(n.span,{style:{color:"#B5890F"},children:"file"}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:" "}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4",fontWeight:"bold"},children:"<"}),(0,l.jsx)(n.span,{style:{color:"#B5890F"},children:"filename"}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4",fontWeight:"bold"},children:">"})]})})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"filename"}),": String literal or expression that evaluates to a string"]}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Example:"})}),"\n",(0,l.jsx)(n.pre,{tabIndex:"0","data-language":"z80klive","data-word-wrap":"",children:(0,l.jsx)(n.code,{children:(0,l.jsxs)(n.span,{children:[(0,l.jsx)(n.span,{style:{color:"#C586C0"},children:".savenex"}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:" "}),(0,l.jsx)(n.span,{style:{color:"#B5890F"},children:"file"}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:" "}),(0,l.jsx)(n.span,{style:{color:"#CD3131"},children:'"myprogram.nex"'})]})})}),"\n",(0,l.jsx)(n.h3,{id:s[11].id,children:s[11].value}),"\n",(0,l.jsx)(n.p,{children:"Specifies the amount of RAM required by the program."}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Syntax:"})}),"\n",(0,l.jsx)(n.pre,{tabIndex:"0","data-language":"z80klive","data-word-wrap":"",children:(0,l.jsx)(n.code,{children:(0,l.jsxs)(n.span,{children:[(0,l.jsx)(n.span,{style:{color:"#C586C0"},children:".savenex"}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:" "}),(0,l.jsx)(n.span,{style:{color:"#B5890F"},children:"ram"}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:" "}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4",fontWeight:"bold"},children:"<"}),(0,l.jsx)(n.span,{style:{color:"#B5890F"},children:"size"}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4",fontWeight:"bold"},children:">"})]})})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"size"}),": Must be either 768 (for 768K RAM) or 1792 (for 1792K RAM)"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsxs)(n.strong,{children:["Default when ",(0,l.jsx)(n.code,{children:".model next"})," is used"]}),": 768"]}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Examples:"})}),"\n",(0,l.jsx)(n.pre,{tabIndex:"0","data-language":"z80klive","data-word-wrap":"",children:(0,l.jsxs)(n.code,{children:[(0,l.jsxs)(n.span,{children:[(0,l.jsx)(n.span,{style:{color:"#C586C0"},children:".savenex"}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:" "}),(0,l.jsx)(n.span,{style:{color:"#B5890F"},children:"ram"}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:" "}),(0,l.jsx)(n.span,{style:{color:"#4D8061"},children:"768"}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:"    "}),(0,l.jsx)(n.span,{style:{color:"#6A9955"},children:"; 768K RAM (default for .model next)"})]}),"\n",(0,l.jsxs)(n.span,{children:[(0,l.jsx)(n.span,{style:{color:"#C586C0"},children:".savenex"}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:" "}),(0,l.jsx)(n.span,{style:{color:"#B5890F"},children:"ram"}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:" "}),(0,l.jsx)(n.span,{style:{color:"#4D8061"},children:"1792"}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:"   "}),(0,l.jsx)(n.span,{style:{color:"#6A9955"},children:"; 1792K RAM"})]})]})}),"\n",(0,l.jsx)(n.h3,{id:s[12].id,children:s[12].value}),"\n",(0,l.jsx)(n.p,{children:"Specifies the border color to be set when the program loads."}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Syntax:"})}),"\n",(0,l.jsx)(n.pre,{tabIndex:"0","data-language":"z80klive","data-word-wrap":"",children:(0,l.jsx)(n.code,{children:(0,l.jsxs)(n.span,{children:[(0,l.jsx)(n.span,{style:{color:"#C586C0"},children:".savenex"}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:" "}),(0,l.jsx)(n.span,{style:{color:"#B5890F"},children:"border"}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:" "}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4",fontWeight:"bold"},children:"<"}),(0,l.jsx)(n.span,{style:{color:"#B5890F"},children:"color"}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4",fontWeight:"bold"},children:">"})]})})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"color"}),": Integer value from 0 to 7"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsxs)(n.strong,{children:["Default when ",(0,l.jsx)(n.code,{children:".model next"})," is used"]}),": 7 (white)"]}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Example:"})}),"\n",(0,l.jsx)(n.pre,{tabIndex:"0","data-language":"z80klive","data-word-wrap":"",children:(0,l.jsx)(n.code,{children:(0,l.jsxs)(n.span,{children:[(0,l.jsx)(n.span,{style:{color:"#C586C0"},children:".savenex"}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:" "}),(0,l.jsx)(n.span,{style:{color:"#B5890F"},children:"border"}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:" "}),(0,l.jsx)(n.span,{style:{color:"#4D8061"},children:"5"}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:"   "}),(0,l.jsx)(n.span,{style:{color:"#6A9955"},children:"; Cyan border"})]})})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Border Colors:"})}),"\n",(0,l.jsxs)(n.table,{children:[(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"Value"}),(0,l.jsx)(n.th,{children:"Color"})]})}),(0,l.jsxs)(n.tbody,{children:[(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"0"}),(0,l.jsx)(n.td,{children:"Black"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"1"}),(0,l.jsx)(n.td,{children:"Blue"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"2"}),(0,l.jsx)(n.td,{children:"Red"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"3"}),(0,l.jsx)(n.td,{children:"Magenta"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"4"}),(0,l.jsx)(n.td,{children:"Green"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"5"}),(0,l.jsx)(n.td,{children:"Cyan"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"6"}),(0,l.jsx)(n.td,{children:"Yellow"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"7"}),(0,l.jsx)(n.td,{children:"White"})]})]})]}),"\n",(0,l.jsx)(n.h3,{id:s[13].id,children:s[13].value}),"\n",(0,l.jsx)(n.p,{children:"Specifies the minimum ZX Spectrum Next core version required to run the program."}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Syntax:"})}),"\n",(0,l.jsx)(n.pre,{tabIndex:"0","data-language":"z80klive","data-word-wrap":"",children:(0,l.jsxs)(n.code,{children:[(0,l.jsxs)(n.span,{children:[(0,l.jsx)(n.span,{style:{color:"#C586C0"},children:".savenex"}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:" "}),(0,l.jsx)(n.span,{style:{color:"#B5890F"},children:"core"}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:" "}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4",fontWeight:"bold"},children:"<"}),(0,l.jsx)(n.span,{style:{color:"#B5890F"},children:"major"}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4",fontWeight:"bold"},children:">"}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:", "}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4",fontWeight:"bold"},children:"<"}),(0,l.jsx)(n.span,{style:{color:"#B5890F"},children:"minor"}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4",fontWeight:"bold"},children:">"}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:", "}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4",fontWeight:"bold"},children:"<"}),(0,l.jsx)(n.span,{style:{color:"#B5890F"},children:"subminor"}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4",fontWeight:"bold"},children:">"})]}),"\n",(0,l.jsx)(n.span,{children:(0,l.jsx)(n.span,{style:{color:"#6A9955"},children:"; or"})}),"\n",(0,l.jsxs)(n.span,{children:[(0,l.jsx)(n.span,{style:{color:"#C586C0"},children:".savenex"}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:" "}),(0,l.jsx)(n.span,{style:{color:"#B5890F"},children:"core"}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:" "}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4",fontWeight:"bold"},children:"<"}),(0,l.jsx)(n.span,{style:{color:"#B5890F"},children:"version"}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4",fontWeight:"bold"},children:"-"}),(0,l.jsx)(n.span,{style:{color:"#B5890F"},children:"string"}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4",fontWeight:"bold"},children:">"})]})]})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"major"}),": Integer value from 0 to 255"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"minor"}),": Integer value from 0 to 255"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"subminor"}),": Integer value from 0 to 255"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"version-string"}),": String literal in the format “major.minor.subminor”"]}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Examples:"})}),"\n",(0,l.jsx)(n.pre,{tabIndex:"0","data-language":"z80klive","data-word-wrap":"",children:(0,l.jsxs)(n.code,{children:[(0,l.jsxs)(n.span,{children:[(0,l.jsx)(n.span,{style:{color:"#C586C0"},children:".savenex"}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:" "}),(0,l.jsx)(n.span,{style:{color:"#B5890F"},children:"core"}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:" "}),(0,l.jsx)(n.span,{style:{color:"#4D8061"},children:"3"}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:", "}),(0,l.jsx)(n.span,{style:{color:"#4D8061"},children:"1"}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:", "}),(0,l.jsx)(n.span,{style:{color:"#4D8061"},children:"10"}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:"       "}),(0,l.jsx)(n.span,{style:{color:"#6A9955"},children:"; Requires core version 3.1.10 or higher"})]}),"\n",(0,l.jsxs)(n.span,{children:[(0,l.jsx)(n.span,{style:{color:"#C586C0"},children:".savenex"}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:" "}),(0,l.jsx)(n.span,{style:{color:"#B5890F"},children:"core"}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:" "}),(0,l.jsx)(n.span,{style:{color:"#CD3131"},children:'"3.1.10"'}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:"       "}),(0,l.jsx)(n.span,{style:{color:"#6A9955"},children:"; Alternative string format"})]})]})}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Note"}),": Both formats are supported. The string format is convenient when the version comes from a constant or macro, while the comma-separated format allows for calculated values."]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:s[14].id,children:s[14].value}),"\n",(0,l.jsx)(n.p,{children:"Specifies the initial stack pointer address."}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Syntax:"})}),"\n",(0,l.jsx)(n.pre,{tabIndex:"0","data-language":"z80klive","data-word-wrap":"",children:(0,l.jsx)(n.code,{children:(0,l.jsxs)(n.span,{children:[(0,l.jsx)(n.span,{style:{color:"#C586C0"},children:".savenex"}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:" "}),(0,l.jsx)(n.span,{style:{color:"#B5890F"},children:"stackaddr"}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:" "}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4",fontWeight:"bold"},children:"<"}),(0,l.jsx)(n.span,{style:{color:"#B5890F"},children:"address"}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4",fontWeight:"bold"},children:">"})]})})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"address"}),": Integer value from 0 to 0xFFFF"]}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Example:"})}),"\n",(0,l.jsx)(n.pre,{tabIndex:"0","data-language":"z80klive","data-word-wrap":"",children:(0,l.jsx)(n.code,{children:(0,l.jsxs)(n.span,{children:[(0,l.jsx)(n.span,{style:{color:"#C586C0"},children:".savenex"}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:" "}),(0,l.jsx)(n.span,{style:{color:"#B5890F"},children:"stackaddr"}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:" "}),(0,l.jsx)(n.span,{style:{color:"#4D8061"},children:"0xFF00"})]})})}),"\n",(0,l.jsx)(n.h3,{id:s[15].id,children:s[15].value}),"\n",(0,l.jsx)(n.p,{children:"Specifies the program’s entry point address."}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Syntax:"})}),"\n",(0,l.jsx)(n.pre,{tabIndex:"0","data-language":"z80klive","data-word-wrap":"",children:(0,l.jsx)(n.code,{children:(0,l.jsxs)(n.span,{children:[(0,l.jsx)(n.span,{style:{color:"#C586C0"},children:".savenex"}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:" "}),(0,l.jsx)(n.span,{style:{color:"#B5890F"},children:"entryaddr"}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:" "}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4",fontWeight:"bold"},children:"<"}),(0,l.jsx)(n.span,{style:{color:"#B5890F"},children:"address"}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4",fontWeight:"bold"},children:">"})]})})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"address"}),": Integer value from 0 to 0xFFFF"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsxs)(n.strong,{children:["Default when ",(0,l.jsx)(n.code,{children:".model next"})," is used"]}),": $8000"]}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Example:"})}),"\n",(0,l.jsx)(n.pre,{tabIndex:"0","data-language":"z80klive","data-word-wrap":"",children:(0,l.jsx)(n.code,{children:(0,l.jsxs)(n.span,{children:[(0,l.jsx)(n.span,{style:{color:"#C586C0"},children:".savenex"}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:" "}),(0,l.jsx)(n.span,{style:{color:"#B5890F"},children:"entryaddr"}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:" "}),(0,l.jsx)(n.span,{style:{color:"#4D8061"},children:"0x8000"}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:"    "}),(0,l.jsx)(n.span,{style:{color:"#6A9955"},children:"; Entry at $8000 (default for .model next)"})]})})}),"\n",(0,l.jsx)(n.h3,{id:s[16].id,children:s[16].value}),"\n",(0,l.jsx)(n.p,{children:"Specifies the bank number to be paged in when the program starts."}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Syntax:"})}),"\n",(0,l.jsx)(n.pre,{tabIndex:"0","data-language":"z80klive","data-word-wrap":"",children:(0,l.jsx)(n.code,{children:(0,l.jsxs)(n.span,{children:[(0,l.jsx)(n.span,{style:{color:"#C586C0"},children:".savenex"}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:" "}),(0,l.jsx)(n.span,{style:{color:"#B5890F"},children:"entrybank"}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:" "}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4",fontWeight:"bold"},children:"<"}),(0,l.jsx)(n.span,{style:{color:"#C586C0"},children:"bank"}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4",fontWeight:"bold"},children:">"})]})})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"bank"}),": Integer value from 0 to 111"]}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Example:"})}),"\n",(0,l.jsx)(n.pre,{tabIndex:"0","data-language":"z80klive","data-word-wrap":"",children:(0,l.jsx)(n.code,{children:(0,l.jsxs)(n.span,{children:[(0,l.jsx)(n.span,{style:{color:"#C586C0"},children:".savenex"}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:" "}),(0,l.jsx)(n.span,{style:{color:"#B5890F"},children:"entrybank"}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:" "}),(0,l.jsx)(n.span,{style:{color:"#4D8061"},children:"5"})]})})}),"\n",(0,l.jsx)(n.h3,{id:s[17].id,children:s[17].value}),"\n",(0,l.jsx)(n.p,{children:"Specifies whether to close or keep open the NEX file handle after loading."}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Syntax:"})}),"\n",(0,l.jsx)(n.pre,{tabIndex:"0","data-language":"z80klive","data-word-wrap":"",children:(0,l.jsx)(n.code,{children:(0,l.jsxs)(n.span,{children:[(0,l.jsx)(n.span,{style:{color:"#C586C0"},children:".savenex"}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:" "}),(0,l.jsx)(n.span,{style:{color:"#B5890F"},children:"filehandle"}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:" "}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4",fontWeight:"bold"},children:"<"}),(0,l.jsx)(n.span,{style:{color:"#B5890F"},children:"mode"}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4",fontWeight:"bold"},children:">"})]})})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"mode"}),": Either “close” (close file after loading) or “open” (keep file open, pass handle in BC register)"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Default"}),": “close” (file is closed after loading)"]}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Examples:"})}),"\n",(0,l.jsx)(n.pre,{tabIndex:"0","data-language":"z80klive","data-word-wrap":"",children:(0,l.jsxs)(n.code,{children:[(0,l.jsxs)(n.span,{children:[(0,l.jsx)(n.span,{style:{color:"#C586C0"},children:".savenex"}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:" "}),(0,l.jsx)(n.span,{style:{color:"#B5890F"},children:"filehandle"}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:" "}),(0,l.jsx)(n.span,{style:{color:"#CD3131"},children:'"close"'}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:"  "}),(0,l.jsx)(n.span,{style:{color:"#6A9955"},children:"; Close file after loading (default)"})]}),"\n",(0,l.jsxs)(n.span,{children:[(0,l.jsx)(n.span,{style:{color:"#C586C0"},children:".savenex"}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:" "}),(0,l.jsx)(n.span,{style:{color:"#B5890F"},children:"filehandle"}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:" "}),(0,l.jsx)(n.span,{style:{color:"#CD3131"},children:'"open"'}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:"   "}),(0,l.jsx)(n.span,{style:{color:"#6A9955"},children:"; Keep file open, pass handle in BC register"})]})]})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"NEX File Specification:"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"“close” writes 0x0000 to offset 140 (file is closed by loader)"}),"\n",(0,l.jsx)(n.li,{children:"“open” writes 0x0001 to offset 140 (file kept open, handle passed in BC register)"}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:s[18].id,children:s[18].value}),"\n",(0,l.jsx)(n.p,{children:"Specifies whether to preserve the Next hardware registers after loading."}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Syntax:"})}),"\n",(0,l.jsx)(n.pre,{tabIndex:"0","data-language":"z80klive","data-word-wrap":"",children:(0,l.jsx)(n.code,{children:(0,l.jsxs)(n.span,{children:[(0,l.jsx)(n.span,{style:{color:"#C586C0"},children:".savenex"}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:" "}),(0,l.jsx)(n.span,{style:{color:"#B5890F"},children:"preserve"}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:" "}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4",fontWeight:"bold"},children:"<"}),(0,l.jsx)(n.span,{style:{color:"#B5890F"},children:"value"}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4",fontWeight:"bold"},children:">"})]})})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"value"}),": “on”/“off” or 1/0"]}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Examples:"})}),"\n",(0,l.jsx)(n.pre,{tabIndex:"0","data-language":"z80klive","data-word-wrap":"",children:(0,l.jsxs)(n.code,{children:[(0,l.jsxs)(n.span,{children:[(0,l.jsx)(n.span,{style:{color:"#C586C0"},children:".savenex"}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:" "}),(0,l.jsx)(n.span,{style:{color:"#B5890F"},children:"preserve"}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:" "}),(0,l.jsx)(n.span,{style:{color:"#CD3131"},children:'"on"'})]}),"\n",(0,l.jsxs)(n.span,{children:[(0,l.jsx)(n.span,{style:{color:"#C586C0"},children:".savenex"}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:" "}),(0,l.jsx)(n.span,{style:{color:"#B5890F"},children:"preserve"}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:" "}),(0,l.jsx)(n.span,{style:{color:"#4D8061"},children:"1"})]}),"\n",(0,l.jsxs)(n.span,{children:[(0,l.jsx)(n.span,{style:{color:"#C586C0"},children:".savenex"}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:" "}),(0,l.jsx)(n.span,{style:{color:"#B5890F"},children:"preserve"}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:" "}),(0,l.jsx)(n.span,{style:{color:"#CD3131"},children:'"off"'})]}),"\n",(0,l.jsxs)(n.span,{children:[(0,l.jsx)(n.span,{style:{color:"#C586C0"},children:".savenex"}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:" "}),(0,l.jsx)(n.span,{style:{color:"#B5890F"},children:"preserve"}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:" "}),(0,l.jsx)(n.span,{style:{color:"#4D8061"},children:"0"})]})]})}),"\n",(0,l.jsx)(n.h3,{id:s[19].id,children:s[19].value}),"\n",(0,l.jsx)(n.p,{children:"Specifies a loading screen to display while the program loads."}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Syntax:"})}),"\n",(0,l.jsx)(n.pre,{tabIndex:"0","data-language":"z80klive","data-word-wrap":"",children:(0,l.jsx)(n.code,{children:(0,l.jsxs)(n.span,{children:[(0,l.jsx)(n.span,{style:{color:"#C586C0"},children:".savenex"}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:" "}),(0,l.jsx)(n.span,{style:{color:"#B5890F"},children:"screen"}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:" "}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4",fontWeight:"bold"},children:"<"}),(0,l.jsx)(n.span,{style:{color:"#B5890F"},children:"type"}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4",fontWeight:"bold"},children:">"}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:" [, "}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4",fontWeight:"bold"},children:"<"}),(0,l.jsx)(n.span,{style:{color:"#B5890F"},children:"filename"}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4",fontWeight:"bold"},children:">"}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:" [, "}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4",fontWeight:"bold"},children:"<"}),(0,l.jsx)(n.span,{style:{color:"#B5890F"},children:"palette"}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4",fontWeight:"bold"},children:"-"}),(0,l.jsx)(n.span,{style:{color:"#B5890F"},children:"offset"}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4",fontWeight:"bold"},children:">"}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:"]]"})]})})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"type"}),": Screen type - one of: “layer2”, “ula”, “lores”, “hires-color”, “hires-mono”"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"filename"}),": (Optional) Filename of the screen data"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"palette-offset"}),": (Optional) Offset in the palette file (0-255)"]}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Examples:"})}),"\n",(0,l.jsx)(n.pre,{tabIndex:"0","data-language":"z80klive","data-word-wrap":"",children:(0,l.jsxs)(n.code,{children:[(0,l.jsxs)(n.span,{children:[(0,l.jsx)(n.span,{style:{color:"#C586C0"},children:".savenex"}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:" "}),(0,l.jsx)(n.span,{style:{color:"#B5890F"},children:"screen"}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:" "}),(0,l.jsx)(n.span,{style:{color:"#CD3131"},children:'"layer2"'})]}),"\n",(0,l.jsxs)(n.span,{children:[(0,l.jsx)(n.span,{style:{color:"#C586C0"},children:".savenex"}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:" "}),(0,l.jsx)(n.span,{style:{color:"#B5890F"},children:"screen"}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:" "}),(0,l.jsx)(n.span,{style:{color:"#CD3131"},children:'"layer2"'}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:", "}),(0,l.jsx)(n.span,{style:{color:"#CD3131"},children:'"loading.scr"'})]}),"\n",(0,l.jsxs)(n.span,{children:[(0,l.jsx)(n.span,{style:{color:"#C586C0"},children:".savenex"}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:" "}),(0,l.jsx)(n.span,{style:{color:"#B5890F"},children:"screen"}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:" "}),(0,l.jsx)(n.span,{style:{color:"#CD3131"},children:'"layer2"'}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:", "}),(0,l.jsx)(n.span,{style:{color:"#CD3131"},children:'"loading.scr"'}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:", "}),(0,l.jsx)(n.span,{style:{color:"#4D8061"},children:"0"})]})]})}),"\n",(0,l.jsx)(n.h3,{id:s[20].id,children:s[20].value}),"\n",(0,l.jsx)(n.p,{children:"Specifies a palette file to load."}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Syntax:"})}),"\n",(0,l.jsx)(n.pre,{tabIndex:"0","data-language":"z80klive","data-word-wrap":"",children:(0,l.jsx)(n.code,{children:(0,l.jsxs)(n.span,{children:[(0,l.jsx)(n.span,{style:{color:"#C586C0"},children:".savenex"}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:" "}),(0,l.jsx)(n.span,{style:{color:"#B5890F"},children:"palette"}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:" "}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4",fontWeight:"bold"},children:"<"}),(0,l.jsx)(n.span,{style:{color:"#B5890F"},children:"filename"}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4",fontWeight:"bold"},children:">"})]})})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"filename"}),": String literal with the palette filename"]}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Example:"})}),"\n",(0,l.jsx)(n.pre,{tabIndex:"0","data-language":"z80klive","data-word-wrap":"",children:(0,l.jsx)(n.code,{children:(0,l.jsxs)(n.span,{children:[(0,l.jsx)(n.span,{style:{color:"#C586C0"},children:".savenex"}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:" "}),(0,l.jsx)(n.span,{style:{color:"#B5890F"},children:"palette"}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:" "}),(0,l.jsx)(n.span,{style:{color:"#CD3131"},children:'"colors.nxp"'})]})})}),"\n",(0,l.jsx)(n.h3,{id:s[21].id,children:s[21].value}),"\n",(0,l.jsx)(n.p,{children:"Specifies a copper code file to load and execute."}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Syntax:"})}),"\n",(0,l.jsx)(n.pre,{tabIndex:"0","data-language":"z80klive","data-word-wrap":"",children:(0,l.jsx)(n.code,{children:(0,l.jsxs)(n.span,{children:[(0,l.jsx)(n.span,{style:{color:"#C586C0"},children:".savenex"}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:" "}),(0,l.jsx)(n.span,{style:{color:"#B5890F"},children:"copper"}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:" "}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4",fontWeight:"bold"},children:"<"}),(0,l.jsx)(n.span,{style:{color:"#B5890F"},children:"filename"}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4",fontWeight:"bold"},children:">"})]})})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"filename"}),": String literal with the copper code filename"]}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Example:"})}),"\n",(0,l.jsx)(n.pre,{tabIndex:"0","data-language":"z80klive","data-word-wrap":"",children:(0,l.jsx)(n.code,{children:(0,l.jsxs)(n.span,{children:[(0,l.jsx)(n.span,{style:{color:"#C586C0"},children:".savenex"}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:" "}),(0,l.jsx)(n.span,{style:{color:"#B5890F"},children:"copper"}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:" "}),(0,l.jsx)(n.span,{style:{color:"#CD3131"},children:'"effects.cu"'})]})})}),"\n",(0,l.jsx)(n.h3,{id:s[22].id,children:s[22].value}),"\n",(0,l.jsx)(n.p,{children:"Configures the loading bar display."}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Syntax:"})}),"\n",(0,l.jsx)(n.pre,{tabIndex:"0","data-language":"z80klive","data-word-wrap":"",children:(0,l.jsx)(n.code,{children:(0,l.jsxs)(n.span,{children:[(0,l.jsx)(n.span,{style:{color:"#C586C0"},children:".savenex"}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:" "}),(0,l.jsx)(n.span,{style:{color:"#B5890F"},children:"bar"}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:" "}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4",fontWeight:"bold"},children:"<"}),(0,l.jsx)(n.span,{style:{color:"#B5890F"},children:"enabled"}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4",fontWeight:"bold"},children:">"}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:" [, "}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4",fontWeight:"bold"},children:"<"}),(0,l.jsx)(n.span,{style:{color:"#B5890F"},children:"color"}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4",fontWeight:"bold"},children:">"}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:" [, "}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4",fontWeight:"bold"},children:"<"}),(0,l.jsx)(n.span,{style:{color:"#B5890F"},children:"delay"}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4",fontWeight:"bold"},children:">"}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:" [, "}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4",fontWeight:"bold"},children:"<"}),(0,l.jsx)(n.span,{style:{color:"#B5890F"},children:"start"}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4",fontWeight:"bold"},children:"-"}),(0,l.jsx)(n.span,{style:{color:"#B5890F"},children:"delay"}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4",fontWeight:"bold"},children:">"}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:"]]]"})]})})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"enabled"}),": “on”/“off” or 1/0"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"color"}),": (Optional) Bar color (0-255)"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"delay"}),": (Optional) Delay per bar step (0-255)"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"start-delay"}),": (Optional) Delay before starting (0-255)"]}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Examples:"})}),"\n",(0,l.jsx)(n.pre,{tabIndex:"0","data-language":"z80klive","data-word-wrap":"",children:(0,l.jsxs)(n.code,{children:[(0,l.jsxs)(n.span,{children:[(0,l.jsx)(n.span,{style:{color:"#C586C0"},children:".savenex"}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:" "}),(0,l.jsx)(n.span,{style:{color:"#B5890F"},children:"bar"}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:" "}),(0,l.jsx)(n.span,{style:{color:"#CD3131"},children:'"on"'})]}),"\n",(0,l.jsxs)(n.span,{children:[(0,l.jsx)(n.span,{style:{color:"#C586C0"},children:".savenex"}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:" "}),(0,l.jsx)(n.span,{style:{color:"#B5890F"},children:"bar"}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:" "}),(0,l.jsx)(n.span,{style:{color:"#CD3131"},children:'"on"'}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:", "}),(0,l.jsx)(n.span,{style:{color:"#4D8061"},children:"2"})]}),"\n",(0,l.jsxs)(n.span,{children:[(0,l.jsx)(n.span,{style:{color:"#C586C0"},children:".savenex"}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:" "}),(0,l.jsx)(n.span,{style:{color:"#B5890F"},children:"bar"}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:" "}),(0,l.jsx)(n.span,{style:{color:"#CD3131"},children:'"on"'}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:", "}),(0,l.jsx)(n.span,{style:{color:"#4D8061"},children:"2"}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:", "}),(0,l.jsx)(n.span,{style:{color:"#4D8061"},children:"50"})]}),"\n",(0,l.jsxs)(n.span,{children:[(0,l.jsx)(n.span,{style:{color:"#C586C0"},children:".savenex"}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:" "}),(0,l.jsx)(n.span,{style:{color:"#B5890F"},children:"bar"}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:" "}),(0,l.jsx)(n.span,{style:{color:"#CD3131"},children:'"on"'}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:", "}),(0,l.jsx)(n.span,{style:{color:"#4D8061"},children:"2"}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:", "}),(0,l.jsx)(n.span,{style:{color:"#4D8061"},children:"50"}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:", "}),(0,l.jsx)(n.span,{style:{color:"#4D8061"},children:"100"})]})]})}),"\n",(0,l.jsx)(n.h2,{id:s[23].id,children:s[23].value}),"\n",(0,l.jsxs)(n.p,{children:["The NEX file format ",(0,l.jsx)(n.a,{href:"https://wiki.specnext.dev/NEX_file_format",children:"(see details here)"})," is the native executable format for the ZX Spectrum Next. It’s a container format that includes:"]}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Header Information"}),": File version, RAM requirements, entry points, etc."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Screen Data"}),": Optional loading screen in various formats"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Palette Data"}),": Optional palette information"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Copper Code"}),": Optional copper coprocessor code"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Loading Bar"}),": Optional visual feedback during loading"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Program Banks"}),": The actual program code and data organized in 16K banks"]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:s[24].id,children:s[24].value}),"\n",(0,l.jsxs)(n.p,{children:["The ",(0,l.jsx)(n.code,{children:".savenex"})," pragma targets NEX file format version 1.2, which is the current standard for ZX Spectrum Next executables."]}),"\n",(0,l.jsx)(n.h3,{id:s[25].id,children:s[25].value}),"\n",(0,l.jsx)(n.p,{children:"The NEX file organizes code and data into 16K banks that correspond to the Next’s memory management system:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Banks 0-1"}),": ROM (read-only, system)"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Bank 2"}),": Default user code bank (unbanked code maps here automatically)"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Banks 3-4"}),": Standard RAM banks"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Banks 5-111"}),": Extended RAM banks available for paging"]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:s[26].id,children:s[26].value}),"\n",(0,l.jsxs)(n.p,{children:["When you use ",(0,l.jsx)(n.code,{children:".model next"})," and write code without explicit ",(0,l.jsx)(n.code,{children:".bank"})," pragmas:"]}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsx)(n.li,{children:"Your code is assembled at addresses starting from $8000"}),"\n",(0,l.jsx)(n.li,{children:"During NEX export, this “unbanked” code is written to bank 2"}),"\n",(0,l.jsxs)(n.li,{children:["The offset calculation is: ",(0,l.jsx)(n.code,{children:"bank2_offset = address - $8000"})]}),"\n",(0,l.jsx)(n.li,{children:"Code at $8000 goes to offset 0 in bank 2"}),"\n",(0,l.jsx)(n.li,{children:"Code at $9000 goes to offset $1000 in bank 2"}),"\n",(0,l.jsx)(n.li,{children:"And so on…"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Example:"})}),"\n",(0,l.jsx)(n.pre,{tabIndex:"0","data-language":"z80klive","data-word-wrap":"",children:(0,l.jsxs)(n.code,{children:[(0,l.jsxs)(n.span,{children:[(0,l.jsx)(n.span,{style:{color:"#C586C0"},children:".model"}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:" "}),(0,l.jsx)(n.span,{style:{color:"#C586C0",fontWeight:"bold"},children:"next"})]}),"\n",(0,l.jsxs)(n.span,{children:[(0,l.jsx)(n.span,{style:{color:"#C586C0"},children:".savenex"}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:" "}),(0,l.jsx)(n.span,{style:{color:"#B5890F"},children:"file"}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:" "}),(0,l.jsx)(n.span,{style:{color:"#CD3131"},children:'"test.nex"'})]}),"\n",(0,l.jsx)(n.span,{children:" "}),"\n",(0,l.jsx)(n.span,{children:(0,l.jsx)(n.span,{style:{color:"#6A9955"},children:"; Code at $8000 → bank 2, offset $0000"})}),"\n",(0,l.jsxs)(n.span,{children:[(0,l.jsx)(n.span,{style:{color:"#B5890F"},children:"main"}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4",fontWeight:"bold"},children:":"})]}),"\n",(0,l.jsxs)(n.span,{children:[(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:"    "}),(0,l.jsx)(n.span,{style:{color:"#569CD6",fontWeight:"bold"},children:"ld"}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:" "}),(0,l.jsx)(n.span,{style:{color:"#2B7CB3"},children:"a"}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:", "}),(0,l.jsx)(n.span,{style:{color:"#4D8061"},children:"1"})]}),"\n",(0,l.jsx)(n.span,{children:" "}),"\n",(0,l.jsx)(n.span,{children:(0,l.jsx)(n.span,{style:{color:"#6A9955"},children:"; Code at $9000 → bank 2, offset $1000"})}),"\n",(0,l.jsxs)(n.span,{children:[(0,l.jsx)(n.span,{style:{color:"#C586C0"},children:".org"}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:" "}),(0,l.jsx)(n.span,{style:{color:"#4D8061"},children:"$9000"})]}),"\n",(0,l.jsxs)(n.span,{children:[(0,l.jsx)(n.span,{style:{color:"#B5890F"},children:"routine"}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4",fontWeight:"bold"},children:":"})]}),"\n",(0,l.jsxs)(n.span,{children:[(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:"    "}),(0,l.jsx)(n.span,{style:{color:"#569CD6",fontWeight:"bold"},children:"ld"}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:" "}),(0,l.jsx)(n.span,{style:{color:"#2B7CB3"},children:"a"}),(0,l.jsx)(n.span,{style:{color:"#A4A4A4"},children:", "}),(0,l.jsx)(n.span,{style:{color:"#4D8061"},children:"2"})]})]})}),"\n",(0,l.jsx)(n.h3,{id:s[27].id,children:s[27].value}),"\n",(0,l.jsx)(n.p,{children:"When a NEX file loads on the ZX Spectrum Next:"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsx)(n.li,{children:"The NEX loader reads the header to determine requirements"}),"\n",(0,l.jsx)(n.li,{children:"If specified, the loading screen is displayed"}),"\n",(0,l.jsx)(n.li,{children:"If enabled, the loading bar provides visual feedback"}),"\n",(0,l.jsx)(n.li,{children:"Program banks are loaded into the specified memory locations"}),"\n",(0,l.jsx)(n.li,{children:"Hardware registers are configured according to the NEX header"}),"\n",(0,l.jsx)(n.li,{children:"Control is transferred to the entry point address with the entry bank paged in"}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:s[28].id,children:s[28].value}),"\n",(0,l.jsxs)(n.p,{children:["Default values for ",(0,l.jsx)(n.code,{children:".savenex"})," parameters depend on whether you’re using ",(0,l.jsx)(n.code,{children:".model next"}),":"]}),"\n",(0,l.jsx)(n.h3,{id:s[29].id,children:s[29].value}),"\n",(0,l.jsxs)(n.table,{children:[(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"Parameter"}),(0,l.jsx)(n.th,{children:"Default Value"}),(0,l.jsx)(n.th,{children:"Description"})]})}),(0,l.jsxs)(n.tbody,{children:[(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"ram"})}),(0,l.jsx)(n.td,{children:"768"}),(0,l.jsx)(n.td,{children:"768K RAM"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"border"})}),(0,l.jsx)(n.td,{children:"7"}),(0,l.jsx)(n.td,{children:"White border"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"entryaddr"})}),(0,l.jsx)(n.td,{children:"$8000"}),(0,l.jsx)(n.td,{children:"Entry point at $8000"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"entryBank"})}),(0,l.jsx)(n.td,{children:"0"}),(0,l.jsx)(n.td,{children:"Bank 0"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"fileHandle"})}),(0,l.jsx)(n.td,{children:"”close”"}),(0,l.jsx)(n.td,{children:"Close NEX file after loading"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"preserveRegs"})}),(0,l.jsx)(n.td,{children:"false"}),(0,l.jsx)(n.td,{children:"Don’t preserve registers"})]})]})]}),"\n",(0,l.jsx)(n.h3,{id:s[30].id,children:s[30].value}),"\n",(0,l.jsxs)(n.table,{children:[(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"Parameter"}),(0,l.jsx)(n.th,{children:"Default Value"}),(0,l.jsx)(n.th,{children:"Description"})]})}),(0,l.jsxs)(n.tbody,{children:[(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"ram"})}),(0,l.jsx)(n.td,{children:"(none)"}),(0,l.jsx)(n.td,{children:"Must be specified"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"border"})}),(0,l.jsx)(n.td,{children:"0"}),(0,l.jsx)(n.td,{children:"Black border"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"entryaddr"})}),(0,l.jsx)(n.td,{children:"(none)"}),(0,l.jsx)(n.td,{children:"Must be specified"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"entryBank"})}),(0,l.jsx)(n.td,{children:"0"}),(0,l.jsx)(n.td,{children:"Bank 0"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"fileHandle"})}),(0,l.jsx)(n.td,{children:"”close”"}),(0,l.jsx)(n.td,{children:"Close NEX file after loading"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"preserveRegs"})}),(0,l.jsx)(n.td,{children:"false"}),(0,l.jsx)(n.td,{children:"Don’t preserve registers"})]})]})]}),"\n",(0,l.jsx)(n.h2,{id:s[31].id,children:s[31].value}),"\n",(0,l.jsx)(n.p,{children:"The assembler will generate errors if:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["You use ",(0,l.jsx)(n.code,{children:".savenex"})," when not targeting the ZX Spectrum Next (Model 4)"]}),"\n",(0,l.jsx)(n.li,{children:"Invalid values are provided (e.g., border color > 7, bank > 111)"}),"\n",(0,l.jsx)(n.li,{children:"Required parameters are missing"}),"\n",(0,l.jsx)(n.li,{children:"Invalid screen types or modes are specified"}),"\n",(0,l.jsx)(n.li,{children:"Version numbers exceed 255"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:"The assembler will generate warnings if:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Z0904"}),": Unbanked code address exceeds $bfff (typical bank 2 range)"]}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:s[32].id,children:s[32].value}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["The ",(0,l.jsx)(n.code,{children:".savenex"})," pragma only configures the NEX file parameters; it doesn’t generate the actual NEX file. The file generation happens during the export process."]}),"\n",(0,l.jsxs)(n.li,{children:["Multiple ",(0,l.jsx)(n.code,{children:".savenex"})," pragmas with the same subcommand will use the last value specified."]}),"\n",(0,l.jsx)(n.li,{children:"Expression support allows you to use symbols, calculations, and other expressions for numeric parameters."}),"\n",(0,l.jsx)(n.li,{children:"String parameters can be string literals or expressions that evaluate to strings."}),"\n",(0,l.jsx)(n.li,{children:"Unbanked code is automatically tracked and exported to bank 2 during NEX file generation."}),"\n",(0,l.jsxs)(n.li,{children:["You can mix unbanked code and explicit ",(0,l.jsx)(n.code,{children:".bank"})," sections in the same source file."]}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:s[33].id,children:s[33].value}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.a,{href:"./pragmas",children:"Pragmas"})," - Complete pragma reference"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.a,{href:"./z80-assembler",children:"Klive Z80 Assembler Overview"})," - General assembler documentation"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.a,{href:"https://www.specnext.com/",children:"ZX Spectrum Next Documentation"})," - Official Next documentation"]}),"\n"]})]})},"/z80-assembly/zx-next",{filePath:"pages/z80-assembly/zx-next.mdx",timestamp:1769861668e3,pageMap:o.O,frontMatter:{},title:"ZX Spectrum Next Development"},"undefined"==typeof RemoteContent?t:RemoteContent.useTOC)},7708:(e,s,n)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/z80-assembly/zx-next",function(){return n(3508)}])},8964:(e,s,n)=>{"use strict";n.d(s,{O:()=>l});let l=[{data:{index:"Introduction","getting-started":"Getting Started","working-with-ide":"Working with the IDE",howto:"How To","z80-assembly":"Klive Z80 Assembler",contribute:"Contribute",scripting:"Scripting","commands-reference":"Commands Reference","machine-types":"Machine Types"}},{name:"commands-reference",route:"/commands-reference",frontMatter:{sidebarTitle:"Commands Reference"}},{name:"contribute",route:"/contribute",children:[{data:{"get-source":"Get the source code","improve-docs":"Improve the documentation"}},{name:"get-source",route:"/contribute/get-source",frontMatter:{sidebarTitle:"Get Source"}},{name:"improve-docs",route:"/contribute/improve-docs",frontMatter:{sidebarTitle:"Improve Docs"}}]},{name:"getting-started",route:"/getting-started",children:[{data:{installation:"Installing Klive","first-run":"Running Klive",keyboard:"Using the Keyboard",tapes:"Loading from Tape","save-programs":"Saving Files","creating-project":"Creating a Klive Project"}},{name:"creating-project",route:"/getting-started/creating-project",frontMatter:{sidebarTitle:"Creating Project"}},{name:"first-run",route:"/getting-started/first-run",frontMatter:{sidebarTitle:"First Run"}},{name:"installation",route:"/getting-started/installation",frontMatter:{sidebarTitle:"Installation"}},{name:"keyboard",route:"/getting-started/keyboard",frontMatter:{sidebarTitle:"Keyboard"}},{name:"save-programs",route:"/getting-started/save-programs",frontMatter:{sidebarTitle:"Save Programs"}},{name:"tapes",route:"/getting-started/tapes",frontMatter:{sidebarTitle:"Tapes"}}]},{name:"howto",route:"/howto",children:[{data:{"ide-startup":"IDE startup options",diagnostics:"Diagnostics",shortcuts:"Changing keyboard shortcuts","file-extensions":"Changing default file extensions","customize-syntax-colors":"Customizing syntax highlighting colors","instant-screen":"Using the Instant Screen","always-on-top":"Keeping the Emulator always on top","measure-t-states":"Measuring T-states"}},{name:"always-on-top",route:"/howto/always-on-top",frontMatter:{sidebarTitle:"Always on Top"}},{name:"customize-syntax-colors",route:"/howto/customize-syntax-colors",frontMatter:{sidebarTitle:"Customize Syntax Colors"}},{name:"diagnostics",route:"/howto/diagnostics",frontMatter:{sidebarTitle:"Diagnostics"}},{name:"file-extensions",route:"/howto/file-extensions",frontMatter:{sidebarTitle:"File Extensions"}},{name:"ide-startup",route:"/howto/ide-startup",frontMatter:{sidebarTitle:"Ide Startup"}},{name:"instant-screen",route:"/howto/instant-screen",frontMatter:{sidebarTitle:"Instant Screen"}},{name:"measure-t-states",route:"/howto/measure-t-states",frontMatter:{sidebarTitle:"Measure T States"}},{name:"shortcuts",route:"/howto/shortcuts",frontMatter:{sidebarTitle:"Shortcuts"}}]},{name:"index",route:"/",frontMatter:{sidebarTitle:"Index"}},{name:"machine-types",route:"/machine-types",frontMatter:{sidebarTitle:"Machine Types"}},{name:"project-templates",route:"/project-templates",frontMatter:{sidebarTitle:"Project Templates"}},{name:"scripting",route:"/scripting",children:[{data:{overview:"Overview",syntax:"Scripting Syntax"}},{name:"overview",route:"/scripting/overview",frontMatter:{sidebarTitle:"Overview"}},{name:"syntax",route:"/scripting/syntax",frontMatter:{sidebarTitle:"Syntax"}}]},{name:"working-with-ide",route:"/working-with-ide",children:[{data:{"project-explorer":"The Project Explorer","editing-code":"Editing Code","run-debug":"Running & Debugging Code","exporting-code":"Exporting Code",zxb:"ZXBASIC Integration",sjasmp:"SJASMPLUS Integration","ide-settings":"IDE Settings",cpu:"The CPU View",ula:"The ULA View",memory:"The Memory View",disassembly:"The Disassembly View",watch:"Watch Expressions",breakpoints:"The Breakpoints View","system-vars":"The System Variables View",basic:"The BASIC Listing",commands:"Interactive Commands","build-system":"The Build System"}},{name:"basic",route:"/working-with-ide/basic",frontMatter:{sidebarTitle:"Basic"}},{name:"breakpoints",route:"/working-with-ide/breakpoints",frontMatter:{sidebarTitle:"Breakpoints"}},{name:"build-system",route:"/working-with-ide/build-system",frontMatter:{sidebarTitle:"Build System"}},{name:"commands",route:"/working-with-ide/commands",frontMatter:{sidebarTitle:"Commands"}},{name:"cpu",route:"/working-with-ide/cpu",frontMatter:{sidebarTitle:"Cpu"}},{name:"disassembly",route:"/working-with-ide/disassembly",frontMatter:{sidebarTitle:"Disassembly"}},{name:"editing-code",route:"/working-with-ide/editing-code",frontMatter:{sidebarTitle:"Editing Code"}},{name:"exporting-code",route:"/working-with-ide/exporting-code",frontMatter:{sidebarTitle:"Exporting Code"}},{name:"ide-settings",route:"/working-with-ide/ide-settings",frontMatter:{sidebarTitle:"Ide Settings"}},{name:"memory",route:"/working-with-ide/memory",frontMatter:{sidebarTitle:"Memory"}},{name:"project-explorer",route:"/working-with-ide/project-explorer",frontMatter:{sidebarTitle:"Project Explorer"}},{name:"run-debug",route:"/working-with-ide/run-debug",frontMatter:{sidebarTitle:"Run Debug"}},{name:"sjasmp",route:"/working-with-ide/sjasmp",frontMatter:{sidebarTitle:"Sjasmp"}},{name:"system-vars",route:"/working-with-ide/system-vars",frontMatter:{sidebarTitle:"System Vars"}},{name:"ula",route:"/working-with-ide/ula",frontMatter:{sidebarTitle:"Ula"}},{name:"watch",route:"/working-with-ide/watch",frontMatter:{sidebarTitle:"Watch"}},{name:"zxb",route:"/working-with-ide/zxb",frontMatter:{sidebarTitle:"Zxb"}}]},{name:"z80-assembly",route:"/z80-assembly",children:[{data:{"z80-assembler":"Assembler Overview","language-structure":"Language Structure",directives:"Directives",expressions:"Expressions","z80-instructions":"Z80 Instructions",pragmas:"Pragmas","zx-next":"ZX Spectrum Next",statements:"Assembler Statements",macros:"Macros",structs:"Structs"}},{name:"directives",route:"/z80-assembly/directives",frontMatter:{sidebarTitle:"Directives"}},{name:"expressions",route:"/z80-assembly/expressions",frontMatter:{sidebarTitle:"Expressions"}},{name:"language-structure",route:"/z80-assembly/language-structure",frontMatter:{sidebarTitle:"Language Structure"}},{name:"macros",route:"/z80-assembly/macros",frontMatter:{sidebarTitle:"Macros"}},{name:"pragmas",route:"/z80-assembly/pragmas",frontMatter:{sidebarTitle:"Pragmas"}},{name:"statements",route:"/z80-assembly/statements",frontMatter:{sidebarTitle:"Statements"}},{name:"structs",route:"/z80-assembly/structs",frontMatter:{sidebarTitle:"Structs"}},{name:"z80-assembler",route:"/z80-assembly/z80-assembler",frontMatter:{sidebarTitle:"Z80 Assembler"}},{name:"z80-instructions",route:"/z80-assembly/z80-instructions",frontMatter:{sidebarTitle:"Z80 Instructions"}},{name:"zx-next",route:"/z80-assembly/zx-next",frontMatter:{sidebarTitle:"Zx Next"}}]}]}},e=>{e.O(0,[1807,636,6593,8792],()=>e(e.s=7708)),_N_E=e.O()}]);