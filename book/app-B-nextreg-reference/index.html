<!DOCTYPE html><html><head><meta charSet="utf-8" data-next-head=""/><meta name="theme-color" content="#111" media="(prefers-color-scheme: dark)" data-next-head=""/><style data-next-head="">:root{--nextra-primary-hue:212deg;--nextra-primary-saturation:100%;--nextra-primary-lightness:45%;--nextra-navbar-height:64px;--nextra-menu-height:3.75rem;--nextra-banner-height:2.5rem;--nextra-bg:250,250,250;}.dark{--nextra-primary-hue:204deg;--nextra-primary-saturation:100%;--nextra-primary-lightness:55%;--nextra-bg:17,17,17;}</style><meta name="viewport" content="width=device-width, initial-scale=1.0" data-next-head=""/><meta property="og:title" content="KliveIDE Documentation" data-next-head=""/><meta property="og:description" content="The comprehensive guide to KliveIDE" data-next-head=""/><link rel="preload" href="/kliveide/_next/static/css/3e1d6e1e0fd12506.css" as="style"/><link rel="stylesheet" href="/kliveide/_next/static/css/3e1d6e1e0fd12506.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/kliveide/_next/static/chunks/polyfills-42372ed130431b0a.js"></script><script src="/kliveide/_next/static/chunks/webpack-36ae0b54ca750f03.js" defer=""></script><script src="/kliveide/_next/static/chunks/framework-f31701c9d93f12a4.js" defer=""></script><script src="/kliveide/_next/static/chunks/main-4fbeb4fc783a297d.js" defer=""></script><script src="/kliveide/_next/static/chunks/pages/_app-96bf3a963f3706da.js" defer=""></script><script src="/kliveide/_next/static/chunks/1807-fab0877d143bd966.js" defer=""></script><script src="/kliveide/_next/static/chunks/pages/book/app-B-nextreg-reference-bb64999847f931df.js" defer=""></script><script src="/kliveide/_next/static/76Ws_RuPXROEPanE2NnsQ/_buildManifest.js" defer=""></script><script src="/kliveide/_next/static/76Ws_RuPXROEPanE2NnsQ/_ssgManifest.js" defer=""></script></head><body><div id="__next"><script>((e,r,s,u,d,m,l,h)=>{let c=document.documentElement,v=["light","dark"];function p(i){(Array.isArray(e)?e:[e]).forEach(y=>{let k=y==="class",S=k&&m?d.map(f=>m[f]||f):d;k?(c.classList.remove(...S),c.classList.add(i)):c.setAttribute(y,i)}),R(i)}function R(i){h&&v.includes(i)&&(c.style.colorScheme=i)}function a(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(u)p(u);else try{let i=localStorage.getItem(r)||s,y=l&&i==="system"?a():i;p(y)}catch(i){}})("class","theme","system",null,["light","dark"],null,true,true)</script><div dir="ltr"><script>document.documentElement.setAttribute('dir','ltr')</script><div class="nextra-nav-container _sticky _top-0 _z-20 _w-full _bg-transparent print:_hidden"><div class="nextra-nav-container-blur"></div><nav class="_mx-auto _flex _h-[var(--nextra-navbar-height)] _max-w-[90rem] _items-center _justify-end _gap-4 _pl-[max(env(safe-area-inset-left),1.5rem)] _pr-[max(env(safe-area-inset-right),1.5rem)]"><a class="nextra-focus _flex _items-center hover:_opacity-75 ltr:_mr-auto rtl:_ml-auto" href="/kliveide/"><div style="display:flex;align-items:center;gap:12px"><img src="/kliveide/images/klive-logo.svg" alt="KliveIDE" width="50px" height="50px"/><span style="font-weight:bold;font-size:2em">Klive IDE</span></div></a><div class="_flex _gap-4 _overflow-x-auto nextra-scrollbar _py-1.5"></div><div class="_not-prose _relative _flex _items-center _text-gray-900 dark:_text-gray-300 contrast-more:_text-gray-800 contrast-more:dark:_text-gray-300 max-md:_hidden"><input spellcheck="false" class="_rounded-lg _px-3 _py-2 _transition-colors _w-full md:_w-64 _text-base _leading-tight md:_text-sm _bg-black/[.05] dark:_bg-gray-50/10 placeholder:_text-gray-500 dark:placeholder:_text-gray-400 contrast-more:_border contrast-more:_border-current [&amp;::-webkit-search-cancel-button]:_appearance-none" autoComplete="off" placeholder="Search documentation..." id="headlessui-combobox-input-:R1dn96:" role="combobox" type="search" aria-expanded="false" aria-autocomplete="list" data-headlessui-state="" value=""/></div><a class="nextra-focus" href="https://github.com/Dotneteer/kliveide" target="_blank" rel="noreferrer"><svg width="24" height="24" fill="currentColor" viewBox="3 3 18 18"><title>GitHub</title><path d="M12 3C7.0275 3 3 7.12937 3 12.2276C3 16.3109 5.57625 19.7597 9.15374 20.9824C9.60374 21.0631 9.77249 20.7863 9.77249 20.5441C9.77249 20.3249 9.76125 19.5982 9.76125 18.8254C7.5 19.2522 6.915 18.2602 6.735 17.7412C6.63375 17.4759 6.19499 16.6569 5.8125 16.4378C5.4975 16.2647 5.0475 15.838 5.80124 15.8264C6.51 15.8149 7.01625 16.4954 7.18499 16.7723C7.99499 18.1679 9.28875 17.7758 9.80625 17.5335C9.885 16.9337 10.1212 16.53 10.38 16.2993C8.3775 16.0687 6.285 15.2728 6.285 11.7432C6.285 10.7397 6.63375 9.9092 7.20749 9.26326C7.1175 9.03257 6.8025 8.08674 7.2975 6.81794C7.2975 6.81794 8.05125 6.57571 9.77249 7.76377C10.4925 7.55615 11.2575 7.45234 12.0225 7.45234C12.7875 7.45234 13.5525 7.55615 14.2725 7.76377C15.9937 6.56418 16.7475 6.81794 16.7475 6.81794C17.2424 8.08674 16.9275 9.03257 16.8375 9.26326C17.4113 9.9092 17.76 10.7281 17.76 11.7432C17.76 15.2843 15.6563 16.0687 13.6537 16.2993C13.98 16.5877 14.2613 17.1414 14.2613 18.0065C14.2613 19.2407 14.25 20.2326 14.25 20.5441C14.25 20.7863 14.4188 21.0746 14.8688 20.9824C16.6554 20.364 18.2079 19.1866 19.3078 17.6162C20.4077 16.0457 20.9995 14.1611 21 12.2276C21 7.12937 16.9725 3 12 3Z"></path></svg><span class="_sr-only">GitHub</span></a><button class="_transition nextra-hamburger _rounded md:_hidden" aria-label="Menu" type="button" data-headlessui-state=""><svg fill="none" width="24" height="24" viewBox="0 0 24 24" stroke="currentColor" class=""><g><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16"></path></g><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 12h16"></path><g><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 18h16"></path></g></svg></button></nav></div><div class="_mx-auto _flex _max-w-[90rem]"><div class="[transition:background-color_1.5s_ease] _bg-transparent"></div><aside class="nextra-sidebar-container _flex _flex-col md:_top-16 md:_shrink-0 motion-reduce:_transform-none motion-reduce:_transition-none [.resizing_&amp;]:_transition-none _transform-gpu _transition-all _ease-in-out print:_hidden md:_w-64 md:_sticky md:_self-start max-md:[transform:translate3d(0,-100%,0)]"><div class="_px-4 _pt-4 md:_hidden"><div class="_not-prose _relative _flex _items-center _text-gray-900 dark:_text-gray-300 contrast-more:_text-gray-800 contrast-more:dark:_text-gray-300"><input spellcheck="false" class="_rounded-lg _px-3 _py-2 _transition-colors _w-full md:_w-64 _text-base _leading-tight md:_text-sm _bg-black/[.05] dark:_bg-gray-50/10 placeholder:_text-gray-500 dark:placeholder:_text-gray-400 contrast-more:_border contrast-more:_border-current [&amp;::-webkit-search-cancel-button]:_appearance-none" autoComplete="off" placeholder="Search documentation..." id="headlessui-combobox-input-:R5msr6:" role="combobox" type="search" aria-expanded="false" aria-autocomplete="list" data-headlessui-state="" value=""/></div></div><div class="_overflow-y-auto _p-4 _grow md:_h-[calc(100vh-var(--nextra-navbar-height)-var(--nextra-menu-height))] nextra-scrollbar"><div class="_transform-gpu _transition-all _ease-in-out motion-reduce:_transition-none _opacity-100" style="transition-duration:500ms"><div><ul class="_flex _flex-col _gap-1 nextra-menu-desktop max-md:_hidden"><li class="_flex _flex-col _gap-1"><a class="nextra-focus _flex _rounded _px-2 _py-1.5 _text-sm _transition-colors [word-break:break-word] _cursor-pointer contrast-more:_border _text-gray-500 hover:_bg-gray-100 hover:_text-gray-900 dark:_text-neutral-400 dark:hover:_bg-primary-100/5 dark:hover:_text-gray-50 contrast-more:_text-gray-900 contrast-more:dark:_text-gray-50 contrast-more:_border-transparent contrast-more:hover:_border-gray-900 contrast-more:dark:hover:_border-gray-50" href="/kliveide/">Introduction</a></li><li class=""><button class="_transition _items-center _justify-between _gap-2 _text-left _w-full _flex _rounded _px-2 _py-1.5 _text-sm _transition-colors [word-break:break-word] _cursor-pointer contrast-more:_border _text-gray-500 hover:_bg-gray-100 hover:_text-gray-900 dark:_text-neutral-400 dark:hover:_bg-primary-100/5 dark:hover:_text-gray-50 contrast-more:_text-gray-900 contrast-more:dark:_text-gray-50 contrast-more:_border-transparent contrast-more:hover:_border-gray-900 contrast-more:dark:hover:_border-gray-50" data-href="/getting-started" type="button" data-headlessui-state="">Getting Started<svg viewBox="0 0 24 24" stroke="currentColor" fill="none" stroke-width="2" height="18" class="_shrink-0 _rounded-sm _p-0.5 hover:_bg-gray-800/5 dark:hover:_bg-gray-100/5 motion-reduce:*:_transition-none *:_origin-center *:_transition-transform *:rtl:_-rotate-180"><path d="M9 5l7 7-7 7" stroke-linecap="round" stroke-linejoin="round"></path></svg></button><div class="_transform-gpu _transition-all _ease-in-out motion-reduce:_transition-none _opacity-0 _overflow-hidden" style="height:0;transition-duration:300ms"><div><ul class="_flex _flex-col _gap-1 _relative before:_absolute before:_inset-y-1 before:_w-px before:_bg-gray-200 before:_content-[&quot;&quot;] dark:before:_bg-neutral-800 ltr:_pl-3 ltr:before:_left-0 rtl:_pr-3 rtl:before:_right-0 _pt-1 ltr:_ml-3 rtl:_mr-3"><li class="_flex _flex-col _gap-1"><a class="nextra-focus _flex _rounded _px-2 _py-1.5 _text-sm _transition-colors [word-break:break-word] _cursor-pointer contrast-more:_border _text-gray-500 hover:_bg-gray-100 hover:_text-gray-900 dark:_text-neutral-400 dark:hover:_bg-primary-100/5 dark:hover:_text-gray-50 contrast-more:_text-gray-900 contrast-more:dark:_text-gray-50 contrast-more:_border-transparent contrast-more:hover:_border-gray-900 contrast-more:dark:hover:_border-gray-50" href="/kliveide/getting-started/installation/">Installing Klive</a></li><li class="_flex _flex-col _gap-1"><a class="nextra-focus _flex _rounded _px-2 _py-1.5 _text-sm _transition-colors [word-break:break-word] _cursor-pointer contrast-more:_border _text-gray-500 hover:_bg-gray-100 hover:_text-gray-900 dark:_text-neutral-400 dark:hover:_bg-primary-100/5 dark:hover:_text-gray-50 contrast-more:_text-gray-900 contrast-more:dark:_text-gray-50 contrast-more:_border-transparent contrast-more:hover:_border-gray-900 contrast-more:dark:hover:_border-gray-50" href="/kliveide/getting-started/first-run/">Running Klive</a></li><li class="_flex _flex-col _gap-1"><a class="nextra-focus _flex _rounded _px-2 _py-1.5 _text-sm _transition-colors [word-break:break-word] _cursor-pointer contrast-more:_border _text-gray-500 hover:_bg-gray-100 hover:_text-gray-900 dark:_text-neutral-400 dark:hover:_bg-primary-100/5 dark:hover:_text-gray-50 contrast-more:_text-gray-900 contrast-more:dark:_text-gray-50 contrast-more:_border-transparent contrast-more:hover:_border-gray-900 contrast-more:dark:hover:_border-gray-50" href="/kliveide/getting-started/keyboard/">Using the Keyboard</a></li><li class="_flex _flex-col _gap-1"><a class="nextra-focus _flex _rounded _px-2 _py-1.5 _text-sm _transition-colors [word-break:break-word] _cursor-pointer contrast-more:_border _text-gray-500 hover:_bg-gray-100 hover:_text-gray-900 dark:_text-neutral-400 dark:hover:_bg-primary-100/5 dark:hover:_text-gray-50 contrast-more:_text-gray-900 contrast-more:dark:_text-gray-50 contrast-more:_border-transparent contrast-more:hover:_border-gray-900 contrast-more:dark:hover:_border-gray-50" href="/kliveide/getting-started/tapes/">Loading from Tape</a></li><li class="_flex _flex-col _gap-1"><a class="nextra-focus _flex _rounded _px-2 _py-1.5 _text-sm _transition-colors [word-break:break-word] _cursor-pointer contrast-more:_border _text-gray-500 hover:_bg-gray-100 hover:_text-gray-900 dark:_text-neutral-400 dark:hover:_bg-primary-100/5 dark:hover:_text-gray-50 contrast-more:_text-gray-900 contrast-more:dark:_text-gray-50 contrast-more:_border-transparent contrast-more:hover:_border-gray-900 contrast-more:dark:hover:_border-gray-50" href="/kliveide/getting-started/save-programs/">Saving Files</a></li><li class="_flex _flex-col _gap-1"><a class="nextra-focus _flex _rounded _px-2 _py-1.5 _text-sm _transition-colors [word-break:break-word] _cursor-pointer contrast-more:_border _text-gray-500 hover:_bg-gray-100 hover:_text-gray-900 dark:_text-neutral-400 dark:hover:_bg-primary-100/5 dark:hover:_text-gray-50 contrast-more:_text-gray-900 contrast-more:dark:_text-gray-50 contrast-more:_border-transparent contrast-more:hover:_border-gray-900 contrast-more:dark:hover:_border-gray-50" href="/kliveide/getting-started/creating-project/">Creating a Klive Project</a></li></ul></div></div></li><li class=""><button class="_transition _items-center _justify-between _gap-2 _text-left _w-full _flex _rounded _px-2 _py-1.5 _text-sm _transition-colors [word-break:break-word] _cursor-pointer contrast-more:_border _text-gray-500 hover:_bg-gray-100 hover:_text-gray-900 dark:_text-neutral-400 dark:hover:_bg-primary-100/5 dark:hover:_text-gray-50 contrast-more:_text-gray-900 contrast-more:dark:_text-gray-50 contrast-more:_border-transparent contrast-more:hover:_border-gray-900 contrast-more:dark:hover:_border-gray-50" data-href="/working-with-ide" type="button" data-headlessui-state="">Working with the IDE<svg viewBox="0 0 24 24" stroke="currentColor" fill="none" stroke-width="2" height="18" class="_shrink-0 _rounded-sm _p-0.5 hover:_bg-gray-800/5 dark:hover:_bg-gray-100/5 motion-reduce:*:_transition-none *:_origin-center *:_transition-transform *:rtl:_-rotate-180"><path d="M9 5l7 7-7 7" stroke-linecap="round" stroke-linejoin="round"></path></svg></button><div class="_transform-gpu _transition-all _ease-in-out motion-reduce:_transition-none _opacity-0 _overflow-hidden" style="height:0;transition-duration:300ms"><div><ul class="_flex _flex-col _gap-1 _relative before:_absolute before:_inset-y-1 before:_w-px before:_bg-gray-200 before:_content-[&quot;&quot;] dark:before:_bg-neutral-800 ltr:_pl-3 ltr:before:_left-0 rtl:_pr-3 rtl:before:_right-0 _pt-1 ltr:_ml-3 rtl:_mr-3"><li class="_flex _flex-col _gap-1"><a class="nextra-focus _flex _rounded _px-2 _py-1.5 _text-sm _transition-colors [word-break:break-word] _cursor-pointer contrast-more:_border _text-gray-500 hover:_bg-gray-100 hover:_text-gray-900 dark:_text-neutral-400 dark:hover:_bg-primary-100/5 dark:hover:_text-gray-50 contrast-more:_text-gray-900 contrast-more:dark:_text-gray-50 contrast-more:_border-transparent contrast-more:hover:_border-gray-900 contrast-more:dark:hover:_border-gray-50" href="/kliveide/working-with-ide/project-explorer/">The Project Explorer</a></li><li class="_flex _flex-col _gap-1"><a class="nextra-focus _flex _rounded _px-2 _py-1.5 _text-sm _transition-colors [word-break:break-word] _cursor-pointer contrast-more:_border _text-gray-500 hover:_bg-gray-100 hover:_text-gray-900 dark:_text-neutral-400 dark:hover:_bg-primary-100/5 dark:hover:_text-gray-50 contrast-more:_text-gray-900 contrast-more:dark:_text-gray-50 contrast-more:_border-transparent contrast-more:hover:_border-gray-900 contrast-more:dark:hover:_border-gray-50" href="/kliveide/working-with-ide/editing-code/">Editing Code</a></li><li class="_flex _flex-col _gap-1"><a class="nextra-focus _flex _rounded _px-2 _py-1.5 _text-sm _transition-colors [word-break:break-word] _cursor-pointer contrast-more:_border _text-gray-500 hover:_bg-gray-100 hover:_text-gray-900 dark:_text-neutral-400 dark:hover:_bg-primary-100/5 dark:hover:_text-gray-50 contrast-more:_text-gray-900 contrast-more:dark:_text-gray-50 contrast-more:_border-transparent contrast-more:hover:_border-gray-900 contrast-more:dark:hover:_border-gray-50" href="/kliveide/working-with-ide/run-debug/">Running &amp; Debugging Code</a></li><li class="_flex _flex-col _gap-1"><a class="nextra-focus _flex _rounded _px-2 _py-1.5 _text-sm _transition-colors [word-break:break-word] _cursor-pointer contrast-more:_border _text-gray-500 hover:_bg-gray-100 hover:_text-gray-900 dark:_text-neutral-400 dark:hover:_bg-primary-100/5 dark:hover:_text-gray-50 contrast-more:_text-gray-900 contrast-more:dark:_text-gray-50 contrast-more:_border-transparent contrast-more:hover:_border-gray-900 contrast-more:dark:hover:_border-gray-50" href="/kliveide/working-with-ide/exporting-code/">Exporting Code</a></li><li class="_flex _flex-col _gap-1"><a class="nextra-focus _flex _rounded _px-2 _py-1.5 _text-sm _transition-colors [word-break:break-word] _cursor-pointer contrast-more:_border _text-gray-500 hover:_bg-gray-100 hover:_text-gray-900 dark:_text-neutral-400 dark:hover:_bg-primary-100/5 dark:hover:_text-gray-50 contrast-more:_text-gray-900 contrast-more:dark:_text-gray-50 contrast-more:_border-transparent contrast-more:hover:_border-gray-900 contrast-more:dark:hover:_border-gray-50" href="/kliveide/working-with-ide/zxb/">ZXBASIC Integration</a></li><li class="_flex _flex-col _gap-1"><a class="nextra-focus _flex _rounded _px-2 _py-1.5 _text-sm _transition-colors [word-break:break-word] _cursor-pointer contrast-more:_border _text-gray-500 hover:_bg-gray-100 hover:_text-gray-900 dark:_text-neutral-400 dark:hover:_bg-primary-100/5 dark:hover:_text-gray-50 contrast-more:_text-gray-900 contrast-more:dark:_text-gray-50 contrast-more:_border-transparent contrast-more:hover:_border-gray-900 contrast-more:dark:hover:_border-gray-50" href="/kliveide/working-with-ide/sjasmp/">SJASMPLUS Integration</a></li><li class="_flex _flex-col _gap-1"><a class="nextra-focus _flex _rounded _px-2 _py-1.5 _text-sm _transition-colors [word-break:break-word] _cursor-pointer contrast-more:_border _text-gray-500 hover:_bg-gray-100 hover:_text-gray-900 dark:_text-neutral-400 dark:hover:_bg-primary-100/5 dark:hover:_text-gray-50 contrast-more:_text-gray-900 contrast-more:dark:_text-gray-50 contrast-more:_border-transparent contrast-more:hover:_border-gray-900 contrast-more:dark:hover:_border-gray-50" href="/kliveide/working-with-ide/ide-settings/">IDE Settings</a></li><li class="_flex _flex-col _gap-1"><a class="nextra-focus _flex _rounded _px-2 _py-1.5 _text-sm _transition-colors [word-break:break-word] _cursor-pointer contrast-more:_border _text-gray-500 hover:_bg-gray-100 hover:_text-gray-900 dark:_text-neutral-400 dark:hover:_bg-primary-100/5 dark:hover:_text-gray-50 contrast-more:_text-gray-900 contrast-more:dark:_text-gray-50 contrast-more:_border-transparent contrast-more:hover:_border-gray-900 contrast-more:dark:hover:_border-gray-50" href="/kliveide/working-with-ide/cpu/">The CPU View</a></li><li class="_flex _flex-col _gap-1"><a class="nextra-focus _flex _rounded _px-2 _py-1.5 _text-sm _transition-colors [word-break:break-word] _cursor-pointer contrast-more:_border _text-gray-500 hover:_bg-gray-100 hover:_text-gray-900 dark:_text-neutral-400 dark:hover:_bg-primary-100/5 dark:hover:_text-gray-50 contrast-more:_text-gray-900 contrast-more:dark:_text-gray-50 contrast-more:_border-transparent contrast-more:hover:_border-gray-900 contrast-more:dark:hover:_border-gray-50" href="/kliveide/working-with-ide/ula/">The ULA View</a></li><li class="_flex _flex-col _gap-1"><a class="nextra-focus _flex _rounded _px-2 _py-1.5 _text-sm _transition-colors [word-break:break-word] _cursor-pointer contrast-more:_border _text-gray-500 hover:_bg-gray-100 hover:_text-gray-900 dark:_text-neutral-400 dark:hover:_bg-primary-100/5 dark:hover:_text-gray-50 contrast-more:_text-gray-900 contrast-more:dark:_text-gray-50 contrast-more:_border-transparent contrast-more:hover:_border-gray-900 contrast-more:dark:hover:_border-gray-50" href="/kliveide/working-with-ide/memory/">The Memory View</a></li><li class="_flex _flex-col _gap-1"><a class="nextra-focus _flex _rounded _px-2 _py-1.5 _text-sm _transition-colors [word-break:break-word] _cursor-pointer contrast-more:_border _text-gray-500 hover:_bg-gray-100 hover:_text-gray-900 dark:_text-neutral-400 dark:hover:_bg-primary-100/5 dark:hover:_text-gray-50 contrast-more:_text-gray-900 contrast-more:dark:_text-gray-50 contrast-more:_border-transparent contrast-more:hover:_border-gray-900 contrast-more:dark:hover:_border-gray-50" href="/kliveide/working-with-ide/disassembly/">The Disassembly View</a></li><li class="_flex _flex-col _gap-1"><a class="nextra-focus _flex _rounded _px-2 _py-1.5 _text-sm _transition-colors [word-break:break-word] _cursor-pointer contrast-more:_border _text-gray-500 hover:_bg-gray-100 hover:_text-gray-900 dark:_text-neutral-400 dark:hover:_bg-primary-100/5 dark:hover:_text-gray-50 contrast-more:_text-gray-900 contrast-more:dark:_text-gray-50 contrast-more:_border-transparent contrast-more:hover:_border-gray-900 contrast-more:dark:hover:_border-gray-50" href="/kliveide/working-with-ide/watch/">Watch Expressions</a></li><li class="_flex _flex-col _gap-1"><a class="nextra-focus _flex _rounded _px-2 _py-1.5 _text-sm _transition-colors [word-break:break-word] _cursor-pointer contrast-more:_border _text-gray-500 hover:_bg-gray-100 hover:_text-gray-900 dark:_text-neutral-400 dark:hover:_bg-primary-100/5 dark:hover:_text-gray-50 contrast-more:_text-gray-900 contrast-more:dark:_text-gray-50 contrast-more:_border-transparent contrast-more:hover:_border-gray-900 contrast-more:dark:hover:_border-gray-50" href="/kliveide/working-with-ide/breakpoints/">The Breakpoints View</a></li><li class="_flex _flex-col _gap-1"><a class="nextra-focus _flex _rounded _px-2 _py-1.5 _text-sm _transition-colors [word-break:break-word] _cursor-pointer contrast-more:_border _text-gray-500 hover:_bg-gray-100 hover:_text-gray-900 dark:_text-neutral-400 dark:hover:_bg-primary-100/5 dark:hover:_text-gray-50 contrast-more:_text-gray-900 contrast-more:dark:_text-gray-50 contrast-more:_border-transparent contrast-more:hover:_border-gray-900 contrast-more:dark:hover:_border-gray-50" href="/kliveide/working-with-ide/system-vars/">The System Variables View</a></li><li class="_flex _flex-col _gap-1"><a class="nextra-focus _flex _rounded _px-2 _py-1.5 _text-sm _transition-colors [word-break:break-word] _cursor-pointer contrast-more:_border _text-gray-500 hover:_bg-gray-100 hover:_text-gray-900 dark:_text-neutral-400 dark:hover:_bg-primary-100/5 dark:hover:_text-gray-50 contrast-more:_text-gray-900 contrast-more:dark:_text-gray-50 contrast-more:_border-transparent contrast-more:hover:_border-gray-900 contrast-more:dark:hover:_border-gray-50" href="/kliveide/working-with-ide/basic/">The BASIC Listing</a></li><li class="_flex _flex-col _gap-1"><a class="nextra-focus _flex _rounded _px-2 _py-1.5 _text-sm _transition-colors [word-break:break-word] _cursor-pointer contrast-more:_border _text-gray-500 hover:_bg-gray-100 hover:_text-gray-900 dark:_text-neutral-400 dark:hover:_bg-primary-100/5 dark:hover:_text-gray-50 contrast-more:_text-gray-900 contrast-more:dark:_text-gray-50 contrast-more:_border-transparent contrast-more:hover:_border-gray-900 contrast-more:dark:hover:_border-gray-50" href="/kliveide/working-with-ide/commands/">Interactive Commands</a></li><li class="_flex _flex-col _gap-1"><a class="nextra-focus _flex _rounded _px-2 _py-1.5 _text-sm _transition-colors [word-break:break-word] _cursor-pointer contrast-more:_border _text-gray-500 hover:_bg-gray-100 hover:_text-gray-900 dark:_text-neutral-400 dark:hover:_bg-primary-100/5 dark:hover:_text-gray-50 contrast-more:_text-gray-900 contrast-more:dark:_text-gray-50 contrast-more:_border-transparent contrast-more:hover:_border-gray-900 contrast-more:dark:hover:_border-gray-50" href="/kliveide/working-with-ide/build-system/">The Build System</a></li></ul></div></div></li><li class=""><button class="_transition _items-center _justify-between _gap-2 _text-left _w-full _flex _rounded _px-2 _py-1.5 _text-sm _transition-colors [word-break:break-word] _cursor-pointer contrast-more:_border _text-gray-500 hover:_bg-gray-100 hover:_text-gray-900 dark:_text-neutral-400 dark:hover:_bg-primary-100/5 dark:hover:_text-gray-50 contrast-more:_text-gray-900 contrast-more:dark:_text-gray-50 contrast-more:_border-transparent contrast-more:hover:_border-gray-900 contrast-more:dark:hover:_border-gray-50" data-href="/howto" type="button" data-headlessui-state="">How To<svg viewBox="0 0 24 24" stroke="currentColor" fill="none" stroke-width="2" height="18" class="_shrink-0 _rounded-sm _p-0.5 hover:_bg-gray-800/5 dark:hover:_bg-gray-100/5 motion-reduce:*:_transition-none *:_origin-center *:_transition-transform *:rtl:_-rotate-180"><path d="M9 5l7 7-7 7" stroke-linecap="round" stroke-linejoin="round"></path></svg></button><div class="_transform-gpu _transition-all _ease-in-out motion-reduce:_transition-none _opacity-0 _overflow-hidden" style="height:0;transition-duration:300ms"><div><ul class="_flex _flex-col _gap-1 _relative before:_absolute before:_inset-y-1 before:_w-px before:_bg-gray-200 before:_content-[&quot;&quot;] dark:before:_bg-neutral-800 ltr:_pl-3 ltr:before:_left-0 rtl:_pr-3 rtl:before:_right-0 _pt-1 ltr:_ml-3 rtl:_mr-3"><li class="_flex _flex-col _gap-1"><a class="nextra-focus _flex _rounded _px-2 _py-1.5 _text-sm _transition-colors [word-break:break-word] _cursor-pointer contrast-more:_border _text-gray-500 hover:_bg-gray-100 hover:_text-gray-900 dark:_text-neutral-400 dark:hover:_bg-primary-100/5 dark:hover:_text-gray-50 contrast-more:_text-gray-900 contrast-more:dark:_text-gray-50 contrast-more:_border-transparent contrast-more:hover:_border-gray-900 contrast-more:dark:hover:_border-gray-50" href="/kliveide/howto/ide-startup/">IDE startup options</a></li><li class="_flex _flex-col _gap-1"><a class="nextra-focus _flex _rounded _px-2 _py-1.5 _text-sm _transition-colors [word-break:break-word] _cursor-pointer contrast-more:_border _text-gray-500 hover:_bg-gray-100 hover:_text-gray-900 dark:_text-neutral-400 dark:hover:_bg-primary-100/5 dark:hover:_text-gray-50 contrast-more:_text-gray-900 contrast-more:dark:_text-gray-50 contrast-more:_border-transparent contrast-more:hover:_border-gray-900 contrast-more:dark:hover:_border-gray-50" href="/kliveide/howto/diagnostics/">Diagnostics</a></li><li class="_flex _flex-col _gap-1"><a class="nextra-focus _flex _rounded _px-2 _py-1.5 _text-sm _transition-colors [word-break:break-word] _cursor-pointer contrast-more:_border _text-gray-500 hover:_bg-gray-100 hover:_text-gray-900 dark:_text-neutral-400 dark:hover:_bg-primary-100/5 dark:hover:_text-gray-50 contrast-more:_text-gray-900 contrast-more:dark:_text-gray-50 contrast-more:_border-transparent contrast-more:hover:_border-gray-900 contrast-more:dark:hover:_border-gray-50" href="/kliveide/howto/shortcuts/">Changing keyboard shortcuts</a></li><li class="_flex _flex-col _gap-1"><a class="nextra-focus _flex _rounded _px-2 _py-1.5 _text-sm _transition-colors [word-break:break-word] _cursor-pointer contrast-more:_border _text-gray-500 hover:_bg-gray-100 hover:_text-gray-900 dark:_text-neutral-400 dark:hover:_bg-primary-100/5 dark:hover:_text-gray-50 contrast-more:_text-gray-900 contrast-more:dark:_text-gray-50 contrast-more:_border-transparent contrast-more:hover:_border-gray-900 contrast-more:dark:hover:_border-gray-50" href="/kliveide/howto/file-extensions/">Changing default file extensions</a></li><li class="_flex _flex-col _gap-1"><a class="nextra-focus _flex _rounded _px-2 _py-1.5 _text-sm _transition-colors [word-break:break-word] _cursor-pointer contrast-more:_border _text-gray-500 hover:_bg-gray-100 hover:_text-gray-900 dark:_text-neutral-400 dark:hover:_bg-primary-100/5 dark:hover:_text-gray-50 contrast-more:_text-gray-900 contrast-more:dark:_text-gray-50 contrast-more:_border-transparent contrast-more:hover:_border-gray-900 contrast-more:dark:hover:_border-gray-50" href="/kliveide/howto/customize-syntax-colors/">Customizing syntax highlighting colors</a></li><li class="_flex _flex-col _gap-1"><a class="nextra-focus _flex _rounded _px-2 _py-1.5 _text-sm _transition-colors [word-break:break-word] _cursor-pointer contrast-more:_border _text-gray-500 hover:_bg-gray-100 hover:_text-gray-900 dark:_text-neutral-400 dark:hover:_bg-primary-100/5 dark:hover:_text-gray-50 contrast-more:_text-gray-900 contrast-more:dark:_text-gray-50 contrast-more:_border-transparent contrast-more:hover:_border-gray-900 contrast-more:dark:hover:_border-gray-50" href="/kliveide/howto/instant-screen/">Using the Instant Screen</a></li><li class="_flex _flex-col _gap-1"><a class="nextra-focus _flex _rounded _px-2 _py-1.5 _text-sm _transition-colors [word-break:break-word] _cursor-pointer contrast-more:_border _text-gray-500 hover:_bg-gray-100 hover:_text-gray-900 dark:_text-neutral-400 dark:hover:_bg-primary-100/5 dark:hover:_text-gray-50 contrast-more:_text-gray-900 contrast-more:dark:_text-gray-50 contrast-more:_border-transparent contrast-more:hover:_border-gray-900 contrast-more:dark:hover:_border-gray-50" href="/kliveide/howto/screen-recording/">Recording the Emulator Screen</a></li><li class="_flex _flex-col _gap-1"><a class="nextra-focus _flex _rounded _px-2 _py-1.5 _text-sm _transition-colors [word-break:break-word] _cursor-pointer contrast-more:_border _text-gray-500 hover:_bg-gray-100 hover:_text-gray-900 dark:_text-neutral-400 dark:hover:_bg-primary-100/5 dark:hover:_text-gray-50 contrast-more:_text-gray-900 contrast-more:dark:_text-gray-50 contrast-more:_border-transparent contrast-more:hover:_border-gray-900 contrast-more:dark:hover:_border-gray-50" href="/kliveide/howto/always-on-top/">Keeping the Emulator always on top</a></li><li class="_flex _flex-col _gap-1"><a class="nextra-focus _flex _rounded _px-2 _py-1.5 _text-sm _transition-colors [word-break:break-word] _cursor-pointer contrast-more:_border _text-gray-500 hover:_bg-gray-100 hover:_text-gray-900 dark:_text-neutral-400 dark:hover:_bg-primary-100/5 dark:hover:_text-gray-50 contrast-more:_text-gray-900 contrast-more:dark:_text-gray-50 contrast-more:_border-transparent contrast-more:hover:_border-gray-900 contrast-more:dark:hover:_border-gray-50" href="/kliveide/howto/measure-t-states/">Measuring T-states</a></li><li class="_flex _flex-col _gap-1"><a class="nextra-focus _flex _rounded _px-2 _py-1.5 _text-sm _transition-colors [word-break:break-word] _cursor-pointer contrast-more:_border _text-gray-500 hover:_bg-gray-100 hover:_text-gray-900 dark:_text-neutral-400 dark:hover:_bg-primary-100/5 dark:hover:_text-gray-50 contrast-more:_text-gray-900 contrast-more:dark:_text-gray-50 contrast-more:_border-transparent contrast-more:hover:_border-gray-900 contrast-more:dark:hover:_border-gray-50" href="/kliveide/howto/sp48-custom-rom/">Using a Custom ROM with ZX Spectrum 48K</a></li></ul></div></div></li><li class=""><button class="_transition _items-center _justify-between _gap-2 _text-left _w-full _flex _rounded _px-2 _py-1.5 _text-sm _transition-colors [word-break:break-word] _cursor-pointer contrast-more:_border _text-gray-500 hover:_bg-gray-100 hover:_text-gray-900 dark:_text-neutral-400 dark:hover:_bg-primary-100/5 dark:hover:_text-gray-50 contrast-more:_text-gray-900 contrast-more:dark:_text-gray-50 contrast-more:_border-transparent contrast-more:hover:_border-gray-900 contrast-more:dark:hover:_border-gray-50" data-href="/z80-assembly" type="button" data-headlessui-state="">Klive Z80 Assembler<svg viewBox="0 0 24 24" stroke="currentColor" fill="none" stroke-width="2" height="18" class="_shrink-0 _rounded-sm _p-0.5 hover:_bg-gray-800/5 dark:hover:_bg-gray-100/5 motion-reduce:*:_transition-none *:_origin-center *:_transition-transform *:rtl:_-rotate-180"><path d="M9 5l7 7-7 7" stroke-linecap="round" stroke-linejoin="round"></path></svg></button><div class="_transform-gpu _transition-all _ease-in-out motion-reduce:_transition-none _opacity-0 _overflow-hidden" style="height:0;transition-duration:300ms"><div><ul class="_flex _flex-col _gap-1 _relative before:_absolute before:_inset-y-1 before:_w-px before:_bg-gray-200 before:_content-[&quot;&quot;] dark:before:_bg-neutral-800 ltr:_pl-3 ltr:before:_left-0 rtl:_pr-3 rtl:before:_right-0 _pt-1 ltr:_ml-3 rtl:_mr-3"><li class="_flex _flex-col _gap-1"><a class="nextra-focus _flex _rounded _px-2 _py-1.5 _text-sm _transition-colors [word-break:break-word] _cursor-pointer contrast-more:_border _text-gray-500 hover:_bg-gray-100 hover:_text-gray-900 dark:_text-neutral-400 dark:hover:_bg-primary-100/5 dark:hover:_text-gray-50 contrast-more:_text-gray-900 contrast-more:dark:_text-gray-50 contrast-more:_border-transparent contrast-more:hover:_border-gray-900 contrast-more:dark:hover:_border-gray-50" href="/kliveide/z80-assembly/z80-assembler/">Assembler Overview</a></li><li class="_flex _flex-col _gap-1"><a class="nextra-focus _flex _rounded _px-2 _py-1.5 _text-sm _transition-colors [word-break:break-word] _cursor-pointer contrast-more:_border _text-gray-500 hover:_bg-gray-100 hover:_text-gray-900 dark:_text-neutral-400 dark:hover:_bg-primary-100/5 dark:hover:_text-gray-50 contrast-more:_text-gray-900 contrast-more:dark:_text-gray-50 contrast-more:_border-transparent contrast-more:hover:_border-gray-900 contrast-more:dark:hover:_border-gray-50" href="/kliveide/z80-assembly/language-structure/">Language Structure</a></li><li class="_flex _flex-col _gap-1"><a class="nextra-focus _flex _rounded _px-2 _py-1.5 _text-sm _transition-colors [word-break:break-word] _cursor-pointer contrast-more:_border _text-gray-500 hover:_bg-gray-100 hover:_text-gray-900 dark:_text-neutral-400 dark:hover:_bg-primary-100/5 dark:hover:_text-gray-50 contrast-more:_text-gray-900 contrast-more:dark:_text-gray-50 contrast-more:_border-transparent contrast-more:hover:_border-gray-900 contrast-more:dark:hover:_border-gray-50" href="/kliveide/z80-assembly/directives/">Directives</a></li><li class="_flex _flex-col _gap-1"><a class="nextra-focus _flex _rounded _px-2 _py-1.5 _text-sm _transition-colors [word-break:break-word] _cursor-pointer contrast-more:_border _text-gray-500 hover:_bg-gray-100 hover:_text-gray-900 dark:_text-neutral-400 dark:hover:_bg-primary-100/5 dark:hover:_text-gray-50 contrast-more:_text-gray-900 contrast-more:dark:_text-gray-50 contrast-more:_border-transparent contrast-more:hover:_border-gray-900 contrast-more:dark:hover:_border-gray-50" href="/kliveide/z80-assembly/expressions/">Expressions</a></li><li class="_flex _flex-col _gap-1"><a class="nextra-focus _flex _rounded _px-2 _py-1.5 _text-sm _transition-colors [word-break:break-word] _cursor-pointer contrast-more:_border _text-gray-500 hover:_bg-gray-100 hover:_text-gray-900 dark:_text-neutral-400 dark:hover:_bg-primary-100/5 dark:hover:_text-gray-50 contrast-more:_text-gray-900 contrast-more:dark:_text-gray-50 contrast-more:_border-transparent contrast-more:hover:_border-gray-900 contrast-more:dark:hover:_border-gray-50" href="/kliveide/z80-assembly/z80-instructions/">Z80 Instructions</a></li><li class="_flex _flex-col _gap-1"><a class="nextra-focus _flex _rounded _px-2 _py-1.5 _text-sm _transition-colors [word-break:break-word] _cursor-pointer contrast-more:_border _text-gray-500 hover:_bg-gray-100 hover:_text-gray-900 dark:_text-neutral-400 dark:hover:_bg-primary-100/5 dark:hover:_text-gray-50 contrast-more:_text-gray-900 contrast-more:dark:_text-gray-50 contrast-more:_border-transparent contrast-more:hover:_border-gray-900 contrast-more:dark:hover:_border-gray-50" href="/kliveide/z80-assembly/pragmas/">Pragmas</a></li><li class="_flex _flex-col _gap-1"><a class="nextra-focus _flex _rounded _px-2 _py-1.5 _text-sm _transition-colors [word-break:break-word] _cursor-pointer contrast-more:_border _text-gray-500 hover:_bg-gray-100 hover:_text-gray-900 dark:_text-neutral-400 dark:hover:_bg-primary-100/5 dark:hover:_text-gray-50 contrast-more:_text-gray-900 contrast-more:dark:_text-gray-50 contrast-more:_border-transparent contrast-more:hover:_border-gray-900 contrast-more:dark:hover:_border-gray-50" href="/kliveide/z80-assembly/zx-next/">ZX Spectrum Next</a></li><li class="_flex _flex-col _gap-1"><a class="nextra-focus _flex _rounded _px-2 _py-1.5 _text-sm _transition-colors [word-break:break-word] _cursor-pointer contrast-more:_border _text-gray-500 hover:_bg-gray-100 hover:_text-gray-900 dark:_text-neutral-400 dark:hover:_bg-primary-100/5 dark:hover:_text-gray-50 contrast-more:_text-gray-900 contrast-more:dark:_text-gray-50 contrast-more:_border-transparent contrast-more:hover:_border-gray-900 contrast-more:dark:hover:_border-gray-50" href="/kliveide/z80-assembly/statements/">Assembler Statements</a></li><li class="_flex _flex-col _gap-1"><a class="nextra-focus _flex _rounded _px-2 _py-1.5 _text-sm _transition-colors [word-break:break-word] _cursor-pointer contrast-more:_border _text-gray-500 hover:_bg-gray-100 hover:_text-gray-900 dark:_text-neutral-400 dark:hover:_bg-primary-100/5 dark:hover:_text-gray-50 contrast-more:_text-gray-900 contrast-more:dark:_text-gray-50 contrast-more:_border-transparent contrast-more:hover:_border-gray-900 contrast-more:dark:hover:_border-gray-50" href="/kliveide/z80-assembly/macros/">Macros</a></li><li class="_flex _flex-col _gap-1"><a class="nextra-focus _flex _rounded _px-2 _py-1.5 _text-sm _transition-colors [word-break:break-word] _cursor-pointer contrast-more:_border _text-gray-500 hover:_bg-gray-100 hover:_text-gray-900 dark:_text-neutral-400 dark:hover:_bg-primary-100/5 dark:hover:_text-gray-50 contrast-more:_text-gray-900 contrast-more:dark:_text-gray-50 contrast-more:_border-transparent contrast-more:hover:_border-gray-900 contrast-more:dark:hover:_border-gray-50" href="/kliveide/z80-assembly/structs/">Structs</a></li></ul></div></div></li><li class=""><button class="_transition _items-center _justify-between _gap-2 _text-left _w-full _flex _rounded _px-2 _py-1.5 _text-sm _transition-colors [word-break:break-word] _cursor-pointer contrast-more:_border _text-gray-500 hover:_bg-gray-100 hover:_text-gray-900 dark:_text-neutral-400 dark:hover:_bg-primary-100/5 dark:hover:_text-gray-50 contrast-more:_text-gray-900 contrast-more:dark:_text-gray-50 contrast-more:_border-transparent contrast-more:hover:_border-gray-900 contrast-more:dark:hover:_border-gray-50" data-href="/contribute" type="button" data-headlessui-state="">Contribute<svg viewBox="0 0 24 24" stroke="currentColor" fill="none" stroke-width="2" height="18" class="_shrink-0 _rounded-sm _p-0.5 hover:_bg-gray-800/5 dark:hover:_bg-gray-100/5 motion-reduce:*:_transition-none *:_origin-center *:_transition-transform *:rtl:_-rotate-180"><path d="M9 5l7 7-7 7" stroke-linecap="round" stroke-linejoin="round"></path></svg></button><div class="_transform-gpu _transition-all _ease-in-out motion-reduce:_transition-none _opacity-0 _overflow-hidden" style="height:0;transition-duration:300ms"><div><ul class="_flex _flex-col _gap-1 _relative before:_absolute before:_inset-y-1 before:_w-px before:_bg-gray-200 before:_content-[&quot;&quot;] dark:before:_bg-neutral-800 ltr:_pl-3 ltr:before:_left-0 rtl:_pr-3 rtl:before:_right-0 _pt-1 ltr:_ml-3 rtl:_mr-3"><li class="_flex _flex-col _gap-1"><a class="nextra-focus _flex _rounded _px-2 _py-1.5 _text-sm _transition-colors [word-break:break-word] _cursor-pointer contrast-more:_border _text-gray-500 hover:_bg-gray-100 hover:_text-gray-900 dark:_text-neutral-400 dark:hover:_bg-primary-100/5 dark:hover:_text-gray-50 contrast-more:_text-gray-900 contrast-more:dark:_text-gray-50 contrast-more:_border-transparent contrast-more:hover:_border-gray-900 contrast-more:dark:hover:_border-gray-50" href="/kliveide/contribute/get-source/">Get the source code</a></li><li class="_flex _flex-col _gap-1"><a class="nextra-focus _flex _rounded _px-2 _py-1.5 _text-sm _transition-colors [word-break:break-word] _cursor-pointer contrast-more:_border _text-gray-500 hover:_bg-gray-100 hover:_text-gray-900 dark:_text-neutral-400 dark:hover:_bg-primary-100/5 dark:hover:_text-gray-50 contrast-more:_text-gray-900 contrast-more:dark:_text-gray-50 contrast-more:_border-transparent contrast-more:hover:_border-gray-900 contrast-more:dark:hover:_border-gray-50" href="/kliveide/contribute/improve-docs/">Improve the documentation</a></li></ul></div></div></li><li class=""><button class="_transition _items-center _justify-between _gap-2 _text-left _w-full _flex _rounded _px-2 _py-1.5 _text-sm _transition-colors [word-break:break-word] _cursor-pointer contrast-more:_border _text-gray-500 hover:_bg-gray-100 hover:_text-gray-900 dark:_text-neutral-400 dark:hover:_bg-primary-100/5 dark:hover:_text-gray-50 contrast-more:_text-gray-900 contrast-more:dark:_text-gray-50 contrast-more:_border-transparent contrast-more:hover:_border-gray-900 contrast-more:dark:hover:_border-gray-50" data-href="/scripting" type="button" data-headlessui-state="">Scripting<svg viewBox="0 0 24 24" stroke="currentColor" fill="none" stroke-width="2" height="18" class="_shrink-0 _rounded-sm _p-0.5 hover:_bg-gray-800/5 dark:hover:_bg-gray-100/5 motion-reduce:*:_transition-none *:_origin-center *:_transition-transform *:rtl:_-rotate-180"><path d="M9 5l7 7-7 7" stroke-linecap="round" stroke-linejoin="round"></path></svg></button><div class="_transform-gpu _transition-all _ease-in-out motion-reduce:_transition-none _opacity-0 _overflow-hidden" style="height:0;transition-duration:300ms"><div><ul class="_flex _flex-col _gap-1 _relative before:_absolute before:_inset-y-1 before:_w-px before:_bg-gray-200 before:_content-[&quot;&quot;] dark:before:_bg-neutral-800 ltr:_pl-3 ltr:before:_left-0 rtl:_pr-3 rtl:before:_right-0 _pt-1 ltr:_ml-3 rtl:_mr-3"><li class="_flex _flex-col _gap-1"><a class="nextra-focus _flex _rounded _px-2 _py-1.5 _text-sm _transition-colors [word-break:break-word] _cursor-pointer contrast-more:_border _text-gray-500 hover:_bg-gray-100 hover:_text-gray-900 dark:_text-neutral-400 dark:hover:_bg-primary-100/5 dark:hover:_text-gray-50 contrast-more:_text-gray-900 contrast-more:dark:_text-gray-50 contrast-more:_border-transparent contrast-more:hover:_border-gray-900 contrast-more:dark:hover:_border-gray-50" href="/kliveide/scripting/overview/">Overview</a></li><li class="_flex _flex-col _gap-1"><a class="nextra-focus _flex _rounded _px-2 _py-1.5 _text-sm _transition-colors [word-break:break-word] _cursor-pointer contrast-more:_border _text-gray-500 hover:_bg-gray-100 hover:_text-gray-900 dark:_text-neutral-400 dark:hover:_bg-primary-100/5 dark:hover:_text-gray-50 contrast-more:_text-gray-900 contrast-more:dark:_text-gray-50 contrast-more:_border-transparent contrast-more:hover:_border-gray-900 contrast-more:dark:hover:_border-gray-50" href="/kliveide/scripting/syntax/">Scripting Syntax</a></li></ul></div></div></li><li class="_flex _flex-col _gap-1"><a class="nextra-focus _flex _rounded _px-2 _py-1.5 _text-sm _transition-colors [word-break:break-word] _cursor-pointer contrast-more:_border _text-gray-500 hover:_bg-gray-100 hover:_text-gray-900 dark:_text-neutral-400 dark:hover:_bg-primary-100/5 dark:hover:_text-gray-50 contrast-more:_text-gray-900 contrast-more:dark:_text-gray-50 contrast-more:_border-transparent contrast-more:hover:_border-gray-900 contrast-more:dark:hover:_border-gray-50" href="/kliveide/commands-reference/">Commands Reference</a></li><li class="_flex _flex-col _gap-1"><a class="nextra-focus _flex _rounded _px-2 _py-1.5 _text-sm _transition-colors [word-break:break-word] _cursor-pointer contrast-more:_border _text-gray-500 hover:_bg-gray-100 hover:_text-gray-900 dark:_text-neutral-400 dark:hover:_bg-primary-100/5 dark:hover:_text-gray-50 contrast-more:_text-gray-900 contrast-more:dark:_text-gray-50 contrast-more:_border-transparent contrast-more:hover:_border-gray-900 contrast-more:dark:hover:_border-gray-50" href="/kliveide/machine-types/">Machine Types</a></li><li class="_flex _flex-col _gap-1"><a class="nextra-focus _flex _rounded _px-2 _py-1.5 _text-sm _transition-colors [word-break:break-word] _cursor-pointer contrast-more:_border _text-gray-500 hover:_bg-gray-100 hover:_text-gray-900 dark:_text-neutral-400 dark:hover:_bg-primary-100/5 dark:hover:_text-gray-50 contrast-more:_text-gray-900 contrast-more:dark:_text-gray-50 contrast-more:_border-transparent contrast-more:hover:_border-gray-900 contrast-more:dark:hover:_border-gray-50" href="/kliveide/project-templates/">Project Templates</a></li></ul></div></div></div><div class="nextra-sidebar-footer _sticky _bottom-0 _flex _items-center _gap-2 _py-4 _mx-3 _px-1" data-toggle-animation="off"><div class="_grow _flex _flex-col"><button title="Change theme" class="_h-7 _rounded-md _px-2 _text-xs _font-medium _transition-colors _text-gray-600 dark:_text-gray-400" id="headlessui-listbox-button-:R6tsr6:" type="button" aria-haspopup="listbox" aria-expanded="false" data-headlessui-state=""><div class="_flex _items-center _gap-2 _capitalize"><svg fill="none" viewBox="3 3 18 18" width="12" height="12" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" fill="currentColor" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"></path></svg><span class="">Light</span></div></button></div><button class="_transition max-md:_hidden _rounded-md _p-2 _text-gray-600 dark:_text-gray-400" title="Hide sidebar" type="button" data-headlessui-state=""><svg viewBox="0 0 16 16" fill="currentColor" height="12" class=""><path d="M4.177 7.823l2.396-2.396A.25.25 0 017 5.604v4.792a.25.25 0 01-.427.177L4.177 8.177a.25.25 0 010-.354z"></path><path fill-rule="evenodd" d="M0 1.75C0 .784.784 0 1.75 0h12.5C15.216 0 16 .784 16 1.75v12.5A1.75 1.75 0 0114.25 16H1.75A1.75 1.75 0 010 14.25V1.75zm1.75-.25a.25.25 0 00-.25.25v12.5c0 .138.112.25.25.25H9.5v-13H1.75zm12.5 13H11v-13h3.25a.25.25 0 01.25.25v12.5a.25.25 0 01-.25.25z"></path></svg></button></div></aside><nav class="nextra-toc _order-last max-xl:_hidden _w-64 _shrink-0 print:_hidden" aria-label="table of contents"><div class="_grid _grid-rows-[min-content_1fr_min-content] _sticky _top-[--nextra-navbar-height] _pt-6 _text-sm _max-h-[calc(100vh-var(--nextra-navbar-height))]"><p class="_mx-4 _font-semibold _tracking-tight _pb-2 _shadow-[0_12px_16px_rgb(var(--nextra-bg))] contrast-more:_shadow-none _z-[1]">On This Page</p><ul class="_px-4 nextra-scrollbar _overscroll-y-contain _overflow-y-auto _hyphens-auto _py-1.5"><li class="_my-2 _scroll-my-6 _scroll-py-6"><a href="#how-to-access-nextregs" class="nextra-focus _font-semibold _block _transition-colors _subpixel-antialiased _text-gray-500 hover:_text-gray-900 dark:_text-gray-400 dark:hover:_text-gray-300 contrast-more:_text-gray-900 contrast-more:_underline contrast-more:dark:_text-gray-50 _break-words">How to Access NextRegs</a></li><li class="_my-2 _scroll-my-6 _scroll-py-6"><a href="#writing-a-register" class="nextra-focus _ms-4 _block _transition-colors _subpixel-antialiased _text-gray-500 hover:_text-gray-900 dark:_text-gray-400 dark:hover:_text-gray-300 contrast-more:_text-gray-900 contrast-more:_underline contrast-more:dark:_text-gray-50 _break-words">Writing a Register</a></li><li class="_my-2 _scroll-my-6 _scroll-py-6"><a href="#reading-a-register" class="nextra-focus _ms-4 _block _transition-colors _subpixel-antialiased _text-gray-500 hover:_text-gray-900 dark:_text-gray-400 dark:hover:_text-gray-300 contrast-more:_text-gray-900 contrast-more:_underline contrast-more:dark:_text-gray-50 _break-words">Reading a Register</a></li><li class="_my-2 _scroll-my-6 _scroll-py-6"><a href="#whats-in-here" class="nextra-focus _font-semibold _block _transition-colors _subpixel-antialiased _text-gray-500 hover:_text-gray-900 dark:_text-gray-400 dark:hover:_text-gray-300 contrast-more:_text-gray-900 contrast-more:_underline contrast-more:dark:_text-gray-50 _break-words">Whatâ€™s in Here</a></li><li class="_my-2 _scroll-my-6 _scroll-py-6"><a href="#system-identity-and-control" class="nextra-focus _font-semibold _block _transition-colors _subpixel-antialiased _text-gray-500 hover:_text-gray-900 dark:_text-gray-400 dark:hover:_text-gray-300 contrast-more:_text-gray-900 contrast-more:_underline contrast-more:dark:_text-gray-50 _break-words">System Identity and Control</a></li><li class="_my-2 _scroll-my-6 _scroll-py-6"><a href="#what-machine-is-this-0x00-0x01-0x0e-0x0f" class="nextra-focus _ms-4 _block _transition-colors _subpixel-antialiased _text-gray-500 hover:_text-gray-900 dark:_text-gray-400 dark:hover:_text-gray-300 contrast-more:_text-gray-900 contrast-more:_underline contrast-more:dark:_text-gray-50 _break-words">What Machine Is This? (<code class="nextra-code" dir="ltr">0x00</code>, <code class="nextra-code" dir="ltr">0x01</code>, <code class="nextra-code" dir="ltr">0x0E</code>, <code class="nextra-code" dir="ltr">0x0F</code>)</a></li><li class="_my-2 _scroll-my-6 _scroll-py-6"><a href="#resetting-the-machine-0x02" class="nextra-focus _ms-4 _block _transition-colors _subpixel-antialiased _text-gray-500 hover:_text-gray-900 dark:_text-gray-400 dark:hover:_text-gray-300 contrast-more:_text-gray-900 contrast-more:_underline contrast-more:dark:_text-gray-50 _break-words">Resetting the Machine (<code class="nextra-code" dir="ltr">0x02</code>)</a></li><li class="_my-2 _scroll-my-6 _scroll-py-6"><a href="#machine-type-and-display-timing-0x03-0x24" class="nextra-focus _ms-4 _block _transition-colors _subpixel-antialiased _text-gray-500 hover:_text-gray-900 dark:_text-gray-400 dark:hover:_text-gray-300 contrast-more:_text-gray-900 contrast-more:_underline contrast-more:dark:_text-gray-50 _break-words">Machine Type and Display Timing (<code class="nextra-code" dir="ltr">0x03</code>, <code class="nextra-code" dir="ltr">0x24</code>)</a></li><li class="_my-2 _scroll-my-6 _scroll-py-6"><a href="#core-selection-and-boot-0x10" class="nextra-focus _ms-4 _block _transition-colors _subpixel-antialiased _text-gray-500 hover:_text-gray-900 dark:_text-gray-400 dark:hover:_text-gray-300 contrast-more:_text-gray-900 contrast-more:_underline contrast-more:dark:_text-gray-50 _break-words">Core Selection and Boot (<code class="nextra-code" dir="ltr">0x10</code>)</a></li><li class="_my-2 _scroll-my-6 _scroll-py-6"><a href="#cpu-speed-0x07" class="nextra-focus _ms-4 _block _transition-colors _subpixel-antialiased _text-gray-500 hover:_text-gray-900 dark:_text-gray-400 dark:hover:_text-gray-300 contrast-more:_text-gray-900 contrast-more:_underline contrast-more:dark:_text-gray-50 _break-words">CPU Speed (<code class="nextra-code" dir="ltr">0x07</code>)</a></li><li class="_my-2 _scroll-my-6 _scroll-py-6"><a href="#memory-management" class="nextra-focus _font-semibold _block _transition-colors _subpixel-antialiased _text-gray-500 hover:_text-gray-900 dark:_text-gray-400 dark:hover:_text-gray-300 contrast-more:_text-gray-900 contrast-more:_underline contrast-more:dark:_text-gray-50 _break-words">Memory Management</a></li><li class="_my-2 _scroll-my-6 _scroll-py-6"><a href="#boot-time-bank-mapping-0x04" class="nextra-focus _ms-4 _block _transition-colors _subpixel-antialiased _text-gray-500 hover:_text-gray-900 dark:_text-gray-400 dark:hover:_text-gray-300 contrast-more:_text-gray-900 contrast-more:_underline contrast-more:dark:_text-gray-50 _break-words">Boot-Time Bank Mapping (<code class="nextra-code" dir="ltr">0x04</code>)</a></li><li class="_my-2 _scroll-my-6 _scroll-py-6"><a href="#the-eight-slots-0x500x57" class="nextra-focus _ms-4 _block _transition-colors _subpixel-antialiased _text-gray-500 hover:_text-gray-900 dark:_text-gray-400 dark:hover:_text-gray-300 contrast-more:_text-gray-900 contrast-more:_underline contrast-more:dark:_text-gray-50 _break-words">The Eight Slots (<code class="nextra-code" dir="ltr">0x50</code>â€“<code class="nextra-code" dir="ltr">0x57</code>)</a></li><li class="_my-2 _scroll-my-6 _scroll-py-6"><a href="#legacy-128k-memory-mapping-0x8e-0x8f" class="nextra-focus _ms-4 _block _transition-colors _subpixel-antialiased _text-gray-500 hover:_text-gray-900 dark:_text-gray-400 dark:hover:_text-gray-300 contrast-more:_text-gray-900 contrast-more:_underline contrast-more:dark:_text-gray-50 _break-words">Legacy 128K Memory Mapping (<code class="nextra-code" dir="ltr">0x8E</code>, <code class="nextra-code" dir="ltr">0x8F</code>)</a></li><li class="_my-2 _scroll-my-6 _scroll-py-6"><a href="#alternate-rom-0x8c" class="nextra-focus _ms-4 _block _transition-colors _subpixel-antialiased _text-gray-500 hover:_text-gray-900 dark:_text-gray-400 dark:hover:_text-gray-300 contrast-more:_text-gray-900 contrast-more:_underline contrast-more:dark:_text-gray-50 _break-words">Alternate ROM (<code class="nextra-code" dir="ltr">0x8C</code>)</a></li><li class="_my-2 _scroll-my-6 _scroll-py-6"><a href="#video-the-layer-system" class="nextra-focus _font-semibold _block _transition-colors _subpixel-antialiased _text-gray-500 hover:_text-gray-900 dark:_text-gray-400 dark:hover:_text-gray-300 contrast-more:_text-gray-900 contrast-more:_underline contrast-more:dark:_text-gray-50 _break-words">Video: The Layer System</a></li><li class="_my-2 _scroll-my-6 _scroll-py-6"><a href="#layer-priority-and-global-enable-0x15" class="nextra-focus _ms-4 _block _transition-colors _subpixel-antialiased _text-gray-500 hover:_text-gray-900 dark:_text-gray-400 dark:hover:_text-gray-300 contrast-more:_text-gray-900 contrast-more:_underline contrast-more:dark:_text-gray-50 _break-words">Layer Priority and Global Enable (<code class="nextra-code" dir="ltr">0x15</code>)</a></li><li class="_my-2 _scroll-my-6 _scroll-py-6"><a href="#global-transparency-0x14-0x4a-0x4b-0x4c" class="nextra-focus _ms-4 _block _transition-colors _subpixel-antialiased _text-gray-500 hover:_text-gray-900 dark:_text-gray-400 dark:hover:_text-gray-300 contrast-more:_text-gray-900 contrast-more:_underline contrast-more:dark:_text-gray-50 _break-words">Global Transparency (<code class="nextra-code" dir="ltr">0x14</code>, <code class="nextra-code" dir="ltr">0x4A</code>, <code class="nextra-code" dir="ltr">0x4B</code>, <code class="nextra-code" dir="ltr">0x4C</code>)</a></li><li class="_my-2 _scroll-my-6 _scroll-py-6"><a href="#active-video-line-0x1e-0x1f" class="nextra-focus _ms-4 _block _transition-colors _subpixel-antialiased _text-gray-500 hover:_text-gray-900 dark:_text-gray-400 dark:hover:_text-gray-300 contrast-more:_text-gray-900 contrast-more:_underline contrast-more:dark:_text-gray-50 _break-words">Active Video Line (<code class="nextra-code" dir="ltr">0x1E</code>, <code class="nextra-code" dir="ltr">0x1F</code>)</a></li><li class="_my-2 _scroll-my-6 _scroll-py-6"><a href="#video-layer-2" class="nextra-focus _font-semibold _block _transition-colors _subpixel-antialiased _text-gray-500 hover:_text-gray-900 dark:_text-gray-400 dark:hover:_text-gray-300 contrast-more:_text-gray-900 contrast-more:_underline contrast-more:dark:_text-gray-50 _break-words">Video: Layer 2</a></li><li class="_my-2 _scroll-my-6 _scroll-py-6"><a href="#assigning-memory-0x12-0x13-0x69" class="nextra-focus _ms-4 _block _transition-colors _subpixel-antialiased _text-gray-500 hover:_text-gray-900 dark:_text-gray-400 dark:hover:_text-gray-300 contrast-more:_text-gray-900 contrast-more:_underline contrast-more:dark:_text-gray-50 _break-words">Assigning Memory (<code class="nextra-code" dir="ltr">0x12</code>, <code class="nextra-code" dir="ltr">0x13</code>, <code class="nextra-code" dir="ltr">0x69</code>)</a></li><li class="_my-2 _scroll-my-6 _scroll-py-6"><a href="#resolution-0x70" class="nextra-focus _ms-4 _block _transition-colors _subpixel-antialiased _text-gray-500 hover:_text-gray-900 dark:_text-gray-400 dark:hover:_text-gray-300 contrast-more:_text-gray-900 contrast-more:_underline contrast-more:dark:_text-gray-50 _break-words">Resolution (<code class="nextra-code" dir="ltr">0x70</code>)</a></li><li class="_my-2 _scroll-my-6 _scroll-py-6"><a href="#scrolling-0x16-0x17-0x71" class="nextra-focus _ms-4 _block _transition-colors _subpixel-antialiased _text-gray-500 hover:_text-gray-900 dark:_text-gray-400 dark:hover:_text-gray-300 contrast-more:_text-gray-900 contrast-more:_underline contrast-more:dark:_text-gray-50 _break-words">Scrolling (<code class="nextra-code" dir="ltr">0x16</code>, <code class="nextra-code" dir="ltr">0x17</code>, <code class="nextra-code" dir="ltr">0x71</code>)</a></li><li class="_my-2 _scroll-my-6 _scroll-py-6"><a href="#video-ula-and-lores" class="nextra-focus _font-semibold _block _transition-colors _subpixel-antialiased _text-gray-500 hover:_text-gray-900 dark:_text-gray-400 dark:hover:_text-gray-300 contrast-more:_text-gray-900 contrast-more:_underline contrast-more:dark:_text-gray-50 _break-words">Video: ULA and LoRes</a></li><li class="_my-2 _scroll-my-6 _scroll-py-6"><a href="#scrolling-the-ula-0x26-0x27" class="nextra-focus _ms-4 _block _transition-colors _subpixel-antialiased _text-gray-500 hover:_text-gray-900 dark:_text-gray-400 dark:hover:_text-gray-300 contrast-more:_text-gray-900 contrast-more:_underline contrast-more:dark:_text-gray-50 _break-words">Scrolling the ULA (<code class="nextra-code" dir="ltr">0x26</code>, <code class="nextra-code" dir="ltr">0x27</code>)</a></li><li class="_my-2 _scroll-my-6 _scroll-py-6"><a href="#ula-control-0x68" class="nextra-focus _ms-4 _block _transition-colors _subpixel-antialiased _text-gray-500 hover:_text-gray-900 dark:_text-gray-400 dark:hover:_text-gray-300 contrast-more:_text-gray-900 contrast-more:_underline contrast-more:dark:_text-gray-50 _break-words">ULA Control (<code class="nextra-code" dir="ltr">0x68</code>)</a></li><li class="_my-2 _scroll-my-6 _scroll-py-6"><a href="#lores-mode-0x6a-0x15-bit-7-0x32-0x33" class="nextra-focus _ms-4 _block _transition-colors _subpixel-antialiased _text-gray-500 hover:_text-gray-900 dark:_text-gray-400 dark:hover:_text-gray-300 contrast-more:_text-gray-900 contrast-more:_underline contrast-more:dark:_text-gray-50 _break-words">LoRes Mode (<code class="nextra-code" dir="ltr">0x6A</code>, <code class="nextra-code" dir="ltr">0x15</code> bit 7, <code class="nextra-code" dir="ltr">0x32</code>, <code class="nextra-code" dir="ltr">0x33</code>)</a></li><li class="_my-2 _scroll-my-6 _scroll-py-6"><a href="#display-control-0x69" class="nextra-focus _ms-4 _block _transition-colors _subpixel-antialiased _text-gray-500 hover:_text-gray-900 dark:_text-gray-400 dark:hover:_text-gray-300 contrast-more:_text-gray-900 contrast-more:_underline contrast-more:dark:_text-gray-50 _break-words">Display Control (<code class="nextra-code" dir="ltr">0x69</code>)</a></li><li class="_my-2 _scroll-my-6 _scroll-py-6"><a href="#video-timing-0x11" class="nextra-focus _ms-4 _block _transition-colors _subpixel-antialiased _text-gray-500 hover:_text-gray-900 dark:_text-gray-400 dark:hover:_text-gray-300 contrast-more:_text-gray-900 contrast-more:_underline contrast-more:dark:_text-gray-50 _break-words">Video Timing (<code class="nextra-code" dir="ltr">0x11</code>)</a></li><li class="_my-2 _scroll-my-6 _scroll-py-6"><a href="#vertical-line-count-offset-0x64" class="nextra-focus _ms-4 _block _transition-colors _subpixel-antialiased _text-gray-500 hover:_text-gray-900 dark:_text-gray-400 dark:hover:_text-gray-300 contrast-more:_text-gray-900 contrast-more:_underline contrast-more:dark:_text-gray-50 _break-words">Vertical Line Count Offset (<code class="nextra-code" dir="ltr">0x64</code>)</a></li><li class="_my-2 _scroll-my-6 _scroll-py-6"><a href="#video-sprites" class="nextra-focus _font-semibold _block _transition-colors _subpixel-antialiased _text-gray-500 hover:_text-gray-900 dark:_text-gray-400 dark:hover:_text-gray-300 contrast-more:_text-gray-900 contrast-more:_underline contrast-more:dark:_text-gray-50 _break-words">Video: Sprites</a></li><li class="_my-2 _scroll-my-6 _scroll-py-6"><a href="#selecting-the-active-sprite-0x34" class="nextra-focus _ms-4 _block _transition-colors _subpixel-antialiased _text-gray-500 hover:_text-gray-900 dark:_text-gray-400 dark:hover:_text-gray-300 contrast-more:_text-gray-900 contrast-more:_underline contrast-more:dark:_text-gray-50 _break-words">Selecting the Active Sprite (<code class="nextra-code" dir="ltr">0x34</code>)</a></li><li class="_my-2 _scroll-my-6 _scroll-py-6"><a href="#writing-sprite-attributes-0x350x39-0x750x79" class="nextra-focus _ms-4 _block _transition-colors _subpixel-antialiased _text-gray-500 hover:_text-gray-900 dark:_text-gray-400 dark:hover:_text-gray-300 contrast-more:_text-gray-900 contrast-more:_underline contrast-more:dark:_text-gray-50 _break-words">Writing Sprite Attributes (<code class="nextra-code" dir="ltr">0x35</code>â€“<code class="nextra-code" dir="ltr">0x39</code>, <code class="nextra-code" dir="ltr">0x75</code>â€“<code class="nextra-code" dir="ltr">0x79</code>)</a></li><li class="_my-2 _scroll-my-6 _scroll-py-6"><a href="#clip-window-for-sprites-0x19" class="nextra-focus _ms-4 _block _transition-colors _subpixel-antialiased _text-gray-500 hover:_text-gray-900 dark:_text-gray-400 dark:hover:_text-gray-300 contrast-more:_text-gray-900 contrast-more:_underline contrast-more:dark:_text-gray-50 _break-words">Clip Window for Sprites (<code class="nextra-code" dir="ltr">0x19</code>)</a></li><li class="_my-2 _scroll-my-6 _scroll-py-6"><a href="#video-tilemap" class="nextra-focus _font-semibold _block _transition-colors _subpixel-antialiased _text-gray-500 hover:_text-gray-900 dark:_text-gray-400 dark:hover:_text-gray-300 contrast-more:_text-gray-900 contrast-more:_underline contrast-more:dark:_text-gray-50 _break-words">Video: Tilemap</a></li><li class="_my-2 _scroll-my-6 _scroll-py-6"><a href="#enabling-and-configuring-the-tilemap-0x6b" class="nextra-focus _ms-4 _block _transition-colors _subpixel-antialiased _text-gray-500 hover:_text-gray-900 dark:_text-gray-400 dark:hover:_text-gray-300 contrast-more:_text-gray-900 contrast-more:_underline contrast-more:dark:_text-gray-50 _break-words">Enabling and Configuring the Tilemap (<code class="nextra-code" dir="ltr">0x6B</code>)</a></li><li class="_my-2 _scroll-my-6 _scroll-py-6"><a href="#default-tile-attributes-0x6c" class="nextra-focus _ms-4 _block _transition-colors _subpixel-antialiased _text-gray-500 hover:_text-gray-900 dark:_text-gray-400 dark:hover:_text-gray-300 contrast-more:_text-gray-900 contrast-more:_underline contrast-more:dark:_text-gray-50 _break-words">Default Tile Attributes (<code class="nextra-code" dir="ltr">0x6C</code>)</a></li><li class="_my-2 _scroll-my-6 _scroll-py-6"><a href="#tilemap-and-tile-memory-locations-0x6e-0x6f" class="nextra-focus _ms-4 _block _transition-colors _subpixel-antialiased _text-gray-500 hover:_text-gray-900 dark:_text-gray-400 dark:hover:_text-gray-300 contrast-more:_text-gray-900 contrast-more:_underline contrast-more:dark:_text-gray-50 _break-words">Tilemap and Tile Memory Locations (<code class="nextra-code" dir="ltr">0x6E</code>, <code class="nextra-code" dir="ltr">0x6F</code>)</a></li><li class="_my-2 _scroll-my-6 _scroll-py-6"><a href="#tilemap-scrolling-0x2f-0x30-0x31" class="nextra-focus _ms-4 _block _transition-colors _subpixel-antialiased _text-gray-500 hover:_text-gray-900 dark:_text-gray-400 dark:hover:_text-gray-300 contrast-more:_text-gray-900 contrast-more:_underline contrast-more:dark:_text-gray-50 _break-words">Tilemap Scrolling (<code class="nextra-code" dir="ltr">0x2F</code>, <code class="nextra-code" dir="ltr">0x30</code>, <code class="nextra-code" dir="ltr">0x31</code>)</a></li><li class="_my-2 _scroll-my-6 _scroll-py-6"><a href="#clip-window-for-tilemap-0x1b" class="nextra-focus _ms-4 _block _transition-colors _subpixel-antialiased _text-gray-500 hover:_text-gray-900 dark:_text-gray-400 dark:hover:_text-gray-300 contrast-more:_text-gray-900 contrast-more:_underline contrast-more:dark:_text-gray-50 _break-words">Clip Window for Tilemap (<code class="nextra-code" dir="ltr">0x1B</code>)</a></li><li class="_my-2 _scroll-my-6 _scroll-py-6"><a href="#video-palettes-and-colors" class="nextra-focus _font-semibold _block _transition-colors _subpixel-antialiased _text-gray-500 hover:_text-gray-900 dark:_text-gray-400 dark:hover:_text-gray-300 contrast-more:_text-gray-900 contrast-more:_underline contrast-more:dark:_text-gray-50 _break-words">Video: Palettes and Colors</a></li><li class="_my-2 _scroll-my-6 _scroll-py-6"><a href="#selecting-a-palette-entry-0x40" class="nextra-focus _ms-4 _block _transition-colors _subpixel-antialiased _text-gray-500 hover:_text-gray-900 dark:_text-gray-400 dark:hover:_text-gray-300 contrast-more:_text-gray-900 contrast-more:_underline contrast-more:dark:_text-gray-50 _break-words">Selecting a Palette Entry (<code class="nextra-code" dir="ltr">0x40</code>)</a></li><li class="_my-2 _scroll-my-6 _scroll-py-6"><a href="#writing-colors-0x41-0x44" class="nextra-focus _ms-4 _block _transition-colors _subpixel-antialiased _text-gray-500 hover:_text-gray-900 dark:_text-gray-400 dark:hover:_text-gray-300 contrast-more:_text-gray-900 contrast-more:_underline contrast-more:dark:_text-gray-50 _break-words">Writing Colors (<code class="nextra-code" dir="ltr">0x41</code>, <code class="nextra-code" dir="ltr">0x44</code>)</a></li><li class="_my-2 _scroll-my-6 _scroll-py-6"><a href="#choosing-which-palette-to-edit-0x43" class="nextra-focus _ms-4 _block _transition-colors _subpixel-antialiased _text-gray-500 hover:_text-gray-900 dark:_text-gray-400 dark:hover:_text-gray-300 contrast-more:_text-gray-900 contrast-more:_underline contrast-more:dark:_text-gray-50 _break-words">Choosing Which Palette to Edit (<code class="nextra-code" dir="ltr">0x43</code>)</a></li><li class="_my-2 _scroll-my-6 _scroll-py-6"><a href="#ulanext-0x42" class="nextra-focus _ms-4 _block _transition-colors _subpixel-antialiased _text-gray-500 hover:_text-gray-900 dark:_text-gray-400 dark:hover:_text-gray-300 contrast-more:_text-gray-900 contrast-more:_underline contrast-more:dark:_text-gray-50 _break-words">ULANext (<code class="nextra-code" dir="ltr">0x42</code>)</a></li><li class="_my-2 _scroll-my-6 _scroll-py-6"><a href="#video-clip-windows" class="nextra-focus _font-semibold _block _transition-colors _subpixel-antialiased _text-gray-500 hover:_text-gray-900 dark:_text-gray-400 dark:hover:_text-gray-300 contrast-more:_text-gray-900 contrast-more:_underline contrast-more:dark:_text-gray-50 _break-words">Video: Clip Windows</a></li><li class="_my-2 _scroll-my-6 _scroll-py-6"><a href="#setting-clip-rectangles-0x18-0x19-0x1a-0x1b" class="nextra-focus _ms-4 _block _transition-colors _subpixel-antialiased _text-gray-500 hover:_text-gray-900 dark:_text-gray-400 dark:hover:_text-gray-300 contrast-more:_text-gray-900 contrast-more:_underline contrast-more:dark:_text-gray-50 _break-words">Setting Clip Rectangles (<code class="nextra-code" dir="ltr">0x18</code>, <code class="nextra-code" dir="ltr">0x19</code>, <code class="nextra-code" dir="ltr">0x1A</code>, <code class="nextra-code" dir="ltr">0x1B</code>)</a></li><li class="_my-2 _scroll-my-6 _scroll-py-6"><a href="#checking-and-resetting-clip-indices-0x1c" class="nextra-focus _ms-4 _block _transition-colors _subpixel-antialiased _text-gray-500 hover:_text-gray-900 dark:_text-gray-400 dark:hover:_text-gray-300 contrast-more:_text-gray-900 contrast-more:_underline contrast-more:dark:_text-gray-50 _break-words">Checking and Resetting Clip Indices (<code class="nextra-code" dir="ltr">0x1C</code>)</a></li><li class="_my-2 _scroll-my-6 _scroll-py-6"><a href="#the-copper-co-processor" class="nextra-focus _font-semibold _block _transition-colors _subpixel-antialiased _text-gray-500 hover:_text-gray-900 dark:_text-gray-400 dark:hover:_text-gray-300 contrast-more:_text-gray-900 contrast-more:_underline contrast-more:dark:_text-gray-50 _break-words">The Copper Co-Processor</a></li><li class="_my-2 _scroll-my-6 _scroll-py-6"><a href="#loading-copper-programs" class="nextra-focus _ms-4 _block _transition-colors _subpixel-antialiased _text-gray-500 hover:_text-gray-900 dark:_text-gray-400 dark:hover:_text-gray-300 contrast-more:_text-gray-900 contrast-more:_underline contrast-more:dark:_text-gray-50 _break-words">Loading Copper Programs</a></li><li class="_my-2 _scroll-my-6 _scroll-py-6"><a href="#starting-and-stopping-the-copper-0x62" class="nextra-focus _ms-4 _block _transition-colors _subpixel-antialiased _text-gray-500 hover:_text-gray-900 dark:_text-gray-400 dark:hover:_text-gray-300 contrast-more:_text-gray-900 contrast-more:_underline contrast-more:dark:_text-gray-50 _break-words">Starting and Stopping the Copper (<code class="nextra-code" dir="ltr">0x62</code>)</a></li><li class="_my-2 _scroll-my-6 _scroll-py-6"><a href="#aligning-copper-timing-0x64" class="nextra-focus _ms-4 _block _transition-colors _subpixel-antialiased _text-gray-500 hover:_text-gray-900 dark:_text-gray-400 dark:hover:_text-gray-300 contrast-more:_text-gray-900 contrast-more:_underline contrast-more:dark:_text-gray-50 _break-words">Aligning Copper Timing (<code class="nextra-code" dir="ltr">0x64</code>)</a></li><li class="_my-2 _scroll-my-6 _scroll-py-6"><a href="#audio" class="nextra-focus _font-semibold _block _transition-colors _subpixel-antialiased _text-gray-500 hover:_text-gray-900 dark:_text-gray-400 dark:hover:_text-gray-300 contrast-more:_text-gray-900 contrast-more:_underline contrast-more:dark:_text-gray-50 _break-words">Audio</a></li><li class="_my-2 _scroll-my-6 _scroll-py-6"><a href="#peripheral-settings-for-audio-0x06-0x08-0x09" class="nextra-focus _ms-4 _block _transition-colors _subpixel-antialiased _text-gray-500 hover:_text-gray-900 dark:_text-gray-400 dark:hover:_text-gray-300 contrast-more:_text-gray-900 contrast-more:_underline contrast-more:dark:_text-gray-50 _break-words">Peripheral Settings for Audio (<code class="nextra-code" dir="ltr">0x06</code>, <code class="nextra-code" dir="ltr">0x08</code>, <code class="nextra-code" dir="ltr">0x09</code>)</a></li><li class="_my-2 _scroll-my-6 _scroll-py-6"><a href="#dac-output-0x2c-0x2d-0x2e" class="nextra-focus _ms-4 _block _transition-colors _subpixel-antialiased _text-gray-500 hover:_text-gray-900 dark:_text-gray-400 dark:hover:_text-gray-300 contrast-more:_text-gray-900 contrast-more:_underline contrast-more:dark:_text-gray-50 _break-words">DAC Output (<code class="nextra-code" dir="ltr">0x2C</code>, <code class="nextra-code" dir="ltr">0x2D</code>, <code class="nextra-code" dir="ltr">0x2E</code>)</a></li><li class="_my-2 _scroll-my-6 _scroll-py-6"><a href="#raspberry-pi-is-audio-0xa2" class="nextra-focus _ms-4 _block _transition-colors _subpixel-antialiased _text-gray-500 hover:_text-gray-900 dark:_text-gray-400 dark:hover:_text-gray-300 contrast-more:_text-gray-900 contrast-more:_underline contrast-more:dark:_text-gray-50 _break-words">Raspberry Pi IÂ²S Audio (<code class="nextra-code" dir="ltr">0xA2</code>)</a></li><li class="_my-2 _scroll-my-6 _scroll-py-6"><a href="#interrupts" class="nextra-focus _font-semibold _block _transition-colors _subpixel-antialiased _text-gray-500 hover:_text-gray-900 dark:_text-gray-400 dark:hover:_text-gray-300 contrast-more:_text-gray-900 contrast-more:_underline contrast-more:dark:_text-gray-50 _break-words">Interrupts</a></li><li class="_my-2 _scroll-my-6 _scroll-py-6"><a href="#interrupt-mode-control-0xc0" class="nextra-focus _ms-4 _block _transition-colors _subpixel-antialiased _text-gray-500 hover:_text-gray-900 dark:_text-gray-400 dark:hover:_text-gray-300 contrast-more:_text-gray-900 contrast-more:_underline contrast-more:dark:_text-gray-50 _break-words">Interrupt Mode Control (<code class="nextra-code" dir="ltr">0xC0</code>)</a></li><li class="_my-2 _scroll-my-6 _scroll-py-6"><a href="#line-interrupt-0x22-0x23" class="nextra-focus _ms-4 _block _transition-colors _subpixel-antialiased _text-gray-500 hover:_text-gray-900 dark:_text-gray-400 dark:hover:_text-gray-300 contrast-more:_text-gray-900 contrast-more:_underline contrast-more:dark:_text-gray-50 _break-words">Line Interrupt (<code class="nextra-code" dir="ltr">0x22</code>, <code class="nextra-code" dir="ltr">0x23</code>)</a></li><li class="_my-2 _scroll-my-6 _scroll-py-6"><a href="#enabling-interrupt-sources-0xc4-0xc5-0xc6" class="nextra-focus _ms-4 _block _transition-colors _subpixel-antialiased _text-gray-500 hover:_text-gray-900 dark:_text-gray-400 dark:hover:_text-gray-300 contrast-more:_text-gray-900 contrast-more:_underline contrast-more:dark:_text-gray-50 _break-words">Enabling Interrupt Sources (<code class="nextra-code" dir="ltr">0xC4</code>, <code class="nextra-code" dir="ltr">0xC5</code>, <code class="nextra-code" dir="ltr">0xC6</code>)</a></li><li class="_my-2 _scroll-my-6 _scroll-py-6"><a href="#forcing-interrupts-0x20" class="nextra-focus _ms-4 _block _transition-colors _subpixel-antialiased _text-gray-500 hover:_text-gray-900 dark:_text-gray-400 dark:hover:_text-gray-300 contrast-more:_text-gray-900 contrast-more:_underline contrast-more:dark:_text-gray-50 _break-words">Forcing Interrupts (<code class="nextra-code" dir="ltr">0x20</code>)</a></li><li class="_my-2 _scroll-my-6 _scroll-py-6"><a href="#checking-interrupt-status-0xc8-0xc9-0xca" class="nextra-focus _ms-4 _block _transition-colors _subpixel-antialiased _text-gray-500 hover:_text-gray-900 dark:_text-gray-400 dark:hover:_text-gray-300 contrast-more:_text-gray-900 contrast-more:_underline contrast-more:dark:_text-gray-50 _break-words">Checking Interrupt Status (<code class="nextra-code" dir="ltr">0xC8</code>, <code class="nextra-code" dir="ltr">0xC9</code>, <code class="nextra-code" dir="ltr">0xCA</code>)</a></li><li class="_my-2 _scroll-my-6 _scroll-py-6"><a href="#nmi-handling-0xc2-0xc3-0xc0-bit-3" class="nextra-focus _ms-4 _block _transition-colors _subpixel-antialiased _text-gray-500 hover:_text-gray-900 dark:_text-gray-400 dark:hover:_text-gray-300 contrast-more:_text-gray-900 contrast-more:_underline contrast-more:dark:_text-gray-50 _break-words">NMI Handling (<code class="nextra-code" dir="ltr">0xC2</code>, <code class="nextra-code" dir="ltr">0xC3</code>, <code class="nextra-code" dir="ltr">0xC0</code> bit 3)</a></li><li class="_my-2 _scroll-my-6 _scroll-py-6"><a href="#dma-interrupt-enables-0xcc-0xcd-0xce" class="nextra-focus _ms-4 _block _transition-colors _subpixel-antialiased _text-gray-500 hover:_text-gray-900 dark:_text-gray-400 dark:hover:_text-gray-300 contrast-more:_text-gray-900 contrast-more:_underline contrast-more:dark:_text-gray-50 _break-words">DMA Interrupt Enables (<code class="nextra-code" dir="ltr">0xCC</code>, <code class="nextra-code" dir="ltr">0xCD</code>, <code class="nextra-code" dir="ltr">0xCE</code>)</a></li><li class="_my-2 _scroll-my-6 _scroll-py-6"><a href="#reserved-interrupt-area-registers-0xc7-0xcb-0xcf" class="nextra-focus _ms-4 _block _transition-colors _subpixel-antialiased _text-gray-500 hover:_text-gray-900 dark:_text-gray-400 dark:hover:_text-gray-300 contrast-more:_text-gray-900 contrast-more:_underline contrast-more:dark:_text-gray-50 _break-words">Reserved Interrupt-Area Registers (<code class="nextra-code" dir="ltr">0xC7</code>, <code class="nextra-code" dir="ltr">0xCB</code>, <code class="nextra-code" dir="ltr">0xCF</code>)</a></li><li class="_my-2 _scroll-my-6 _scroll-py-6"><a href="#peripheral-settings" class="nextra-focus _font-semibold _block _transition-colors _subpixel-antialiased _text-gray-500 hover:_text-gray-900 dark:_text-gray-400 dark:hover:_text-gray-300 contrast-more:_text-gray-900 contrast-more:_underline contrast-more:dark:_text-gray-50 _break-words">Peripheral Settings</a></li><li class="_my-2 _scroll-my-6 _scroll-py-6"><a href="#joystick-configuration-0x05" class="nextra-focus _ms-4 _block _transition-colors _subpixel-antialiased _text-gray-500 hover:_text-gray-900 dark:_text-gray-400 dark:hover:_text-gray-300 contrast-more:_text-gray-900 contrast-more:_underline contrast-more:dark:_text-gray-50 _break-words">Joystick Configuration (<code class="nextra-code" dir="ltr">0x05</code>)</a></li><li class="_my-2 _scroll-my-6 _scroll-py-6"><a href="#joystick-io-mode-0x0b" class="nextra-focus _ms-4 _block _transition-colors _subpixel-antialiased _text-gray-500 hover:_text-gray-900 dark:_text-gray-400 dark:hover:_text-gray-300 contrast-more:_text-gray-900 contrast-more:_underline contrast-more:dark:_text-gray-50 _break-words">Joystick I/O Mode (<code class="nextra-code" dir="ltr">0x0B</code>)</a></li><li class="_my-2 _scroll-my-6 _scroll-py-6"><a href="#other-peripheral-control-0x06-0x08-0x09-0x0a" class="nextra-focus _ms-4 _block _transition-colors _subpixel-antialiased _text-gray-500 hover:_text-gray-900 dark:_text-gray-400 dark:hover:_text-gray-300 contrast-more:_text-gray-900 contrast-more:_underline contrast-more:dark:_text-gray-50 _break-words">Other Peripheral Control (<code class="nextra-code" dir="ltr">0x06</code>, <code class="nextra-code" dir="ltr">0x08</code>, <code class="nextra-code" dir="ltr">0x09</code>, <code class="nextra-code" dir="ltr">0x0A</code>)</a></li><li class="_my-2 _scroll-my-6 _scroll-py-6"><a href="#input-keyboard-and-key-reading" class="nextra-focus _font-semibold _block _transition-colors _subpixel-antialiased _text-gray-500 hover:_text-gray-900 dark:_text-gray-400 dark:hover:_text-gray-300 contrast-more:_text-gray-900 contrast-more:_underline contrast-more:dark:_text-gray-50 _break-words">Input: Keyboard and Key Reading</a></li><li class="_my-2 _scroll-my-6 _scroll-py-6"><a href="#ps2-keymap-0x28-0x29-0x2a-0x2b" class="nextra-focus _ms-4 _block _transition-colors _subpixel-antialiased _text-gray-500 hover:_text-gray-900 dark:_text-gray-400 dark:hover:_text-gray-300 contrast-more:_text-gray-900 contrast-more:_underline contrast-more:dark:_text-gray-50 _break-words">PS/2 Keymap (<code class="nextra-code" dir="ltr">0x28</code>, <code class="nextra-code" dir="ltr">0x29</code>, <code class="nextra-code" dir="ltr">0x2A</code>, <code class="nextra-code" dir="ltr">0x2B</code>)</a></li><li class="_my-2 _scroll-my-6 _scroll-py-6"><a href="#extended-key-states-0xb0-0xb1-0xb2" class="nextra-focus _ms-4 _block _transition-colors _subpixel-antialiased _text-gray-500 hover:_text-gray-900 dark:_text-gray-400 dark:hover:_text-gray-300 contrast-more:_text-gray-900 contrast-more:_underline contrast-more:dark:_text-gray-50 _break-words">Extended Key States (<code class="nextra-code" dir="ltr">0xB0</code>, <code class="nextra-code" dir="ltr">0xB1</code>, <code class="nextra-code" dir="ltr">0xB2</code>)</a></li><li class="_my-2 _scroll-my-6 _scroll-py-6"><a href="#divmmc-and-storage" class="nextra-focus _font-semibold _block _transition-colors _subpixel-antialiased _text-gray-500 hover:_text-gray-900 dark:_text-gray-400 dark:hover:_text-gray-300 contrast-more:_text-gray-900 contrast-more:_underline contrast-more:dark:_text-gray-50 _break-words">DivMMC and Storage</a></li><li class="_my-2 _scroll-my-6 _scroll-py-6"><a href="#divmmc-entry-points-0xb8-0xb9-0xba-0xbb" class="nextra-focus _ms-4 _block _transition-colors _subpixel-antialiased _text-gray-500 hover:_text-gray-900 dark:_text-gray-400 dark:hover:_text-gray-300 contrast-more:_text-gray-900 contrast-more:_underline contrast-more:dark:_text-gray-50 _break-words">DivMMC Entry Points (<code class="nextra-code" dir="ltr">0xB8</code>, <code class="nextra-code" dir="ltr">0xB9</code>, <code class="nextra-code" dir="ltr">0xBA</code>, <code class="nextra-code" dir="ltr">0xBB</code>)</a></li><li class="_my-2 _scroll-my-6 _scroll-py-6"><a href="#expansion-bus" class="nextra-focus _font-semibold _block _transition-colors _subpixel-antialiased _text-gray-500 hover:_text-gray-900 dark:_text-gray-400 dark:hover:_text-gray-300 contrast-more:_text-gray-900 contrast-more:_underline contrast-more:dark:_text-gray-50 _break-words">Expansion Bus</a></li><li class="_my-2 _scroll-my-6 _scroll-py-6"><a href="#enabling-the-bus-0x80" class="nextra-focus _ms-4 _block _transition-colors _subpixel-antialiased _text-gray-500 hover:_text-gray-900 dark:_text-gray-400 dark:hover:_text-gray-300 contrast-more:_text-gray-900 contrast-more:_underline contrast-more:dark:_text-gray-50 _break-words">Enabling the Bus (<code class="nextra-code" dir="ltr">0x80</code>)</a></li><li class="_my-2 _scroll-my-6 _scroll-py-6"><a href="#bus-control-0x81" class="nextra-focus _ms-4 _block _transition-colors _subpixel-antialiased _text-gray-500 hover:_text-gray-900 dark:_text-gray-400 dark:hover:_text-gray-300 contrast-more:_text-gray-900 contrast-more:_underline contrast-more:dark:_text-gray-50 _break-words">Bus Control (<code class="nextra-code" dir="ltr">0x81</code>)</a></li><li class="_my-2 _scroll-my-6 _scroll-py-6"><a href="#port-decoding-control-0x820x85-0x860x89" class="nextra-focus _ms-4 _block _transition-colors _subpixel-antialiased _text-gray-500 hover:_text-gray-900 dark:_text-gray-400 dark:hover:_text-gray-300 contrast-more:_text-gray-900 contrast-more:_underline contrast-more:dark:_text-gray-50 _break-words">Port Decoding Control (<code class="nextra-code" dir="ltr">0x82</code>â€“<code class="nextra-code" dir="ltr">0x85</code>, <code class="nextra-code" dir="ltr">0x86</code>â€“<code class="nextra-code" dir="ltr">0x89</code>)</a></li><li class="_my-2 _scroll-my-6 _scroll-py-6"><a href="#io-port-propagation-0x8a" class="nextra-focus _ms-4 _block _transition-colors _subpixel-antialiased _text-gray-500 hover:_text-gray-900 dark:_text-gray-400 dark:hover:_text-gray-300 contrast-more:_text-gray-900 contrast-more:_underline contrast-more:dark:_text-gray-50 _break-words">I/O Port Propagation (<code class="nextra-code" dir="ltr">0x8A</code>)</a></li><li class="_my-2 _scroll-my-6 _scroll-py-6"><a href="#alternate-rom-0x8c-1" class="nextra-focus _ms-4 _block _transition-colors _subpixel-antialiased _text-gray-500 hover:_text-gray-900 dark:_text-gray-400 dark:hover:_text-gray-300 contrast-more:_text-gray-900 contrast-more:_underline contrast-more:dark:_text-gray-50 _break-words">Alternate ROM (<code class="nextra-code" dir="ltr">0x8C</code>)</a></li><li class="_my-2 _scroll-my-6 _scroll-py-6"><a href="#raspberry-pi-and-gpio" class="nextra-focus _font-semibold _block _transition-colors _subpixel-antialiased _text-gray-500 hover:_text-gray-900 dark:_text-gray-400 dark:hover:_text-gray-300 contrast-more:_text-gray-900 contrast-more:_underline contrast-more:dark:_text-gray-50 _break-words">Raspberry Pi and GPIO</a></li><li class="_my-2 _scroll-my-6 _scroll-py-6"><a href="#pi-gpio-output-enable-0x900x93" class="nextra-focus _ms-4 _block _transition-colors _subpixel-antialiased _text-gray-500 hover:_text-gray-900 dark:_text-gray-400 dark:hover:_text-gray-300 contrast-more:_text-gray-900 contrast-more:_underline contrast-more:dark:_text-gray-50 _break-words">Pi GPIO Output Enable (<code class="nextra-code" dir="ltr">0x90</code>â€“<code class="nextra-code" dir="ltr">0x93</code>)</a></li><li class="_my-2 _scroll-my-6 _scroll-py-6"><a href="#pi-gpio-state-0x980x9b" class="nextra-focus _ms-4 _block _transition-colors _subpixel-antialiased _text-gray-500 hover:_text-gray-900 dark:_text-gray-400 dark:hover:_text-gray-300 contrast-more:_text-gray-900 contrast-more:_underline contrast-more:dark:_text-gray-50 _break-words">Pi GPIO State (<code class="nextra-code" dir="ltr">0x98</code>â€“<code class="nextra-code" dir="ltr">0x9B</code>)</a></li><li class="_my-2 _scroll-my-6 _scroll-py-6"><a href="#pi-peripheral-enable-0xa0" class="nextra-focus _ms-4 _block _transition-colors _subpixel-antialiased _text-gray-500 hover:_text-gray-900 dark:_text-gray-400 dark:hover:_text-gray-300 contrast-more:_text-gray-900 contrast-more:_underline contrast-more:dark:_text-gray-50 _break-words">Pi Peripheral Enable (<code class="nextra-code" dir="ltr">0xA0</code>)</a></li><li class="_my-2 _scroll-my-6 _scroll-py-6"><a href="#esp-wi-fi-gpio-0xa8-0xa9" class="nextra-focus _ms-4 _block _transition-colors _subpixel-antialiased _text-gray-500 hover:_text-gray-900 dark:_text-gray-400 dark:hover:_text-gray-300 contrast-more:_text-gray-900 contrast-more:_underline contrast-more:dark:_text-gray-50 _break-words">ESP Wi-Fi GPIO (<code class="nextra-code" dir="ltr">0xA8</code>, <code class="nextra-code" dir="ltr">0xA9</code>)</a></li><li class="_my-2 _scroll-my-6 _scroll-py-6"><a href="#debugging-features" class="nextra-focus _font-semibold _block _transition-colors _subpixel-antialiased _text-gray-500 hover:_text-gray-900 dark:_text-gray-400 dark:hover:_text-gray-300 contrast-more:_text-gray-900 contrast-more:_underline contrast-more:dark:_text-gray-50 _break-words">Debugging Features</a></li><li class="_my-2 _scroll-my-6 _scroll-py-6"><a href="#io-traps-0xd8-0xd9-0xda--experimental" class="nextra-focus _ms-4 _block _transition-colors _subpixel-antialiased _text-gray-500 hover:_text-gray-900 dark:_text-gray-400 dark:hover:_text-gray-300 contrast-more:_text-gray-900 contrast-more:_underline contrast-more:dark:_text-gray-50 _break-words">I/O Traps (<code class="nextra-code" dir="ltr">0xD8</code>, <code class="nextra-code" dir="ltr">0xD9</code>, <code class="nextra-code" dir="ltr">0xDA</code>) â€” <em>Experimental</em></a></li><li class="_my-2 _scroll-my-6 _scroll-py-6"><a href="#xadc-diagnostics-0xf0-0xf8-0xf9-0xfa--issue-4-only" class="nextra-focus _ms-4 _block _transition-colors _subpixel-antialiased _text-gray-500 hover:_text-gray-900 dark:_text-gray-400 dark:hover:_text-gray-300 contrast-more:_text-gray-900 contrast-more:_underline contrast-more:dark:_text-gray-50 _break-words">XADC Diagnostics (<code class="nextra-code" dir="ltr">0xF0</code>, <code class="nextra-code" dir="ltr">0xF8</code>, <code class="nextra-code" dir="ltr">0xF9</code>, <code class="nextra-code" dir="ltr">0xFA</code>) â€” Issue 4 Only</a></li><li class="_my-2 _scroll-my-6 _scroll-py-6"><a href="#user-storage-0x7f" class="nextra-focus _font-semibold _block _transition-colors _subpixel-antialiased _text-gray-500 hover:_text-gray-900 dark:_text-gray-400 dark:hover:_text-gray-300 contrast-more:_text-gray-900 contrast-more:_underline contrast-more:dark:_text-gray-50 _break-words">User Storage (<code class="nextra-code" dir="ltr">0x7F</code>)</a></li><li class="_my-2 _scroll-my-6 _scroll-py-6"><a href="#quick-reference-registers-by-category" class="nextra-focus _font-semibold _block _transition-colors _subpixel-antialiased _text-gray-500 hover:_text-gray-900 dark:_text-gray-400 dark:hover:_text-gray-300 contrast-more:_text-gray-900 contrast-more:_underline contrast-more:dark:_text-gray-50 _break-words">Quick Reference: Registers by Category</a></li></ul><div class="nextra-toc-footer _pt-4 _flex _flex-col _items-start _gap-2 _pb-4 _mx-4"><button class="_transition _flex _items-center _gap-1.5 _whitespace-nowrap _opacity-0 _text-xs _font-medium _text-gray-600 dark:_text-gray-400 hover:_text-gray-800 dark:hover:_text-gray-200 contrast-more:_text-gray-700 contrast-more:dark:_text-gray-100" aria-hidden="true" type="button" disabled="" data-headlessui-state="disabled" data-disabled=""><svg viewBox="0 0 24 24" stroke="currentColor" fill="none" stroke-width="2" height="16" class="_-rotate-90 _border _rounded-full _border-current"><path d="M9 5l7 7-7 7" stroke-linecap="round" stroke-linejoin="round"></path></svg></button></div></div></nav><div id="reach-skip-nav"></div><article class="_w-full _break-words nextra-content _flex _min-h-[calc(100vh-var(--nextra-navbar-height))] _min-w-0 _justify-center _pb-8 _pr-[calc(env(safe-area-inset-right)-1.5rem)]"><main class="_w-full _min-w-0 _max-w-6xl _px-6 _pt-4 md:_px-12"><div class="nextra-breadcrumb _mt-1.5 _flex _items-center _gap-1 _overflow-hidden _text-sm _text-gray-500 dark:_text-gray-400 contrast-more:_text-current"></div><h1 class="_mt-2 _text-4xl _font-bold _tracking-tight _text-slate-900 dark:_text-slate-100">Appendix B: NextReg Reference</h1>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7">The original Spectrum gave you half a dozen ports to poke at. The ZX Spectrum Next extends that with the <strong>NextRegs</strong>: a bank of hardware registers addressed from <code class="nextra-code" dir="ltr">0x00</code> to <code class="nextra-code" dir="ltr">0xFF</code>. Not all 256 addresses are usedâ€”many are reserved, some are gaps, and a few are write-only sentinels that exist only to protect against hardware conflicts. The registers that are implemented form a dense, organized control surface for everything the Next adds beyond the original hardware.</p>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7">Think of NextRegs as the control panel for the FPGA. Want full-color graphics? Thereâ€™s a register for that. Want your sprites to appear over the border? A register for that too. Need to set the CPU running at 28 MHz, then interrupt once per scanline, while a co-processor handles palette animations in the background? Yesâ€”all of that lives in NextRegs.</p>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7">This reference organizes registers by what you can <em>do</em> with them, not just what number they are. Flipping through a register list sorted by address is about as useful as reading a dictionary to find a recipe. Instead, each section here covers a specific capability and explains which registers you need to achieve it.</p>
<h2 id="how-to-access-nextregs" class="_font-semibold _tracking-tight _text-slate-900 dark:_text-slate-100 _mt-10 _border-b _pb-1 _text-3xl _border-neutral-200/70 contrast-more:_border-neutral-400 dark:_border-primary-100/10 contrast-more:dark:_border-neutral-400">How to Access NextRegs<a href="#how-to-access-nextregs" class="nextra-focus subheading-anchor" aria-label="Permalink for this section"></a></h2>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7">Two I/O ports form the gateway:</p>
<ul class="[:is(ol,ul)_&amp;]:_my-3 [&amp;:not(:first-child)]:_mt-6 _list-disc ltr:_ml-6 rtl:_mr-6">
<li class="_my-2"><strong>Port <code class="nextra-code" dir="ltr">0x243B</code></strong> â€” write the register number here to select it</li>
<li class="_my-2"><strong>Port <code class="nextra-code" dir="ltr">0x253B</code></strong> â€” read or write the register value here</li>
</ul>
<h3 id="writing-a-register" class="_font-semibold _tracking-tight _text-slate-900 dark:_text-slate-100 _mt-8 _text-2xl">Writing a Register<a href="#writing-a-register" class="nextra-focus subheading-anchor" aria-label="Permalink for this section"></a></h3>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7">The port method works everywhereâ€”including in 48K mode or on any hardware where the Z80N extended instructions arenâ€™t available:</p>
<div class="nextra-code _relative [&amp;:not(:first-child)]:_mt-6"><pre class="nextra-focus _overflow-x-auto _subpixel-antialiased _text-[.9em] _bg-white dark:_bg-black _py-4 _ring-1 _ring-inset _ring-gray-300 dark:_ring-neutral-700 contrast-more:_ring-gray-900 contrast-more:dark:_ring-gray-50 contrast-more:_contrast-150 _rounded-md" tabindex="0"><code class="nextra-code" dir="ltr"><span><span style="color:#569CD6;font-weight:bold">ld</span><span style="color:#A4A4A4"> </span><span style="color:#2B7CB3">bc</span><span style="color:#A4A4A4">,</span><span style="color:#4D8061">$243b</span><span style="color:#A4A4A4">    </span><span style="color:#6A9955">; point to the register select port</span></span>
<span><span style="color:#569CD6;font-weight:bold">ld</span><span style="color:#A4A4A4"> </span><span style="color:#2B7CB3">a</span><span style="color:#A4A4A4">,</span><span style="color:#4D8061">$07</span><span style="color:#A4A4A4">       </span><span style="color:#6A9955">; register number (CPU speed)</span></span>
<span><span style="color:#569CD6;font-weight:bold">out</span><span style="color:#A4A4A4"> (</span><span style="color:#2B7CB3">c</span><span style="color:#A4A4A4">),</span><span style="color:#2B7CB3">a</span></span>
<span><span style="color:#569CD6;font-weight:bold">inc</span><span style="color:#A4A4A4"> </span><span style="color:#2B7CB3">b</span><span style="color:#A4A4A4">          </span><span style="color:#6A9955">; point to the value port</span></span>
<span><span style="color:#569CD6;font-weight:bold">ld</span><span style="color:#A4A4A4"> </span><span style="color:#2B7CB3">a</span><span style="color:#A4A4A4">,</span><span style="color:#4D8061">$02</span><span style="color:#A4A4A4">       </span><span style="color:#6A9955">; value: 14 MHz</span></span>
<span><span style="color:#569CD6;font-weight:bold">out</span><span style="color:#A4A4A4"> (</span><span style="color:#2B7CB3">c</span><span style="color:#A4A4A4">),</span><span style="color:#2B7CB3">a</span></span></code></pre><div class="_opacity-0 _transition [div:hover&gt;&amp;]:_opacity-100 focus-within:_opacity-100 _flex _gap-1 _absolute _right-4 _top-2"><button class="_transition _border _border-gray-300 dark:_border-neutral-700 contrast-more:_border-gray-900 contrast-more:dark:_border-gray-50 _rounded-md _p-1.5 md:_hidden" title="Toggle word wrap" type="button" data-headlessui-state=""><svg viewBox="0 0 24 24" fill="currentColor" height="16"><path d="M4 19h6v-2H4v2zM20 5H4v2h16V5zm-3 6H4v2h13.25c1.1 0 2 .9 2 2s-.9 2-2 2H15v-2l-3 3l3 3v-2h2c2.21 0 4-1.79 4-4s-1.79-4-4-4z"></path></svg></button></div></div>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7">The Z80N instruction set adds two faster alternatives that fold the select and write into a single instruction:</p>
<div class="nextra-code _relative [&amp;:not(:first-child)]:_mt-6"><pre class="nextra-focus _overflow-x-auto _subpixel-antialiased _text-[.9em] _bg-white dark:_bg-black _py-4 _ring-1 _ring-inset _ring-gray-300 dark:_ring-neutral-700 contrast-more:_ring-gray-900 contrast-more:dark:_ring-gray-50 contrast-more:_contrast-150 _rounded-md" tabindex="0"><code class="nextra-code" dir="ltr"><span><span style="color:#569CD6;font-weight:bold">nextreg</span><span style="color:#A4A4A4"> </span><span style="color:#4D8061">$07</span><span style="color:#A4A4A4">,</span><span style="color:#4D8061">$02</span><span style="color:#A4A4A4">   </span><span style="color:#6A9955">; select register 0x07 and write 0x02 in one shot</span></span>
<span><span style="color:#569CD6;font-weight:bold">nextreg</span><span style="color:#A4A4A4"> </span><span style="color:#4D8061">$07</span><span style="color:#A4A4A4">,</span><span style="color:#2B7CB3">a</span><span style="color:#A4A4A4">     </span><span style="color:#6A9955">; write whatever is in A to register 0x07</span></span></code></pre><div class="_opacity-0 _transition [div:hover&gt;&amp;]:_opacity-100 focus-within:_opacity-100 _flex _gap-1 _absolute _right-4 _top-2"><button class="_transition _border _border-gray-300 dark:_border-neutral-700 contrast-more:_border-gray-900 contrast-more:dark:_border-gray-50 _rounded-md _p-1.5 md:_hidden" title="Toggle word wrap" type="button" data-headlessui-state=""><svg viewBox="0 0 24 24" fill="currentColor" height="16"><path d="M4 19h6v-2H4v2zM20 5H4v2h16V5zm-3 6H4v2h13.25c1.1 0 2 .9 2 2s-.9 2-2 2H15v-2l-3 3l3 3v-2h2c2.21 0 4-1.79 4-4s-1.79-4-4-4z"></path></svg></button></div></div>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7"><code class="nextra-code" dir="ltr">nextreg</code> is the idiomatic way to configure hardware in Next-specific codeâ€”cleaner, faster, and easier to read than the port sequence.</p>
<h3 id="reading-a-register" class="_font-semibold _tracking-tight _text-slate-900 dark:_text-slate-100 _mt-8 _text-2xl">Reading a Register<a href="#reading-a-register" class="nextra-focus subheading-anchor" aria-label="Permalink for this section"></a></h3>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7">There is no <code class="nextra-code" dir="ltr">nextreg</code> form for readsâ€”the Z80N instruction set only covers writes. To read a register value back, you always use the ports:</p>
<div class="nextra-code _relative [&amp;:not(:first-child)]:_mt-6"><pre class="nextra-focus _overflow-x-auto _subpixel-antialiased _text-[.9em] _bg-white dark:_bg-black _py-4 _ring-1 _ring-inset _ring-gray-300 dark:_ring-neutral-700 contrast-more:_ring-gray-900 contrast-more:dark:_ring-gray-50 contrast-more:_contrast-150 _rounded-md" tabindex="0"><code class="nextra-code" dir="ltr"><span><span style="color:#569CD6;font-weight:bold">ld</span><span style="color:#A4A4A4"> </span><span style="color:#2B7CB3">bc</span><span style="color:#A4A4A4">,</span><span style="color:#4D8061">$243b</span><span style="color:#A4A4A4">    </span><span style="color:#6A9955">; point to the register select port</span></span>
<span><span style="color:#569CD6;font-weight:bold">ld</span><span style="color:#A4A4A4"> </span><span style="color:#2B7CB3">a</span><span style="color:#A4A4A4">,</span><span style="color:#4D8061">$07</span><span style="color:#A4A4A4">       </span><span style="color:#6A9955">; register number (CPU speed)</span></span>
<span><span style="color:#569CD6;font-weight:bold">out</span><span style="color:#A4A4A4"> (</span><span style="color:#2B7CB3">c</span><span style="color:#A4A4A4">),</span><span style="color:#2B7CB3">a</span></span>
<span><span style="color:#569CD6;font-weight:bold">inc</span><span style="color:#A4A4A4"> </span><span style="color:#2B7CB3">b</span><span style="color:#A4A4A4">          </span><span style="color:#6A9955">; point to the value port</span></span>
<span><span style="color:#569CD6;font-weight:bold">in</span><span style="color:#A4A4A4"> </span><span style="color:#2B7CB3">a</span><span style="color:#A4A4A4">,(</span><span style="color:#2B7CB3">c</span><span style="color:#A4A4A4">)       </span><span style="color:#6A9955">; read the current value into A</span></span></code></pre><div class="_opacity-0 _transition [div:hover&gt;&amp;]:_opacity-100 focus-within:_opacity-100 _flex _gap-1 _absolute _right-4 _top-2"><button class="_transition _border _border-gray-300 dark:_border-neutral-700 contrast-more:_border-gray-900 contrast-more:dark:_border-gray-50 _rounded-md _p-1.5 md:_hidden" title="Toggle word wrap" type="button" data-headlessui-state=""><svg viewBox="0 0 24 24" fill="currentColor" height="16"><path d="M4 19h6v-2H4v2zM20 5H4v2h16V5zm-3 6H4v2h13.25c1.1 0 2 .9 2 2s-.9 2-2 2H15v-2l-3 3l3 3v-2h2c2.21 0 4-1.79 4-4s-1.79-4-4-4z"></path></svg></button></div></div>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7">The select port (<code class="nextra-code" dir="ltr">0x243B</code>) remembers the last written register number, so if youâ€™ve just written to a register via the port method, you can skip the select step and read straight from <code class="nextra-code" dir="ltr">0x253B</code>. Donâ€™t rely on this across interrupt boundaries thoughâ€”an ISR that touches NextRegs will clobber the selection.</p>
<blockquote class="[&amp;:not(:first-child)]:_mt-6 _border-gray-300 _italic _text-gray-700 dark:_border-gray-700 dark:_text-gray-400 ltr:_border-l-2 ltr:_pl-6 rtl:_border-r-2 rtl:_pr-6">
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7"><strong>Reset behavior</strong>: Every register has a defined reset state. Hard reset (power-on, F1, or writing <code class="nextra-code" dir="ltr">0x02</code> with bit 1) restores everything to factory defaults. Soft reset (F4 key or writing <code class="nextra-code" dir="ltr">0x02</code> with bit 0) restores a slightly different subsetâ€”some hardware settings survive a soft reset, others donâ€™t. Register descriptions below note which applies.</p>
</blockquote>
<h2 id="whats-in-here" class="_font-semibold _tracking-tight _text-slate-900 dark:_text-slate-100 _mt-10 _border-b _pb-1 _text-3xl _border-neutral-200/70 contrast-more:_border-neutral-400 dark:_border-primary-100/10 contrast-more:dark:_border-neutral-400">Whatâ€™s in Here<a href="#whats-in-here" class="nextra-focus subheading-anchor" aria-label="Permalink for this section"></a></h2>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7">Rather than listing registers by number, this reference groups them by what you can accomplish with them. Hereâ€™s the map:</p>
<ul class="[:is(ol,ul)_&amp;]:_my-3 [&amp;:not(:first-child)]:_mt-6 _list-disc ltr:_ml-6 rtl:_mr-6">
<li class="_my-2"><strong>System Identity and Control</strong> â€” Identify the hardware, reset the machine, choose CPU speed and machine type, boot alternate cores.</li>
<li class="_my-2"><strong>Memory Management</strong> â€” Map any 8KB page of the 2MB address space into the Z80â€™s 64KB window; control legacy 128K paging and alternate ROMs.</li>
<li class="_my-2"><strong>Video: The Layer System</strong> â€” Set the rendering order for Sprites, Layer 2, and ULA; configure global transparency and the fallback color.</li>
<li class="_my-2"><strong>Video: Layer 2</strong> â€” Full-color 256Ã—192 (or higher) bitmap display: assign RAM banks, choose resolution, scroll in hardware.</li>
<li class="_my-2"><strong>Video: ULA and LoRes</strong> â€” Hardware scroll the classic ULA display, enable ULA+, stencil mode, LoRes and Radastan modes.</li>
<li class="_my-2"><strong>Video: Sprites</strong> â€” Select and stream attributes for up to 128 independent hardware sprites.</li>
<li class="_my-2"><strong>Video: Tilemap</strong> â€” Hardware-managed grid of up to 512 tiles: configure layout, memory locations, and smooth scrolling.</li>
<li class="_my-2"><strong>Palettes and Colors</strong> â€” Load 8- or 9-bit colors into any of the eight palettes (two per layer), enable ULANext, swap palettes instantly.</li>
<li class="_my-2"><strong>Clip Windows</strong> â€” Restrict any layer to a sub-rectangle of the display for split-screen and HUD effects.</li>
<li class="_my-2"><strong>The Copper Co-Processor</strong> â€” Load and run a raster-synchronized program that modifies NextRegs in sync with the video beam, frame after frame, without touching the CPU.</li>
<li class="_my-2"><strong>Audio</strong> â€” Select AY/YM chip mode, enable TurboSound (three AY chips), write directly to the four 8-bit DACs, configure IÂ²S audio from the Raspberry Pi.</li>
<li class="_my-2"><strong>Interrupts</strong> â€” Enable hardware IM2 mode with automatic vector generation, set per-scanline line interrupts, manage ten interrupt sources, configure stackless NMI.</li>
<li class="_my-2"><strong>Peripheral Settings</strong> â€” Joystick modes, scandoubler, contention, hotkeys, mouse DPI, speaker routing, and more.</li>
<li class="_my-2"><strong>Input: Keyboard and Key Reading</strong> â€” Reprogram the PS/2 keymap, read extended and cursor keys not in the original 8Ã—5 matrix.</li>
<li class="_my-2"><strong>DivMMC and Storage</strong> â€” Control which ROM addresses trigger transparent SD card automapping for ESXDOS/NextZXOS.</li>
<li class="_my-2"><strong>Expansion Bus</strong> â€” Enable the edge connector, filter which ports reach external hardware, propagate internal state to bus peripherals.</li>
<li class="_my-2"><strong>Raspberry Pi and GPIO</strong> â€” Drive GPIO pins, enable UART/IÂ²C/SPI on the Pi connector, configure IÂ²S audio direction and ESP Wi-Fi GPIO.</li>
<li class="_my-2"><strong>Debugging</strong> â€” I/O traps for +3 FDC ports; XADC temperature/voltage monitoring and Xilinx DNA serial ID (Issue 4 boards only).</li>
</ul>
<h2 id="system-identity-and-control" class="_font-semibold _tracking-tight _text-slate-900 dark:_text-slate-100 _mt-10 _border-b _pb-1 _text-3xl _border-neutral-200/70 contrast-more:_border-neutral-400 dark:_border-primary-100/10 contrast-more:dark:_border-neutral-400">System Identity and Control<a href="#system-identity-and-control" class="nextra-focus subheading-anchor" aria-label="Permalink for this section"></a></h2>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7">These registers tell you what machine youâ€™re running on, and let you control the most fundamental operations: reset, machine type, and boot behavior.</p>
<h3 id="what-machine-is-this-0x00-0x01-0x0e-0x0f" class="_font-semibold _tracking-tight _text-slate-900 dark:_text-slate-100 _mt-8 _text-2xl">What Machine Is This? (<code class="nextra-code" dir="ltr">0x00</code>, <code class="nextra-code" dir="ltr">0x01</code>, <code class="nextra-code" dir="ltr">0x0E</code>, <code class="nextra-code" dir="ltr">0x0F</code>)<a href="#what-machine-is-this-0x00-0x01-0x0e-0x0f" class="nextra-focus subheading-anchor" aria-label="Permalink for this section"></a></h3>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7">Before you start poking hardware registers, itâ€™s sometimes worth checking what hardware youâ€™re actually talking to. Emulators and physical boards present the same register interface, but their IDs differ.</p>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7"><strong>Register <code class="nextra-code" dir="ltr">0x00</code> â€” Machine ID</strong> (read-only)</p>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7">Identifies the platform:</p>

























<table class="_not-prose _block _overflow-x-auto nextra-scrollbar [&amp;:not(:first-child)]:_mt-6 _p-0"><thead><tr class="_m-0 _border-t _border-gray-300 _p-0 dark:_border-gray-600 even:_bg-gray-100 even:dark:_bg-gray-600/20"><th class="_m-0 _border _border-gray-300 _px-4 _py-2 _font-semibold dark:_border-gray-600">Value</th><th class="_m-0 _border _border-gray-300 _px-4 _py-2 _font-semibold dark:_border-gray-600">Platform</th></tr></thead><tbody><tr class="_m-0 _border-t _border-gray-300 _p-0 dark:_border-gray-600 even:_bg-gray-100 even:dark:_bg-gray-600/20"><td class="_m-0 _border _border-gray-300 _px-4 _py-2 dark:_border-gray-600"><code class="nextra-code" dir="ltr">0x08</code></td><td class="_m-0 _border _border-gray-300 _px-4 _py-2 dark:_border-gray-600">Emulator</td></tr><tr class="_m-0 _border-t _border-gray-300 _p-0 dark:_border-gray-600 even:_bg-gray-100 even:dark:_bg-gray-600/20"><td class="_m-0 _border _border-gray-300 _px-4 _py-2 dark:_border-gray-600"><code class="nextra-code" dir="ltr">0x0A</code></td><td class="_m-0 _border _border-gray-300 _px-4 _py-2 dark:_border-gray-600">ZX Spectrum Next (physical hardware)</td></tr><tr class="_m-0 _border-t _border-gray-300 _p-0 dark:_border-gray-600 even:_bg-gray-100 even:dark:_bg-gray-600/20"><td class="_m-0 _border _border-gray-300 _px-4 _py-2 dark:_border-gray-600"><code class="nextra-code" dir="ltr">0xFA</code></td><td class="_m-0 _border _border-gray-300 _px-4 _py-2 dark:_border-gray-600">ZX Spectrum Next Anti-brick</td></tr><tr class="_m-0 _border-t _border-gray-300 _p-0 dark:_border-gray-600 even:_bg-gray-100 even:dark:_bg-gray-600/20"><td class="_m-0 _border _border-gray-300 _px-4 _py-2 dark:_border-gray-600"><code class="nextra-code" dir="ltr">0x9A</code>â€“<code class="nextra-code" dir="ltr">0xEA</code></td><td class="_m-0 _border _border-gray-300 _px-4 _py-2 dark:_border-gray-600">Next core on third-party FPGA boards (UnAmiga, SiDi, MIST, MiSTer, ZX-DOS)</td></tr></tbody></table>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7">If your code needs to behave differently on emulators versus real hardware, read this register first. Note that emulators report <code class="nextra-code" dir="ltr">0x08</code> regardless of which emulator they are.</p>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7"><strong>Register <code class="nextra-code" dir="ltr">0x01</code> â€” Core Version</strong> (read-only)</p>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7">Bits 7:4 hold the major version number, bits 3:0 hold the minor version. Read <code class="nextra-code" dir="ltr">0x0E</code> for the sub-minor version. Together these form a three-part version like <em>3.1.5</em> where <code class="nextra-code" dir="ltr">0x01</code> contains <code class="nextra-code" dir="ltr">0x31</code> and <code class="nextra-code" dir="ltr">0x0E</code> contains <code class="nextra-code" dir="ltr">0x05</code>.</p>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7"><strong>Register <code class="nextra-code" dir="ltr">0x0F</code> â€” Board ID</strong> (read-only)</p>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7">Identifies the hardware revision:</p>
<ul class="[:is(ol,ul)_&amp;]:_my-3 [&amp;:not(:first-child)]:_mt-6 _list-disc ltr:_ml-6 rtl:_mr-6">
<li class="_my-2"><code class="nextra-code" dir="ltr">0x00</code> / <code class="nextra-code" dir="ltr">0x01</code> â€” Issue 2 or 3 board (Xilinx Spartan-6 FPGA)</li>
<li class="_my-2"><code class="nextra-code" dir="ltr">0x02</code> â€” Issue 4 board (Xilinx Artix-7 FPGA, more resources)</li>
</ul>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7">Some features (like the XADC diagnostic interface at <code class="nextra-code" dir="ltr">0xF0</code>â€“<code class="nextra-code" dir="ltr">0xFA</code>) are Issue 4 only.</p>
<h3 id="resetting-the-machine-0x02" class="_font-semibold _tracking-tight _text-slate-900 dark:_text-slate-100 _mt-8 _text-2xl">Resetting the Machine (<code class="nextra-code" dir="ltr">0x02</code>)<a href="#resetting-the-machine-0x02" class="nextra-focus subheading-anchor" aria-label="Permalink for this section"></a></h3>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7"><strong>Register <code class="nextra-code" dir="ltr">0x02</code> â€” Reset</strong></p>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7">Reading this tells you what kind of reset last occurred:</p>
<ul class="[:is(ol,ul)_&amp;]:_my-3 [&amp;:not(:first-child)]:_mt-6 _list-disc ltr:_ml-6 rtl:_mr-6">
<li class="_my-2">Bit 1 set: last reset was a hard reset</li>
<li class="_my-2">Bit 0 set: last reset was a soft reset</li>
<li class="_my-2">Bits 2â€“4: whether NMIs from DivMMC, Multiface, or an I/O trap triggered the reset</li>
</ul>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7">Writing triggers resets and NMIs:</p>
<ul class="[:is(ol,ul)_&amp;]:_my-3 [&amp;:not(:first-child)]:_mt-6 _list-disc ltr:_ml-6 rtl:_mr-6">
<li class="_my-2">Bit 1: generate a <strong>hard reset</strong> (reboots completely, restores all hard-reset defaults)</li>
<li class="_my-2">Bit 0: generate a <strong>soft reset</strong></li>
<li class="_my-2">Bit 2: generate a DivMMC NMI</li>
<li class="_my-2">Bit 3: generate a Multiface NMI</li>
<li class="_my-2">Bit 7: assert and hold reset on the expansion bus and ESP Wi-Fi module</li>
</ul>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7">The typical â€œrestart cleanlyâ€ pattern is just writing <code class="nextra-code" dir="ltr">0x02</code> to this register. Hard resetâ€”bit 1â€”takes priority if you set both bits.</p>
<h3 id="machine-type-and-display-timing-0x03-0x24" class="_font-semibold _tracking-tight _text-slate-900 dark:_text-slate-100 _mt-8 _text-2xl">Machine Type and Display Timing (<code class="nextra-code" dir="ltr">0x03</code>, <code class="nextra-code" dir="ltr">0x24</code>)<a href="#machine-type-and-display-timing-0x03-0x24" class="nextra-focus subheading-anchor" aria-label="Permalink for this section"></a></h3>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7"><strong>Register <code class="nextra-code" dir="ltr">0x03</code> â€” Machine Type</strong></p>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7">The Next can pretend to be several different Spectrum modelsâ€”not just for nostalgia, but because some software depends on specific port decoding and memory contention behavior.</p>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7">Writing to this register also <strong>disables the boot ROM</strong>, which is the normal step after initialization is complete.</p>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7">Bits 2:0 select the emulated machine (only writable during config mode):</p>
<ul class="[:is(ol,ul)_&amp;]:_my-3 [&amp;:not(:first-child)]:_mt-6 _list-disc ltr:_ml-6 rtl:_mr-6">
<li class="_my-2"><code class="nextra-code" dir="ltr">001</code> â€” ZX Spectrum 48K</li>
<li class="_my-2"><code class="nextra-code" dir="ltr">010</code> â€” ZX Spectrum 128K/+2</li>
<li class="_my-2"><code class="nextra-code" dir="ltr">011</code> â€” ZX Spectrum +2A/+2B/+3</li>
<li class="_my-2"><code class="nextra-code" dir="ltr">100</code> â€” Pentagon</li>
</ul>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7">Bits 6:4 set display timing (you need bit 7 set to change these):</p>
<ul class="[:is(ol,ul)_&amp;]:_my-3 [&amp;:not(:first-child)]:_mt-6 _list-disc ltr:_ml-6 rtl:_mr-6">
<li class="_my-2"><code class="nextra-code" dir="ltr">001</code> â€” ZX 48K timing</li>
<li class="_my-2"><code class="nextra-code" dir="ltr">010</code> â€” ZX 128K/+2 timing</li>
<li class="_my-2"><code class="nextra-code" dir="ltr">011</code> â€” ZX +2A/+2B/+3 timing</li>
<li class="_my-2"><code class="nextra-code" dir="ltr">100</code> â€” Pentagon timing (forces 50 Hz)</li>
</ul>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7">Why does display timing matter? Because contentionâ€”the ULA stealing CPU cycles during screen memory accessâ€”is different across models. Running 128K software on 48K timing causes subtle speed differences. Programs that rely on precisely timed loops to generate audio or video effects care deeply about this.</p>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7"><strong>Register <code class="nextra-code" dir="ltr">0x24</code> â€” Reserved (Port Conflict Protection)</strong></p>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7">This register exists to prevent an obscure conflict with the Disciple Disk Interface, which uses I/O port <code class="nextra-code" dir="ltr">0x3B</code>. Because writing to port <code class="nextra-code" dir="ltr">0x3B</code> in the Discipleâ€™s protocol could accidentally select a NextReg, <code class="nextra-code" dir="ltr">0x24</code> acts as a decoy: in 48K and 128K legacy modes, the internally selected NextReg is automatically forced to <code class="nextra-code" dir="ltr">0x24</code> whenever an <code class="nextra-code" dir="ltr">OUT (0x3B),A</code> instruction executes. Writes to <code class="nextra-code" dir="ltr">0x24</code> are silently discarded, reads return nothing meaningful. The hardware protects itself from Disciple-style I/O automaticallyâ€”you never need to write to <code class="nextra-code" dir="ltr">0x24</code> yourself.</p>
<h3 id="core-selection-and-boot-0x10" class="_font-semibold _tracking-tight _text-slate-900 dark:_text-slate-100 _mt-8 _text-2xl">Core Selection and Boot (<code class="nextra-code" dir="ltr">0x10</code>)<a href="#core-selection-and-boot-0x10" class="nextra-focus subheading-anchor" aria-label="Permalink for this section"></a></h3>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7"><strong>Register <code class="nextra-code" dir="ltr">0x10</code> â€” Core Boot</strong></p>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7">The Next FPGA holds multiple â€œcoresâ€â€”complete hardware designs that take over the machine. The default core is the ZX Spectrum Next. Other cores might implement a Sinclair QL, a Commodore 64, or custom hardware.</p>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7">Reading tells you the currently selected core ID and whether the DRIVE (DivMMC) or M1 (Multiface) buttons are physically pressed.</p>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7">Writing selects and launches a core:</p>
<ul class="[:is(ol,ul)_&amp;]:_my-3 [&amp;:not(:first-child)]:_mt-6 _list-disc ltr:_ml-6 rtl:_mr-6">
<li class="_my-2">Bits 4:0 select the core ID (0â€“31, config mode only)</li>
<li class="_my-2">Bit 7 starts the selected core</li>
</ul>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7">Writing an out-of-range core ID is safely ignoredâ€”itâ€™s the documented way to probe the maximum supported ID. Keep writing IDs until you get no response, and youâ€™ve found the limit.</p>
<h3 id="cpu-speed-0x07" class="_font-semibold _tracking-tight _text-slate-900 dark:_text-slate-100 _mt-8 _text-2xl">CPU Speed (<code class="nextra-code" dir="ltr">0x07</code>)<a href="#cpu-speed-0x07" class="nextra-focus subheading-anchor" aria-label="Permalink for this section"></a></h3>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7"><strong>Register <code class="nextra-code" dir="ltr">0x07</code> â€” CPU Speed</strong></p>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7">The Next can run its Z80 at four different speeds. Reading gives you both the <em>programmed</em> speed (bits 1:0) and the <em>actual current</em> speed (bits 5:4)â€”these differ when the expansion bus is active and forces a lower clock.</p>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7">Writing bits 1:0:</p>
<ul class="[:is(ol,ul)_&amp;]:_my-3 [&amp;:not(:first-child)]:_mt-6 _list-disc ltr:_ml-6 rtl:_mr-6">
<li class="_my-2"><code class="nextra-code" dir="ltr">00</code> â€” 3.5 MHz (stock Spectrum speed, maximum legacy compatibility)</li>
<li class="_my-2"><code class="nextra-code" dir="ltr">01</code> â€” 7 MHz (double speed, good balance for enhanced software)</li>
<li class="_my-2"><code class="nextra-code" dir="ltr">10</code> â€” 14 MHz (quad speed)</li>
<li class="_my-2"><code class="nextra-code" dir="ltr">11</code> â€” 28 MHz (8Ã— original, maximum performance)</li>
</ul>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7">Speed resets to 3.5 MHz on soft reset.</p>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7">Why four speeds instead of just â€œfastâ€? A program that counts clock cycles to measure time will play at double speed if you run it at 7 MHz without telling it. Many games, demo effects, and especially tape-loading routines are timing-sensitive. Pick 28 MHz for your own code, drop to 3.5 MHz for legacy software, and change mid-program when you need precision timing for one section.</p>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7">At 28 MHz the hardware automatically inserts wait states for external SRAM accessesâ€”the memory isnâ€™t fast enough to respond without them. The CPU never notices; it just sees slightly longer memory cycles.</p>
<blockquote class="[&amp;:not(:first-child)]:_mt-6 _border-gray-300 _italic _text-gray-700 dark:_border-gray-700 dark:_text-gray-400 ltr:_border-l-2 ltr:_pl-6 rtl:_border-r-2 rtl:_pr-6">
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7"><strong>Hotkey</strong>: The F8 key toggles CPU speed at runtime if bit 7 of NextReg <code class="nextra-code" dir="ltr">0x06</code> is set (it is, by default after soft reset).</p>
</blockquote>
<hr class="_my-8 _border-neutral-200/70 contrast-more:_border-neutral-400 dark:_border-primary-100/10 contrast-more:dark:_border-neutral-400"/>
<h2 id="memory-management" class="_font-semibold _tracking-tight _text-slate-900 dark:_text-slate-100 _mt-10 _border-b _pb-1 _text-3xl _border-neutral-200/70 contrast-more:_border-neutral-400 dark:_border-primary-100/10 contrast-more:dark:_border-neutral-400">Memory Management<a href="#memory-management" class="nextra-focus subheading-anchor" aria-label="Permalink for this section"></a></h2>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7">The Z80 can address 64KB. The Next has up to 2MB of RAM. Something has to bridge that gapâ€”and that something is the MMU.</p>
<h3 id="boot-time-bank-mapping-0x04" class="_font-semibold _tracking-tight _text-slate-900 dark:_text-slate-100 _mt-8 _text-2xl">Boot-Time Bank Mapping (<code class="nextra-code" dir="ltr">0x04</code>)<a href="#boot-time-bank-mapping-0x04" class="nextra-focus subheading-anchor" aria-label="Permalink for this section"></a></h3>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7"><strong>Register <code class="nextra-code" dir="ltr">0x04</code> â€” Config Mapping</strong> (write-only, config mode only)</p>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7">This register exists solely to help the boot ROM get RAM into view before the full MMU is configured. In config modeâ€”before the machine type has been selected and the boot ROM dismissedâ€”the normal 128K paging ports arenâ€™t active yet. This register provides a simple escape hatch: bits 6:0 specify a 16K RAM bank to map into addresses <code class="nextra-code" dir="ltr">0x0000</code>â€“<code class="nextra-code" dir="ltr">0x3FFF</code>, overriding whatever the reset default placed there.</p>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7">Once you write to <code class="nextra-code" dir="ltr">0x03</code> (Machine Type) to select a machine and disable the boot ROM, config mode ends and <code class="nextra-code" dir="ltr">0x04</code> has no further effect. From that point forward, use the MMU slot registers (<code class="nextra-code" dir="ltr">0x50</code>â€“<code class="nextra-code" dir="ltr">0x51</code>) to control that address range.</p>
<blockquote class="[&amp;:not(:first-child)]:_mt-6 _border-gray-300 _italic _text-gray-700 dark:_border-gray-700 dark:_text-gray-400 ltr:_border-l-2 ltr:_pl-6 rtl:_border-r-2 rtl:_pr-6">
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7"><strong>Even multiples of 256K are unreliable</strong> if youâ€™re storing data there that another core will read after a bootâ€”donâ€™t put anything critical at those offsets.</p>
</blockquote>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7">Youâ€™ll encounter this register when writing a custom boot loader or examining how NextZXOS initializes the hardware. For normal application code, itâ€™s irrelevantâ€”the operating system has long since moved past config mode by the time your program runs.</p>
<h3 id="the-eight-slots-0x500x57" class="_font-semibold _tracking-tight _text-slate-900 dark:_text-slate-100 _mt-8 _text-2xl">The Eight Slots (<code class="nextra-code" dir="ltr">0x50</code>â€“<code class="nextra-code" dir="ltr">0x57</code>)<a href="#the-eight-slots-0x500x57" class="nextra-focus subheading-anchor" aria-label="Permalink for this section"></a></h3>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7"><strong>Registers <code class="nextra-code" dir="ltr">0x50</code>â€“<code class="nextra-code" dir="ltr">0x57</code> â€” MMU Slots 0â€“7</strong></p>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7">The Z80â€™s 64KB address space is divided into eight <strong>slots</strong> of 8KB each:</p>


















































<table class="_not-prose _block _overflow-x-auto nextra-scrollbar [&amp;:not(:first-child)]:_mt-6 _p-0"><thead><tr class="_m-0 _border-t _border-gray-300 _p-0 dark:_border-gray-600 even:_bg-gray-100 even:dark:_bg-gray-600/20"><th class="_m-0 _border _border-gray-300 _px-4 _py-2 _font-semibold dark:_border-gray-600">Register</th><th class="_m-0 _border _border-gray-300 _px-4 _py-2 _font-semibold dark:_border-gray-600">Slot</th><th class="_m-0 _border _border-gray-300 _px-4 _py-2 _font-semibold dark:_border-gray-600">Z80 Address Range</th></tr></thead><tbody><tr class="_m-0 _border-t _border-gray-300 _p-0 dark:_border-gray-600 even:_bg-gray-100 even:dark:_bg-gray-600/20"><td class="_m-0 _border _border-gray-300 _px-4 _py-2 dark:_border-gray-600"><code class="nextra-code" dir="ltr">0x50</code></td><td class="_m-0 _border _border-gray-300 _px-4 _py-2 dark:_border-gray-600">0</td><td class="_m-0 _border _border-gray-300 _px-4 _py-2 dark:_border-gray-600"><code class="nextra-code" dir="ltr">0x0000</code>â€“<code class="nextra-code" dir="ltr">0x1FFF</code></td></tr><tr class="_m-0 _border-t _border-gray-300 _p-0 dark:_border-gray-600 even:_bg-gray-100 even:dark:_bg-gray-600/20"><td class="_m-0 _border _border-gray-300 _px-4 _py-2 dark:_border-gray-600"><code class="nextra-code" dir="ltr">0x51</code></td><td class="_m-0 _border _border-gray-300 _px-4 _py-2 dark:_border-gray-600">1</td><td class="_m-0 _border _border-gray-300 _px-4 _py-2 dark:_border-gray-600"><code class="nextra-code" dir="ltr">0x2000</code>â€“<code class="nextra-code" dir="ltr">0x3FFF</code></td></tr><tr class="_m-0 _border-t _border-gray-300 _p-0 dark:_border-gray-600 even:_bg-gray-100 even:dark:_bg-gray-600/20"><td class="_m-0 _border _border-gray-300 _px-4 _py-2 dark:_border-gray-600"><code class="nextra-code" dir="ltr">0x52</code></td><td class="_m-0 _border _border-gray-300 _px-4 _py-2 dark:_border-gray-600">2</td><td class="_m-0 _border _border-gray-300 _px-4 _py-2 dark:_border-gray-600"><code class="nextra-code" dir="ltr">0x4000</code>â€“<code class="nextra-code" dir="ltr">0x5FFF</code></td></tr><tr class="_m-0 _border-t _border-gray-300 _p-0 dark:_border-gray-600 even:_bg-gray-100 even:dark:_bg-gray-600/20"><td class="_m-0 _border _border-gray-300 _px-4 _py-2 dark:_border-gray-600"><code class="nextra-code" dir="ltr">0x53</code></td><td class="_m-0 _border _border-gray-300 _px-4 _py-2 dark:_border-gray-600">3</td><td class="_m-0 _border _border-gray-300 _px-4 _py-2 dark:_border-gray-600"><code class="nextra-code" dir="ltr">0x6000</code>â€“<code class="nextra-code" dir="ltr">0x7FFF</code></td></tr><tr class="_m-0 _border-t _border-gray-300 _p-0 dark:_border-gray-600 even:_bg-gray-100 even:dark:_bg-gray-600/20"><td class="_m-0 _border _border-gray-300 _px-4 _py-2 dark:_border-gray-600"><code class="nextra-code" dir="ltr">0x54</code></td><td class="_m-0 _border _border-gray-300 _px-4 _py-2 dark:_border-gray-600">4</td><td class="_m-0 _border _border-gray-300 _px-4 _py-2 dark:_border-gray-600"><code class="nextra-code" dir="ltr">0x8000</code>â€“<code class="nextra-code" dir="ltr">0x9FFF</code></td></tr><tr class="_m-0 _border-t _border-gray-300 _p-0 dark:_border-gray-600 even:_bg-gray-100 even:dark:_bg-gray-600/20"><td class="_m-0 _border _border-gray-300 _px-4 _py-2 dark:_border-gray-600"><code class="nextra-code" dir="ltr">0x55</code></td><td class="_m-0 _border _border-gray-300 _px-4 _py-2 dark:_border-gray-600">5</td><td class="_m-0 _border _border-gray-300 _px-4 _py-2 dark:_border-gray-600"><code class="nextra-code" dir="ltr">0xA000</code>â€“<code class="nextra-code" dir="ltr">0xBFFF</code></td></tr><tr class="_m-0 _border-t _border-gray-300 _p-0 dark:_border-gray-600 even:_bg-gray-100 even:dark:_bg-gray-600/20"><td class="_m-0 _border _border-gray-300 _px-4 _py-2 dark:_border-gray-600"><code class="nextra-code" dir="ltr">0x56</code></td><td class="_m-0 _border _border-gray-300 _px-4 _py-2 dark:_border-gray-600">6</td><td class="_m-0 _border _border-gray-300 _px-4 _py-2 dark:_border-gray-600"><code class="nextra-code" dir="ltr">0xC000</code>â€“<code class="nextra-code" dir="ltr">0xDFFF</code></td></tr><tr class="_m-0 _border-t _border-gray-300 _p-0 dark:_border-gray-600 even:_bg-gray-100 even:dark:_bg-gray-600/20"><td class="_m-0 _border _border-gray-300 _px-4 _py-2 dark:_border-gray-600"><code class="nextra-code" dir="ltr">0x57</code></td><td class="_m-0 _border _border-gray-300 _px-4 _py-2 dark:_border-gray-600">7</td><td class="_m-0 _border _border-gray-300 _px-4 _py-2 dark:_border-gray-600"><code class="nextra-code" dir="ltr">0xE000</code>â€“<code class="nextra-code" dir="ltr">0xFFFF</code></td></tr></tbody></table>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7">Each register holds the <strong>8KB page number</strong> that occupies that slot. Pages run from 0 to 223 on a fully expanded Next (2MB Ã· 8KB = 256 pages, but the top 32 are reserved). Writing <code class="nextra-code" dir="ltr">255</code> to slots 0 or 1 makes the ROM appear there instead of RAM.</p>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7">The default configuration after soft reset mirrors the 128K Spectrum layout:</p>
<ul class="[:is(ol,ul)_&amp;]:_my-3 [&amp;:not(:first-child)]:_mt-6 _list-disc ltr:_ml-6 rtl:_mr-6">
<li class="_my-2">Slots 0â€“1: ROM (value 255)</li>
<li class="_my-2">Slots 2â€“3: Page 10 (Bank 5, the ULA screen bankâ€”addresses <code class="nextra-code" dir="ltr">0x4000</code>â€“<code class="nextra-code" dir="ltr">0x7FFF</code>)</li>
<li class="_my-2">Slots 4â€“5: Page 4â€“5 (Bank 2)</li>
<li class="_my-2">Slots 6â€“7: Pages 0â€“1 (Bank 0)</li>
</ul>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7">To access a physical address anywhere in the 2MB space, calculate the page number: <code class="nextra-code" dir="ltr">page = physical_address Ã· 8192</code>. Then write that page number to whichever slot you want to map it through. For example, to access the very end of RAM at physical address <code class="nextra-code" dir="ltr">0x1F&#x27;E000</code>:</p>
<div class="nextra-code _relative [&amp;:not(:first-child)]:_mt-6"><pre class="nextra-focus _overflow-x-auto _subpixel-antialiased _text-[.9em] _bg-white dark:_bg-black _py-4 _ring-1 _ring-inset _ring-gray-300 dark:_ring-neutral-700 contrast-more:_ring-gray-900 contrast-more:dark:_ring-gray-50 contrast-more:_contrast-150 _rounded-md" tabindex="0"><code class="nextra-code" dir="ltr"><span><span style="color:#6A9955">; Map page 0xFF (address 0x1FE000-0x1FFFFF) into slot 6</span></span>
<span><span style="color:#A4A4A4">NEXTREG </span><span style="color:#4D8061">0x56</span><span style="color:#A4A4A4">, </span><span style="color:#4D8061">0xFF</span></span>
<span><span style="color:#6A9955">; Now read/write 0xC000-0xDFFF to access that physical memory</span></span></code></pre><div class="_opacity-0 _transition [div:hover&gt;&amp;]:_opacity-100 focus-within:_opacity-100 _flex _gap-1 _absolute _right-4 _top-2"><button class="_transition _border _border-gray-300 dark:_border-neutral-700 contrast-more:_border-gray-900 contrast-more:dark:_border-gray-50 _rounded-md _p-1.5 md:_hidden" title="Toggle word wrap" type="button" data-headlessui-state=""><svg viewBox="0 0 24 24" fill="currentColor" height="16"><path d="M4 19h6v-2H4v2zM20 5H4v2h16V5zm-3 6H4v2h13.25c1.1 0 2 .9 2 2s-.9 2-2 2H15v-2l-3 3l3 3v-2h2c2.21 0 4-1.79 4-4s-1.79-4-4-4z"></path></svg></button></div></div>
<h3 id="legacy-128k-memory-mapping-0x8e-0x8f" class="_font-semibold _tracking-tight _text-slate-900 dark:_text-slate-100 _mt-8 _text-2xl">Legacy 128K Memory Mapping (<code class="nextra-code" dir="ltr">0x8E</code>, <code class="nextra-code" dir="ltr">0x8F</code>)<a href="#legacy-128k-memory-mapping-0x8e-0x8f" class="nextra-focus subheading-anchor" aria-label="Permalink for this section"></a></h3>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7">Many existing programs use the traditional Spectrum 128K port <code class="nextra-code" dir="ltr">0x7FFD</code> for memory paging. The Next respects this fullyâ€”but also lets you change those mappings directly through NextRegs without issuing port writes.</p>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7"><strong>Register <code class="nextra-code" dir="ltr">0x8E</code> â€” Spectrum 128K Memory Mapping</strong></p>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7">This is a unified view of all the legacy paging ports. Writing here has the same effect as writing to the original ports:</p>
<ul class="[:is(ol,ul)_&amp;]:_my-3 [&amp;:not(:first-child)]:_mt-6 _list-disc ltr:_ml-6 rtl:_mr-6">
<li class="_my-2">Bits 6:4 â€” RAM bank selection (equivalent to port <code class="nextra-code" dir="ltr">0x7FFD</code> bits 2:0)</li>
<li class="_my-2">Bit 7 â€” Extended bank bit (port <code class="nextra-code" dir="ltr">0xDFfd</code> bit 0), reaching banks 8â€“15</li>
<li class="_my-2">Bit 2 â€” Paging mode: 0 = normal, 1 = all-RAM (+3 special mode)</li>
<li class="_my-2">In normal mode: bits 1:0 select the ROM (equivalent to ports <code class="nextra-code" dir="ltr">0x1FFD</code>/<code class="nextra-code" dir="ltr">0x7FFD</code>)</li>
</ul>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7">Reading gives you the current state of all these port values in one shotâ€”useful for saving/restoring context without reading three separate I/O ports.</p>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7"><strong>Register <code class="nextra-code" dir="ltr">0x8F</code> â€” Memory Mapping Mode</strong></p>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7">Selects how ports <code class="nextra-code" dir="ltr">0x7FFD</code>, <code class="nextra-code" dir="ltr">0xDFFD</code>, <code class="nextra-code" dir="ltr">0x1FFD</code>, and <code class="nextra-code" dir="ltr">0xEFF7</code> interpret their bits:</p>
<ul class="[:is(ol,ul)_&amp;]:_my-3 [&amp;:not(:first-child)]:_mt-6 _list-disc ltr:_ml-6 rtl:_mr-6">
<li class="_my-2"><code class="nextra-code" dir="ltr">00</code> â€” Standard ZX 128K/+3 behavior</li>
<li class="_my-2"><code class="nextra-code" dir="ltr">10</code> â€” Pentagon 512K memory model</li>
<li class="_my-2"><code class="nextra-code" dir="ltr">11</code> â€” Pentagon 1024K memory model</li>
</ul>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7">Use this when running software written for Pentagon clones that expects their larger memory model.</p>
<h3 id="alternate-rom-0x8c" class="_font-semibold _tracking-tight _text-slate-900 dark:_text-slate-100 _mt-8 _text-2xl">Alternate ROM (<code class="nextra-code" dir="ltr">0x8C</code>)<a href="#alternate-rom-0x8c" class="nextra-focus subheading-anchor" aria-label="Permalink for this section"></a></h3>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7"><strong>Register <code class="nextra-code" dir="ltr">0x8C</code> â€” Alternate ROM</strong></p>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7">The Next lets you substitute your own ROM for the standard one. Writing bit 7 enables it; the alternate ROM is taken from DivMMC page space. You can also lock the 48K or 128K ROMs individually so they donâ€™t get swapped out.</p>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7">This is primarily used by the boot ROM and operating systemâ€”but itâ€™s also how youâ€™d implement your own custom ROM replacement or a debugging monitor that intercepts RST vectors.</p>
<hr class="_my-8 _border-neutral-200/70 contrast-more:_border-neutral-400 dark:_border-primary-100/10 contrast-more:dark:_border-neutral-400"/>
<h2 id="video-the-layer-system" class="_font-semibold _tracking-tight _text-slate-900 dark:_text-slate-100 _mt-10 _border-b _pb-1 _text-3xl _border-neutral-200/70 contrast-more:_border-neutral-400 dark:_border-primary-100/10 contrast-more:dark:_border-neutral-400">Video: The Layer System<a href="#video-the-layer-system" class="nextra-focus subheading-anchor" aria-label="Permalink for this section"></a></h2>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7">The Next composites up to five overlapping visual elementsâ€”ULA, LoRes, Tilemap, Layer 2, and Spritesâ€”into a single final image. Before diving into each layer, you need to understand how they stack and how to configure that stack.</p>
<h3 id="layer-priority-and-global-enable-0x15" class="_font-semibold _tracking-tight _text-slate-900 dark:_text-slate-100 _mt-8 _text-2xl">Layer Priority and Global Enable (<code class="nextra-code" dir="ltr">0x15</code>)<a href="#layer-priority-and-global-enable-0x15" class="nextra-focus subheading-anchor" aria-label="Permalink for this section"></a></h3>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7"><strong>Register <code class="nextra-code" dir="ltr">0x15</code> â€” Sprite and Layers System</strong></p>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7">This single register controls the big picture of what appears on screen and in what order.</p>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7"><strong>Enabling layers:</strong></p>
<ul class="[:is(ol,ul)_&amp;]:_my-3 [&amp;:not(:first-child)]:_mt-6 _list-disc ltr:_ml-6 rtl:_mr-6">
<li class="_my-2">Bit 0 â€” Enable sprites globally (sprites are invisible until this is set)</li>
<li class="_my-2">Bit 1 â€” Allow sprites to appear over the border area</li>
<li class="_my-2">Bit 7 â€” Enable LoRes mode (replaces standard ULA output)</li>
</ul>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7"><strong>Layer priority</strong> (bits 4:2):</p>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7">The three layersâ€”<strong>S</strong> (Sprites), <strong>L</strong> (Layer 2), and <strong>U</strong> (ULA, which includes Tilemap when active)â€”can appear in any order:</p>









































<table class="_not-prose _block _overflow-x-auto nextra-scrollbar [&amp;:not(:first-child)]:_mt-6 _p-0"><thead><tr class="_m-0 _border-t _border-gray-300 _p-0 dark:_border-gray-600 even:_bg-gray-100 even:dark:_bg-gray-600/20"><th class="_m-0 _border _border-gray-300 _px-4 _py-2 _font-semibold dark:_border-gray-600">Bits 4:2</th><th class="_m-0 _border _border-gray-300 _px-4 _py-2 _font-semibold dark:_border-gray-600">Order (front to back)</th></tr></thead><tbody><tr class="_m-0 _border-t _border-gray-300 _p-0 dark:_border-gray-600 even:_bg-gray-100 even:dark:_bg-gray-600/20"><td class="_m-0 _border _border-gray-300 _px-4 _py-2 dark:_border-gray-600"><code class="nextra-code" dir="ltr">000</code></td><td class="_m-0 _border _border-gray-300 _px-4 _py-2 dark:_border-gray-600">S â†’ L â†’ U</td></tr><tr class="_m-0 _border-t _border-gray-300 _p-0 dark:_border-gray-600 even:_bg-gray-100 even:dark:_bg-gray-600/20"><td class="_m-0 _border _border-gray-300 _px-4 _py-2 dark:_border-gray-600"><code class="nextra-code" dir="ltr">001</code></td><td class="_m-0 _border _border-gray-300 _px-4 _py-2 dark:_border-gray-600">L â†’ S â†’ U</td></tr><tr class="_m-0 _border-t _border-gray-300 _p-0 dark:_border-gray-600 even:_bg-gray-100 even:dark:_bg-gray-600/20"><td class="_m-0 _border _border-gray-300 _px-4 _py-2 dark:_border-gray-600"><code class="nextra-code" dir="ltr">010</code></td><td class="_m-0 _border _border-gray-300 _px-4 _py-2 dark:_border-gray-600">S â†’ U â†’ L</td></tr><tr class="_m-0 _border-t _border-gray-300 _p-0 dark:_border-gray-600 even:_bg-gray-100 even:dark:_bg-gray-600/20"><td class="_m-0 _border _border-gray-300 _px-4 _py-2 dark:_border-gray-600"><code class="nextra-code" dir="ltr">011</code></td><td class="_m-0 _border _border-gray-300 _px-4 _py-2 dark:_border-gray-600">L â†’ U â†’ S</td></tr><tr class="_m-0 _border-t _border-gray-300 _p-0 dark:_border-gray-600 even:_bg-gray-100 even:dark:_bg-gray-600/20"><td class="_m-0 _border _border-gray-300 _px-4 _py-2 dark:_border-gray-600"><code class="nextra-code" dir="ltr">100</code></td><td class="_m-0 _border _border-gray-300 _px-4 _py-2 dark:_border-gray-600">U â†’ S â†’ L</td></tr><tr class="_m-0 _border-t _border-gray-300 _p-0 dark:_border-gray-600 even:_bg-gray-100 even:dark:_bg-gray-600/20"><td class="_m-0 _border _border-gray-300 _px-4 _py-2 dark:_border-gray-600"><code class="nextra-code" dir="ltr">101</code></td><td class="_m-0 _border _border-gray-300 _px-4 _py-2 dark:_border-gray-600">U â†’ L â†’ S</td></tr><tr class="_m-0 _border-t _border-gray-300 _p-0 dark:_border-gray-600 even:_bg-gray-100 even:dark:_bg-gray-600/20"><td class="_m-0 _border _border-gray-300 _px-4 _py-2 dark:_border-gray-600"><code class="nextra-code" dir="ltr">110</code></td><td class="_m-0 _border _border-gray-300 _px-4 _py-2 dark:_border-gray-600">Blending mode (U|T)S(T|U)(B+L)</td></tr><tr class="_m-0 _border-t _border-gray-300 _p-0 dark:_border-gray-600 even:_bg-gray-100 even:dark:_bg-gray-600/20"><td class="_m-0 _border _border-gray-300 _px-4 _py-2 dark:_border-gray-600"><code class="nextra-code" dir="ltr">111</code></td><td class="_m-0 _border _border-gray-300 _px-4 _py-2 dark:_border-gray-600">Blending mode (U|T)S(T|U)(B+L-5)</td></tr></tbody></table>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7">The default is <code class="nextra-code" dir="ltr">000</code>: sprites on top, then Layer 2, then ULA at the back.</p>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7">Modes <code class="nextra-code" dir="ltr">110</code> and <code class="nextra-code" dir="ltr">111</code> blend Layer 2 and ULA channel colors together, clamped to the <code class="nextra-code" dir="ltr">[0,7]</code> rangeâ€”useful for color mixing effects.</p>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7"><strong>Sprite priority within sprites</strong> (bit 6):</p>
<ul class="[:is(ol,ul)_&amp;]:_my-3 [&amp;:not(:first-child)]:_mt-6 _list-disc ltr:_ml-6 rtl:_mr-6">
<li class="_my-2">0 â€” Sprite 127 rendered on top (higher-numbered sprites win)</li>
<li class="_my-2">1 â€” Sprite 0 rendered on top (lower-numbered sprites win)</li>
</ul>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7"><strong>Sprite clipping over border</strong> (bit 5): when sprites extend into the border area, this enables the clip window to apply there too.</p>
<h3 id="global-transparency-0x14-0x4a-0x4b-0x4c" class="_font-semibold _tracking-tight _text-slate-900 dark:_text-slate-100 _mt-8 _text-2xl">Global Transparency (<code class="nextra-code" dir="ltr">0x14</code>, <code class="nextra-code" dir="ltr">0x4A</code>, <code class="nextra-code" dir="ltr">0x4B</code>, <code class="nextra-code" dir="ltr">0x4C</code>)<a href="#global-transparency-0x14-0x4a-0x4b-0x4c" class="nextra-focus subheading-anchor" aria-label="Permalink for this section"></a></h3>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7">Every layer needs a â€œnothing here, show whatever is below meâ€ color. There are several transparency registers because the layers use different color formats.</p>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7"><strong>Register <code class="nextra-code" dir="ltr">0x14</code> â€” Global Transparency Colour</strong></p>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7">An 8-bit color value in RRRGGGBB format. Any pixel in Layer 2 or the ULA that exactly matches this color (comparing against the top 8 bits of the 9-bit palette output) becomes transparent, showing layers below. Default is <code class="nextra-code" dir="ltr">0xE3</code>.</p>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7">This is a global settingâ€”it applies to Layer 2, ULA, and LoRes simultaneously. If you need a different transparent color for sprites or the tilemap, use the registers below.</p>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7"><strong>Register <code class="nextra-code" dir="ltr">0x4A</code> â€” Fallback Colour</strong></p>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7">When all layers are transparent at a pixel positionâ€”every layer shows nothingâ€”this color fills in. Itâ€™s the absolute bottom of the compositing stack. Also used as the paper/border color in ULANextâ€™s full-ink mode.</p>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7"><strong>Register <code class="nextra-code" dir="ltr">0x4B</code> â€” Sprite Transparency Index</strong></p>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7">Sprites use palette indices, not direct colors. Any sprite pixel with this palette index (0â€“255, or 0â€“15 for 4-bit sprites) is transparent. Default <code class="nextra-code" dir="ltr">0xE3</code>.</p>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7"><strong>Register <code class="nextra-code" dir="ltr">0x4C</code> â€” Tilemap Transparency Index</strong></p>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7">The tilemapâ€™s transparent palette index (just the bottom 4 bits matter since the tilemap always uses 4-bit indices). Default <code class="nextra-code" dir="ltr">0xF</code>.</p>
<h3 id="active-video-line-0x1e-0x1f" class="_font-semibold _tracking-tight _text-slate-900 dark:_text-slate-100 _mt-8 _text-2xl">Active Video Line (<code class="nextra-code" dir="ltr">0x1E</code>, <code class="nextra-code" dir="ltr">0x1F</code>)<a href="#active-video-line-0x1e-0x1f" class="nextra-focus subheading-anchor" aria-label="Permalink for this section"></a></h3>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7"><strong>Registers <code class="nextra-code" dir="ltr">0x1E</code>/<code class="nextra-code" dir="ltr">0x1F</code> â€” Active Video Line</strong></p>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7">Reading these gives you the current raster line being generated. <code class="nextra-code" dir="ltr">0x1E</code> bit 0 is the MSB, <code class="nextra-code" dir="ltr">0x1F</code> is the LSB. Together they form a 9-bit line number. This is the software equivalent of asking â€œwhere is the electron gun right now?â€ Useful for the rare cases where you need raster-synchronized code without setting up a line interrupt.</p>
<hr class="_my-8 _border-neutral-200/70 contrast-more:_border-neutral-400 dark:_border-primary-100/10 contrast-more:dark:_border-neutral-400"/>
<h2 id="video-layer-2" class="_font-semibold _tracking-tight _text-slate-900 dark:_text-slate-100 _mt-10 _border-b _pb-1 _text-3xl _border-neutral-200/70 contrast-more:_border-neutral-400 dark:_border-primary-100/10 contrast-more:dark:_border-neutral-400">Video: Layer 2<a href="#video-layer-2" class="nextra-focus subheading-anchor" aria-label="Permalink for this section"></a></h2>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7">Layer 2 is the Nextâ€™s full-color bitmap display. Forget the ULAâ€™s 8-color-attribute systemâ€”Layer 2 gives every pixel its own color from a 256-entry palette. Itâ€™s how you draw photographs, smooth gradients, and any image that would turn into a color-clash disaster on a standard Spectrum.</p>
<h3 id="assigning-memory-0x12-0x13-0x69" class="_font-semibold _tracking-tight _text-slate-900 dark:_text-slate-100 _mt-8 _text-2xl">Assigning Memory (<code class="nextra-code" dir="ltr">0x12</code>, <code class="nextra-code" dir="ltr">0x13</code>, <code class="nextra-code" dir="ltr">0x69</code>)<a href="#assigning-memory-0x12-0x13-0x69" class="nextra-focus subheading-anchor" aria-label="Permalink for this section"></a></h3>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7"><strong>Register <code class="nextra-code" dir="ltr">0x12</code> â€” Layer 2 Active RAM Bank</strong></p>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7">Layer 2 stores its pixels in regular 16KB RAM banksâ€”the same memory the CPU uses. This register selects which 16KB bank is the <em>starting</em> bank for the active display buffer. Since the standard 256Ã—192Ã—8 mode needs 48KB, Layer 2 actually occupies three consecutive 16KB banks starting from this one. Default is bank 8.</p>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7"><strong>Register <code class="nextra-code" dir="ltr">0x13</code> â€” Layer 2 Shadow RAM Bank</strong></p>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7">The second bufferâ€”while Layer 2 is displaying from the active bank, you can draw into the shadow bank, then swap them. Perfect for flicker-free animation. Default is bank 11. Swap the active and shadow banks by toggling bit 3 of port <code class="nextra-code" dir="ltr">0x123B</code>.</p>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7"><strong>Register <code class="nextra-code" dir="ltr">0x69</code> â€” Display Control 1</strong> (bit 7)</p>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7">Bit 7 is the main Layer 2 enable switch (alias of the Layer 2 control port <code class="nextra-code" dir="ltr">0x123B</code> bit 1). Clear Layer 2 and only the ULA is visible; set it and Layer 2 composites into the frame according to the layer priority in <code class="nextra-code" dir="ltr">0x15</code>.</p>
<h3 id="resolution-0x70" class="_font-semibold _tracking-tight _text-slate-900 dark:_text-slate-100 _mt-8 _text-2xl">Resolution (<code class="nextra-code" dir="ltr">0x70</code>)<a href="#resolution-0x70" class="nextra-focus subheading-anchor" aria-label="Permalink for this section"></a></h3>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7"><strong>Register <code class="nextra-code" dir="ltr">0x70</code> â€” Layer 2 Resolution and Palette</strong></p>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7">Bits 5:4 select the display resolution:</p>
<ul class="[:is(ol,ul)_&amp;]:_my-3 [&amp;:not(:first-child)]:_mt-6 _list-disc ltr:_ml-6 rtl:_mr-6">
<li class="_my-2"><code class="nextra-code" dir="ltr">00</code> â€” <strong>256Ã—192, 8bpp</strong> (standard mode, 48KB frame buffer)</li>
<li class="_my-2"><code class="nextra-code" dir="ltr">01</code> â€” <strong>320Ã—256, 8bpp</strong> (requires 80KB; uses more banks)</li>
<li class="_my-2"><code class="nextra-code" dir="ltr">10</code> â€” <strong>640Ã—256, 4bpp</strong> (doubled horizontal, 80KB)</li>
</ul>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7">The standard 256Ã—192 mode fits neatly into three consecutive 16KB banks. The high-resolution modes need five banks and offer more screen areaâ€”340Ã—256 fills a 16:10 display beautifully.</p>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7">Bits 3:0 are the <strong>palette offset</strong>: this shifts which palette entries Layer 2 uses. The full Layer 2 palette has 256 entries, but you can bias the lookup by this offset, cycling through different color ranges for palette animation effects.</p>
<h3 id="scrolling-0x16-0x17-0x71" class="_font-semibold _tracking-tight _text-slate-900 dark:_text-slate-100 _mt-8 _text-2xl">Scrolling (<code class="nextra-code" dir="ltr">0x16</code>, <code class="nextra-code" dir="ltr">0x17</code>, <code class="nextra-code" dir="ltr">0x71</code>)<a href="#scrolling-0x16-0x17-0x71" class="nextra-focus subheading-anchor" aria-label="Permalink for this section"></a></h3>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7"><strong>Registers <code class="nextra-code" dir="ltr">0x16</code>/<code class="nextra-code" dir="ltr">0x71</code> â€” Layer 2 X Scroll</strong> (LSB and MSB)</p>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7">The X scroll value wraps Layer 2 horizontally. Combine <code class="nextra-code" dir="ltr">0x71</code> bit 0 (MSB) and <code class="nextra-code" dir="ltr">0x16</code> (LSB) for a 9-bit offset, covering the full 320-pixel width of the high-res modes. In standard 256Ã—192, only 8 bits matter.</p>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7"><strong>Register <code class="nextra-code" dir="ltr">0x17</code> â€” Layer 2 Y Scroll</strong></p>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7">Vertical scroll, wrapping within the active resolution height (0â€“191 for standard mode). The hardware shifts the display origin without touching any pixel dataâ€”instant, zero-cost scrolling.</p>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7">Scrolling Layer 2 is free. The CPU doesnâ€™t copy pixels; the compositor just starts reading the buffer at a different offset. This is how parallax background layers work: update the scroll register each frame and the background slides independently of the sprites or ULA layer above it.</p>
<hr class="_my-8 _border-neutral-200/70 contrast-more:_border-neutral-400 dark:_border-primary-100/10 contrast-more:dark:_border-neutral-400"/>
<h2 id="video-ula-and-lores" class="_font-semibold _tracking-tight _text-slate-900 dark:_text-slate-100 _mt-10 _border-b _pb-1 _text-3xl _border-neutral-200/70 contrast-more:_border-neutral-400 dark:_border-primary-100/10 contrast-more:dark:_border-neutral-400">Video: ULA and LoRes<a href="#video-ula-and-lores" class="nextra-focus subheading-anchor" aria-label="Permalink for this section"></a></h2>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7">The ULA is the heart of every Spectrum that ever lived. The Next reproduces it faithfullyâ€”complete with color attributes, contention, and all the behaviors decades of software depend on. But it also gives you direct control over the ULA that the original never offered.</p>
<h3 id="scrolling-the-ula-0x26-0x27" class="_font-semibold _tracking-tight _text-slate-900 dark:_text-slate-100 _mt-8 _text-2xl">Scrolling the ULA (<code class="nextra-code" dir="ltr">0x26</code>, <code class="nextra-code" dir="ltr">0x27</code>)<a href="#scrolling-the-ula-0x26-0x27" class="nextra-focus subheading-anchor" aria-label="Permalink for this section"></a></h3>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7"><strong>Register <code class="nextra-code" dir="ltr">0x26</code> â€” ULA X Scroll</strong><br/>
<strong>Register <code class="nextra-code" dir="ltr">0x27</code> â€” ULA Y Scroll</strong></p>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7">Hardware scroll registers for the ULA layer. Like Layer 2, the pixel data doesnâ€™t moveâ€”just the compositorâ€™s reading window. X wraps at 256, Y at 192.</p>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7">Classic Spectrum games scrolled by copying memory. Now you just write a value to <code class="nextra-code" dir="ltr">0x26</code> or <code class="nextra-code" dir="ltr">0x27</code>. No CPU cycles eating into game logic, no screen tearing from partial updates.</p>
<h3 id="ula-control-0x68" class="_font-semibold _tracking-tight _text-slate-900 dark:_text-slate-100 _mt-8 _text-2xl">ULA Control (<code class="nextra-code" dir="ltr">0x68</code>)<a href="#ula-control-0x68" class="nextra-focus subheading-anchor" aria-label="Permalink for this section"></a></h3>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7"><strong>Register <code class="nextra-code" dir="ltr">0x68</code> â€” ULA Control</strong></p>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7">A collection of ULA-level settings:</p>
<ul class="[:is(ol,ul)_&amp;]:_my-3 [&amp;:not(:first-child)]:_mt-6 _list-disc ltr:_ml-6 rtl:_mr-6">
<li class="_my-2"><strong>Bit 7</strong>: Disable ULA output entirely. Useful when you want only Layer 2 visible, or when blanking the screen during heavy loading.</li>
<li class="_my-2"><strong>Bit 3</strong>: Enable <strong>ULA+</strong> modeâ€”an alternate palette system where a separate 64-entry palette replaces the 8-color ULA defaults, giving the classic display 64 colors instead of 8.</li>
<li class="_my-2"><strong>Bit 2</strong>: ULA half-pixel scrollâ€”enables sub-pixel horizontal scrolling by activating an intermediate scroll position between whole pixels.</li>
<li class="_my-2"><strong>Bit 0</strong>: Enable <strong>stencil mode</strong> when both ULA and Tilemap are active. Rather than one overwriting the other, stencil mode logically ANDs their colors togetherâ€”creating masked cutout effects.</li>
<li class="_my-2"><strong>Bit 4</strong>: Cancel extended key entries in the 8Ã—5 key matrixâ€”prevents extended keys from showing up as regular key presses.</li>
<li class="_my-2"><strong>Bits 6:5</strong>: Blending mode selection for SLU modes 6 and 7 (from <code class="nextra-code" dir="ltr">0x15</code>): choose ULA, ULA/Tilemap mix, or Tilemap as the source for blending.</li>
</ul>
<h3 id="lores-mode-0x6a-0x15-bit-7-0x32-0x33" class="_font-semibold _tracking-tight _text-slate-900 dark:_text-slate-100 _mt-8 _text-2xl">LoRes Mode (<code class="nextra-code" dir="ltr">0x6A</code>, <code class="nextra-code" dir="ltr">0x15</code> bit 7, <code class="nextra-code" dir="ltr">0x32</code>, <code class="nextra-code" dir="ltr">0x33</code>)<a href="#lores-mode-0x6a-0x15-bit-7-0x32-0x33" class="nextra-focus subheading-anchor" aria-label="Permalink for this section"></a></h3>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7"><strong>Register <code class="nextra-code" dir="ltr">0x6A</code> â€” LoRes Control</strong></p>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7">LoRes is a lower-resolution ULA mode: 128Ã—96 pixels with 2 colors per 4Ã—8 pixel block instead of the normal 8Ã—8. Same memory as the ULA (so you canâ€™t have both simultaneously), but tighter attribute coverage.</p>
<ul class="[:is(ol,ul)_&amp;]:_my-3 [&amp;:not(:first-child)]:_mt-6 _list-disc ltr:_ml-6 rtl:_mr-6">
<li class="_my-2"><strong>Bit 5</strong>: Enable <strong>Radastan mode</strong> â€” a 128Ã—96 display using 4bpp (16 colors per pixel instead of per block), requiring 6144 bytes. Raw color without attribute clash.</li>
<li class="_my-2"><strong>Bit 4</strong>: Radastan Timex display file XOR â€” toggles which display file drives LoRes in Radastan mode.</li>
<li class="_my-2"><strong>Bits 3:0</strong>: Palette offset for LoRes rendering.</li>
</ul>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7"><strong>Registers <code class="nextra-code" dir="ltr">0x32</code>/<code class="nextra-code" dir="ltr">0x33</code> â€” LoRes X/Y Scroll</strong></p>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7">Hardware scroll registers for LoRes, independent of the ULA scroll. LoRes scrolls in â€œhalf-pixelsâ€ at the same sub-pixel smoothness as Layer 2.</p>
<h3 id="display-control-0x69" class="_font-semibold _tracking-tight _text-slate-900 dark:_text-slate-100 _mt-8 _text-2xl">Display Control (<code class="nextra-code" dir="ltr">0x69</code>)<a href="#display-control-0x69" class="nextra-focus subheading-anchor" aria-label="Permalink for this section"></a></h3>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7"><strong>Register <code class="nextra-code" dir="ltr">0x69</code> â€” Display Control 1</strong></p>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7">Bit 7 enables Layer 2 (alias of the Layer 2 port). Bit 6 enables the ULA shadow display (alias of port <code class="nextra-code" dir="ltr">0x7FFD</code> bit 3â€”using the second screen bank). Bits 5:0 alias port <code class="nextra-code" dir="ltr">0xFF</code> for Timex display mode selection. This register is a convenient single-address view of display configuration thatâ€™s otherwise scattered across multiple ports.</p>
<h3 id="video-timing-0x11" class="_font-semibold _tracking-tight _text-slate-900 dark:_text-slate-100 _mt-8 _text-2xl">Video Timing (<code class="nextra-code" dir="ltr">0x11</code>)<a href="#video-timing-0x11" class="nextra-focus subheading-anchor" aria-label="Permalink for this section"></a></h3>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7"><strong>Register <code class="nextra-code" dir="ltr">0x11</code> â€” Video Timing</strong> (writable in config mode only)</p>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7">Selects the pixel clock frequency for VGA output or locks to HDMI:</p>
<ul class="[:is(ol,ul)_&amp;]:_my-3 [&amp;:not(:first-child)]:_mt-6 _list-disc ltr:_ml-6 rtl:_mr-6">
<li class="_my-2"><code class="nextra-code" dir="ltr">000</code> â€” 28 MHz (base VGA, HDMI compatible)</li>
<li class="_my-2"><code class="nextra-code" dir="ltr">001</code> â€” 28.571 MHz (HDMI compatible VGA variant)</li>
<li class="_my-2"><code class="nextra-code" dir="ltr">010</code>â€“<code class="nextra-code" dir="ltr">110</code> â€” Higher VGA frequencies (up to 33 MHz)</li>
<li class="_my-2"><code class="nextra-code" dir="ltr">111</code> â€” HDMI mode (fixed timing)</li>
</ul>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7">If your VGA monitor wonâ€™t sync, try different timing settings. The 50/60 Hz selection comes from <code class="nextra-code" dir="ltr">0x05</code> bit 2.</p>
<h3 id="vertical-line-count-offset-0x64" class="_font-semibold _tracking-tight _text-slate-900 dark:_text-slate-100 _mt-8 _text-2xl">Vertical Line Count Offset (<code class="nextra-code" dir="ltr">0x64</code>)<a href="#vertical-line-count-offset-0x64" class="nextra-focus subheading-anchor" aria-label="Permalink for this section"></a></h3>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7"><strong>Register <code class="nextra-code" dir="ltr">0x64</code> â€” Vertical Line Count Offset</strong></p>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7">Normally, the ULAâ€™s first pixel row aligns with vertical line 0 for purposes of the Copper and line interrupts. This register adds an offset, shifting the relationship. Setting it to 32 means vertical line 32 corresponds to the first ULA rowâ€”while vertical lines 0â€“31 correspond to the tilemap and sprite area above the ULA display.</p>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7">This is how you create multi-resolution split screens: sprites and tilemaps count â€œraster linesâ€ from 0, but the ULA starts partway through the frame. A non-zero offset lets the Copper fire at the right line to switch modes cleanly.</p>
<hr class="_my-8 _border-neutral-200/70 contrast-more:_border-neutral-400 dark:_border-primary-100/10 contrast-more:dark:_border-neutral-400"/>
<h2 id="video-sprites" class="_font-semibold _tracking-tight _text-slate-900 dark:_text-slate-100 _mt-10 _border-b _pb-1 _text-3xl _border-neutral-200/70 contrast-more:_border-neutral-400 dark:_border-primary-100/10 contrast-more:dark:_border-neutral-400">Video: Sprites<a href="#video-sprites" class="nextra-focus subheading-anchor" aria-label="Permalink for this section"></a></h2>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7">Sprites are the 128 independent movable objects the Next provides. Unlike the ULA where you manually erase and redraw pixels, sprites exist outside normal memoryâ€”you write their attributes to hardware registers, and the compositor handles placement and compositing automatically.</p>
<h3 id="selecting-the-active-sprite-0x34" class="_font-semibold _tracking-tight _text-slate-900 dark:_text-slate-100 _mt-8 _text-2xl">Selecting the Active Sprite (<code class="nextra-code" dir="ltr">0x34</code>)<a href="#selecting-the-active-sprite-0x34" class="nextra-focus subheading-anchor" aria-label="Permalink for this section"></a></h3>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7"><strong>Register <code class="nextra-code" dir="ltr">0x34</code> â€” Sprite Number</strong></p>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7">Everything sprite-related works on one sprite at a time. Write the sprite number (0â€“127) here to select which sprite subsequent attribute writes go to. Reading always returns 0 in the top bit; the bottom 7 bits reflect the last written sprite number.</p>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7">When <strong>lockstep mode</strong> is enabled (<code class="nextra-code" dir="ltr">0x09</code> bit 4), writing to <code class="nextra-code" dir="ltr">0x34</code> simultaneously writes to port <code class="nextra-code" dir="ltr">0x303B</code>â€”keeping the two interfaces in sync if legacy code uses the port directly.</p>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7">You can also address sprite patterns here when bit 7 is set in lockstep modeâ€”the bottom 6 bits become a pattern index (0â€“63).</p>
<h3 id="writing-sprite-attributes-0x350x39-0x750x79" class="_font-semibold _tracking-tight _text-slate-900 dark:_text-slate-100 _mt-8 _text-2xl">Writing Sprite Attributes (<code class="nextra-code" dir="ltr">0x35</code>â€“<code class="nextra-code" dir="ltr">0x39</code>, <code class="nextra-code" dir="ltr">0x75</code>â€“<code class="nextra-code" dir="ltr">0x79</code>)<a href="#writing-sprite-attributes-0x350x39-0x750x79" class="nextra-focus subheading-anchor" aria-label="Permalink for this section"></a></h3>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7"><strong>Registers <code class="nextra-code" dir="ltr">0x35</code>â€“<code class="nextra-code" dir="ltr">0x39</code> â€” Sprite Attributes 0â€“4</strong></p>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7">Each sprite has five attribute bytes controlling its appearance and position. Registers <code class="nextra-code" dir="ltr">0x35</code>â€“<code class="nextra-code" dir="ltr">0x39</code> write attributes to whichever sprite is currently selected by <code class="nextra-code" dir="ltr">0x34</code>. The sprite number does <strong>not</strong> auto-advance.</p>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7">Registers <code class="nextra-code" dir="ltr">0x75</code>â€“<code class="nextra-code" dir="ltr">0x79</code> do the same thing but <strong>auto-increment the sprite number</strong> after each complete set of attributes. This lets you stream attributes for 128 sprites with a loop:</p>
<div class="nextra-code _relative [&amp;:not(:first-child)]:_mt-6"><pre class="nextra-focus _overflow-x-auto _subpixel-antialiased _text-[.9em] _bg-white dark:_bg-black _py-4 _ring-1 _ring-inset _ring-gray-300 dark:_ring-neutral-700 contrast-more:_ring-gray-900 contrast-more:dark:_ring-gray-50 contrast-more:_contrast-150 _rounded-md" tabindex="0"><code class="nextra-code" dir="ltr"><span><span style="color:#A4A4A4">NEXTREG </span><span style="color:#4D8061">0x34</span><span style="color:#A4A4A4">, </span><span style="color:#4D8061">0</span><span style="color:#A4A4A4">          </span><span style="color:#6A9955">; start at sprite 0</span></span>
<span><span style="color:#A4A4A4">LD BC, </span><span style="color:#4D8061">0x253B</span><span style="color:#A4A4A4">            </span><span style="color:#6A9955">; value port</span></span>
<span><span style="color:#6A9955">; for each sprite, write the five attribute bytes to 0x75-0x79</span></span>
<span><span style="color:#6A9955">; after writing attribute 4 (0x79), sprite number advances automatically</span></span></code></pre><div class="_opacity-0 _transition [div:hover&gt;&amp;]:_opacity-100 focus-within:_opacity-100 _flex _gap-1 _absolute _right-4 _top-2"><button class="_transition _border _border-gray-300 dark:_border-neutral-700 contrast-more:_border-gray-900 contrast-more:dark:_border-gray-50 _rounded-md _p-1.5 md:_hidden" title="Toggle word wrap" type="button" data-headlessui-state=""><svg viewBox="0 0 24 24" fill="currentColor" height="16"><path d="M4 19h6v-2H4v2zM20 5H4v2h16V5zm-3 6H4v2h13.25c1.1 0 2 .9 2 2s-.9 2-2 2H15v-2l-3 3l3 3v-2h2c2.21 0 4-1.79 4-4s-1.79-4-4-4z"></path></svg></button></div></div>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7">Full attribute byte documentation covers position, palette, scaling, rotation, mirroring, visible flag, and pattern selection. See the <a class="nextra-focus _text-primary-600 _underline hover:_no-underline _decoration-from-font [text-underline-position:from-font]" href="https://www.specnext.com/sprites/" target="_blank" rel="noreferrer">sprites documentation</a> for the complete bit layout.</p>
<h3 id="clip-window-for-sprites-0x19" class="_font-semibold _tracking-tight _text-slate-900 dark:_text-slate-100 _mt-8 _text-2xl">Clip Window for Sprites (<code class="nextra-code" dir="ltr">0x19</code>)<a href="#clip-window-for-sprites-0x19" class="nextra-focus subheading-anchor" aria-label="Permalink for this section"></a></h3>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7"><strong>Register <code class="nextra-code" dir="ltr">0x19</code> â€” Clip Window Sprites</strong></p>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7">Four consecutive writes define the sprite clip rectangle: X1, X2, Y1, Y2 (all inclusive). Sprites are clipped to this window. In â€œover borderâ€ mode, the X coordinates are internally doubled and the origin shifts to align with the sprite coordinate system inside the border.</p>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7">Reads do not advance the clip indexâ€”only writes do.</p>
<hr class="_my-8 _border-neutral-200/70 contrast-more:_border-neutral-400 dark:_border-primary-100/10 contrast-more:dark:_border-neutral-400"/>
<h2 id="video-tilemap" class="_font-semibold _tracking-tight _text-slate-900 dark:_text-slate-100 _mt-10 _border-b _pb-1 _text-3xl _border-neutral-200/70 contrast-more:_border-neutral-400 dark:_border-primary-100/10 contrast-more:dark:_border-neutral-400">Video: Tilemap<a href="#video-tilemap" class="nextra-focus subheading-anchor" aria-label="Permalink for this section"></a></h2>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7">The Tilemap gives you a hardware-managed grid of tilesâ€”up to 256 different 8Ã—8 tiles, arranged on a 40Ã—32 or 80Ã—32 grid. The CPU writes tile numbers to a map in RAM; the hardware looks up tile patterns and renders them automatically. No CPU cycles spent copying pixel data around.</p>
<h3 id="enabling-and-configuring-the-tilemap-0x6b" class="_font-semibold _tracking-tight _text-slate-900 dark:_text-slate-100 _mt-8 _text-2xl">Enabling and Configuring the Tilemap (<code class="nextra-code" dir="ltr">0x6B</code>)<a href="#enabling-and-configuring-the-tilemap-0x6b" class="nextra-focus subheading-anchor" aria-label="Permalink for this section"></a></h3>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7"><strong>Register <code class="nextra-code" dir="ltr">0x6B</code> â€” Tilemap Control</strong></p>
<ul class="[:is(ol,ul)_&amp;]:_my-3 [&amp;:not(:first-child)]:_mt-6 _list-disc ltr:_ml-6 rtl:_mr-6">
<li class="_my-2"><strong>Bit 7</strong>: Enable the tilemap. Nothing appears until this is set.</li>
<li class="_my-2"><strong>Bit 6</strong>: Select layout â€” 0 for 40Ã—32 tiles, 1 for 80Ã—32 tiles.</li>
<li class="_my-2"><strong>Bit 5</strong>: Eliminate attribute entries from the tilemap. In the default two-byte format, each tile reference consists of a tile number byte plus an attribute byte (palette offset, mirroring, rotation). Setting this bit removes the attribute byteâ€”every tile uses the default attributes from <code class="nextra-code" dir="ltr">0x6C</code> instead. This halves map memory usage.</li>
<li class="_my-2"><strong>Bit 3</strong>: Enable <strong>text mode</strong> â€” tiles are rendered as character cells using the ULA font, suitable for terminal-style displays.</li>
<li class="_my-2"><strong>Bit 4</strong>: Palette select â€” choose between the tilemapâ€™s two palettes.</li>
<li class="_my-2"><strong>Bit 1</strong>: Enable <strong>512 tile mode</strong> â€” the attribute byteâ€™s bit 0 extends the tile number to 9 bits, giving access to 512 different tile patterns instead of 256.</li>
<li class="_my-2"><strong>Bit 0</strong>: Force tilemap on top of ULA. Normally the tilemap composites behind ULA. This overrides that, letting individual tiles use ULA-over-tilemap via the attribute bit, but making the rest of the tilemap appear above ULA.</li>
</ul>
<h3 id="default-tile-attributes-0x6c" class="_font-semibold _tracking-tight _text-slate-900 dark:_text-slate-100 _mt-8 _text-2xl">Default Tile Attributes (<code class="nextra-code" dir="ltr">0x6C</code>)<a href="#default-tile-attributes-0x6c" class="nextra-focus subheading-anchor" aria-label="Permalink for this section"></a></h3>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7"><strong>Register <code class="nextra-code" dir="ltr">0x6C</code> â€” Default Tilemap Attribute</strong></p>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7">When attribute-less mode is enabled (<code class="nextra-code" dir="ltr">0x6B</code> bit 5), every tile in the map uses this attribute value:</p>
<ul class="[:is(ol,ul)_&amp;]:_my-3 [&amp;:not(:first-child)]:_mt-6 _list-disc ltr:_ml-6 rtl:_mr-6">
<li class="_my-2">Bits 7:4 â€” Palette offset (shifts which palette entries the tile uses)</li>
<li class="_my-2">Bit 3 â€” Mirror the tile horizontally</li>
<li class="_my-2">Bit 2 â€” Mirror the tile vertically</li>
<li class="_my-2">Bit 1 â€” Rotate the tile 90Â°</li>
<li class="_my-2">Bit 0 â€” ULA over tilemap for this tile (or bit 8 of tile number in 512-tile mode)</li>
</ul>
<h3 id="tilemap-and-tile-memory-locations-0x6e-0x6f" class="_font-semibold _tracking-tight _text-slate-900 dark:_text-slate-100 _mt-8 _text-2xl">Tilemap and Tile Memory Locations (<code class="nextra-code" dir="ltr">0x6E</code>, <code class="nextra-code" dir="ltr">0x6F</code>)<a href="#tilemap-and-tile-memory-locations-0x6e-0x6f" class="nextra-focus subheading-anchor" aria-label="Permalink for this section"></a></h3>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7"><strong>Register <code class="nextra-code" dir="ltr">0x6E</code> â€” Tilemap Base Address</strong></p>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7">Points to where the tilemap data lives in RAM. The value in bits 5:0 represents the high byte of an address within Bank 5 (<code class="nextra-code" dir="ltr">0x4000</code>â€“<code class="nextra-code" dir="ltr">0x7FFF</code>) or Bank 7 (<code class="nextra-code" dir="ltr">0xC000</code>â€“<code class="nextra-code" dir="ltr">0xFFFF</code>, 8KB only). Think of it as: the base address = <code class="nextra-code" dir="ltr">(bit7 ? Bank7 : Bank5) + (bits5:0 &lt;&lt; 8)</code>.</p>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7">Default is <code class="nextra-code" dir="ltr">0x6C00</code> (within Bank 5).</p>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7"><strong>Register <code class="nextra-code" dir="ltr">0x6F</code> â€” Tile Definitions Base Address</strong></p>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7">Same format as <code class="nextra-code" dir="ltr">0x6E</code>, but points to the pattern dataâ€”the actual pixel graphics for each tile. Each tile occupies 32 bytes (in 4bpp mode) or 16 bytes (in text mode). Default is <code class="nextra-code" dir="ltr">0x4C00</code>.</p>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7">Separating map and pattern addresses means you can store tiles used by multiple maps in one location, and swap maps without duplicating pattern data.</p>
<h3 id="tilemap-scrolling-0x2f-0x30-0x31" class="_font-semibold _tracking-tight _text-slate-900 dark:_text-slate-100 _mt-8 _text-2xl">Tilemap Scrolling (<code class="nextra-code" dir="ltr">0x2F</code>, <code class="nextra-code" dir="ltr">0x30</code>, <code class="nextra-code" dir="ltr">0x31</code>)<a href="#tilemap-scrolling-0x2f-0x30-0x31" class="nextra-focus subheading-anchor" aria-label="Permalink for this section"></a></h3>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7"><strong>Register <code class="nextra-code" dir="ltr">0x2F</code>/<code class="nextra-code" dir="ltr">0x30</code> â€” Tilemap X Scroll</strong> (MSB and LSB)</p>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7">The X scroll is 10 bits total (<code class="nextra-code" dir="ltr">0x2F</code> bits 1:0 are MSB, <code class="nextra-code" dir="ltr">0x30</code> is LSB). Valid range is 0â€“319 in 40-character mode, 0â€“639 in 80-character mode. This shifts the visible window over the tile gridâ€”hardware managed, zero CPU cost.</p>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7"><strong>Register <code class="nextra-code" dir="ltr">0x31</code> â€” Tilemap Y Scroll</strong></p>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7">Vertical scroll, 0â€“255. Both X and Y scrolling wrap seamlessly.</p>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7">Smooth-scrolling a tilemap background takes one register write per frame. No page flipping, no pixel copying, no wasted CPU time.</p>
<h3 id="clip-window-for-tilemap-0x1b" class="_font-semibold _tracking-tight _text-slate-900 dark:_text-slate-100 _mt-8 _text-2xl">Clip Window for Tilemap (<code class="nextra-code" dir="ltr">0x1B</code>)<a href="#clip-window-for-tilemap-0x1b" class="nextra-focus subheading-anchor" aria-label="Permalink for this section"></a></h3>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7"><strong>Register <code class="nextra-code" dir="ltr">0x1B</code> â€” Clip Window Tilemap</strong></p>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7">Four consecutive writes: X1, X2, Y1, Y2. The X coordinates are internally doubled (because tilemap columns are 8 pixels wide, but the clip is in pixel coordinates). Default clips to 0, 159, 0, 255â€”the full tilemap display area.</p>
<hr class="_my-8 _border-neutral-200/70 contrast-more:_border-neutral-400 dark:_border-primary-100/10 contrast-more:dark:_border-neutral-400"/>
<h2 id="video-palettes-and-colors" class="_font-semibold _tracking-tight _text-slate-900 dark:_text-slate-100 _mt-10 _border-b _pb-1 _text-3xl _border-neutral-200/70 contrast-more:_border-neutral-400 dark:_border-primary-100/10 contrast-more:dark:_border-neutral-400">Video: Palettes and Colors<a href="#video-palettes-and-colors" class="nextra-focus subheading-anchor" aria-label="Permalink for this section"></a></h2>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7">The Nextâ€™s color system is more flexible than it first appears. Every graphics layer has its own palette, palettes can be swapped on the fly, and the 9-bit color depth gives you 512 possible colorsâ€”chosen from to fill 256-entry palettes.</p>
<h3 id="selecting-a-palette-entry-0x40" class="_font-semibold _tracking-tight _text-slate-900 dark:_text-slate-100 _mt-8 _text-2xl">Selecting a Palette Entry (<code class="nextra-code" dir="ltr">0x40</code>)<a href="#selecting-a-palette-entry-0x40" class="nextra-focus subheading-anchor" aria-label="Permalink for this section"></a></h3>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7"><strong>Register <code class="nextra-code" dir="ltr">0x40</code> â€” Palette Index</strong></p>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7">Selects which palette entry to read or write next. The matching between index numbers and graphical elements depends on which palette is selected:</p>
<ul class="[:is(ol,ul)_&amp;]:_my-3 [&amp;:not(:first-child)]:_mt-6 _list-disc ltr:_ml-6 rtl:_mr-6">
<li class="_my-2"><strong>ULA</strong>: Indices 0â€“7 are INK colors, 8â€“15 are Bright INK, 16â€“23 are PAPER, 24â€“31 are Bright PAPER.</li>
<li class="_my-2"><strong>ULANext mode</strong>: INK colors come from indices 0â€“127 (how many depends on the attribute mask in <code class="nextra-code" dir="ltr">0x42</code>), PAPER colors from 128â€“255.</li>
<li class="_my-2"><strong>Layer 2 / Sprites / Tilemap</strong>: Indices map directly to 8bpp or 4bpp pixel values.</li>
</ul>
<h3 id="writing-colors-0x41-0x44" class="_font-semibold _tracking-tight _text-slate-900 dark:_text-slate-100 _mt-8 _text-2xl">Writing Colors (<code class="nextra-code" dir="ltr">0x41</code>, <code class="nextra-code" dir="ltr">0x44</code>)<a href="#writing-colors-0x41-0x44" class="nextra-focus subheading-anchor" aria-label="Permalink for this section"></a></h3>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7"><strong>Register <code class="nextra-code" dir="ltr">0x41</code> â€” Palette Value (8-bit)</strong></p>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7">Write an 8-bit color in RRRGGGBB format. The hardware extends the 2-bit blue to 3 bits by OR-ing blue bits 1 and 0â€”so <code class="nextra-code" dir="ltr">0b11111111</code> becomes 9-bit <code class="nextra-code" dir="ltr">0b111111111</code>. After writing, if auto-increment is enabled in <code class="nextra-code" dir="ltr">0x43</code>, the palette index automatically advances to the next entry.</p>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7">Use <code class="nextra-code" dir="ltr">0x41</code> for fast palette loading when you donâ€™t need precise control of the 9th bit.</p>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7"><strong>Register <code class="nextra-code" dir="ltr">0x44</code> â€” Palette Value (9-bit)</strong></p>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7">Two consecutive writes give you full 9-bit color control:</p>
<ol class="[:is(ol,ul)_&amp;]:_my-3 [&amp;:not(:first-child)]:_mt-6 _list-decimal ltr:_ml-6 rtl:_mr-6">
<li class="_my-2">First write: <code class="nextra-code" dir="ltr">RRRGGGBB</code> (same as <code class="nextra-code" dir="ltr">0x41</code>)</li>
<li class="_my-2">Second write: bit 0 = the LSB of Blue</li>
</ol>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7">For Layer 2 palettes, the second writeâ€™s bit 7 marks this entry as a <strong>priority color</strong>: Layer 2 pixels with this palette entry jump above <em>all</em> other layersâ€”even sprites. This is how you create floating foreground elements using Layer 2 without needing sprites.</p>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7">After two consecutive writes (or a single write to <code class="nextra-code" dir="ltr">0x41</code>), the index auto-increments if enabled. Writes to <code class="nextra-code" dir="ltr">0x40</code>, <code class="nextra-code" dir="ltr">0x41</code>, or <code class="nextra-code" dir="ltr">0x43</code> reset the two-write sequence back to the first byte.</p>
<h3 id="choosing-which-palette-to-edit-0x43" class="_font-semibold _tracking-tight _text-slate-900 dark:_text-slate-100 _mt-8 _text-2xl">Choosing Which Palette to Edit (<code class="nextra-code" dir="ltr">0x43</code>)<a href="#choosing-which-palette-to-edit-0x43" class="nextra-focus subheading-anchor" aria-label="Permalink for this section"></a></h3>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7"><strong>Register <code class="nextra-code" dir="ltr">0x43</code> â€” Palette Control</strong></p>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7">Bits 6:4 select which paletteâ€™s entries youâ€™re editing:</p>









































<table class="_not-prose _block _overflow-x-auto nextra-scrollbar [&amp;:not(:first-child)]:_mt-6 _p-0"><thead><tr class="_m-0 _border-t _border-gray-300 _p-0 dark:_border-gray-600 even:_bg-gray-100 even:dark:_bg-gray-600/20"><th class="_m-0 _border _border-gray-300 _px-4 _py-2 _font-semibold dark:_border-gray-600">Bits 6:4</th><th class="_m-0 _border _border-gray-300 _px-4 _py-2 _font-semibold dark:_border-gray-600">Palette</th></tr></thead><tbody><tr class="_m-0 _border-t _border-gray-300 _p-0 dark:_border-gray-600 even:_bg-gray-100 even:dark:_bg-gray-600/20"><td class="_m-0 _border _border-gray-300 _px-4 _py-2 dark:_border-gray-600"><code class="nextra-code" dir="ltr">000</code></td><td class="_m-0 _border _border-gray-300 _px-4 _py-2 dark:_border-gray-600">ULA first palette</td></tr><tr class="_m-0 _border-t _border-gray-300 _p-0 dark:_border-gray-600 even:_bg-gray-100 even:dark:_bg-gray-600/20"><td class="_m-0 _border _border-gray-300 _px-4 _py-2 dark:_border-gray-600"><code class="nextra-code" dir="ltr">001</code></td><td class="_m-0 _border _border-gray-300 _px-4 _py-2 dark:_border-gray-600">Layer 2 first palette</td></tr><tr class="_m-0 _border-t _border-gray-300 _p-0 dark:_border-gray-600 even:_bg-gray-100 even:dark:_bg-gray-600/20"><td class="_m-0 _border _border-gray-300 _px-4 _py-2 dark:_border-gray-600"><code class="nextra-code" dir="ltr">010</code></td><td class="_m-0 _border _border-gray-300 _px-4 _py-2 dark:_border-gray-600">Sprites first palette</td></tr><tr class="_m-0 _border-t _border-gray-300 _p-0 dark:_border-gray-600 even:_bg-gray-100 even:dark:_bg-gray-600/20"><td class="_m-0 _border _border-gray-300 _px-4 _py-2 dark:_border-gray-600"><code class="nextra-code" dir="ltr">011</code></td><td class="_m-0 _border _border-gray-300 _px-4 _py-2 dark:_border-gray-600">Tilemap first palette</td></tr><tr class="_m-0 _border-t _border-gray-300 _p-0 dark:_border-gray-600 even:_bg-gray-100 even:dark:_bg-gray-600/20"><td class="_m-0 _border _border-gray-300 _px-4 _py-2 dark:_border-gray-600"><code class="nextra-code" dir="ltr">100</code></td><td class="_m-0 _border _border-gray-300 _px-4 _py-2 dark:_border-gray-600">ULA second palette</td></tr><tr class="_m-0 _border-t _border-gray-300 _p-0 dark:_border-gray-600 even:_bg-gray-100 even:dark:_bg-gray-600/20"><td class="_m-0 _border _border-gray-300 _px-4 _py-2 dark:_border-gray-600"><code class="nextra-code" dir="ltr">101</code></td><td class="_m-0 _border _border-gray-300 _px-4 _py-2 dark:_border-gray-600">Layer 2 second palette</td></tr><tr class="_m-0 _border-t _border-gray-300 _p-0 dark:_border-gray-600 even:_bg-gray-100 even:dark:_bg-gray-600/20"><td class="_m-0 _border _border-gray-300 _px-4 _py-2 dark:_border-gray-600"><code class="nextra-code" dir="ltr">110</code></td><td class="_m-0 _border _border-gray-300 _px-4 _py-2 dark:_border-gray-600">Sprites second palette</td></tr><tr class="_m-0 _border-t _border-gray-300 _p-0 dark:_border-gray-600 even:_bg-gray-100 even:dark:_bg-gray-600/20"><td class="_m-0 _border _border-gray-300 _px-4 _py-2 dark:_border-gray-600"><code class="nextra-code" dir="ltr">111</code></td><td class="_m-0 _border _border-gray-300 _px-4 _py-2 dark:_border-gray-600">Tilemap second palette</td></tr></tbody></table>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7">Each layer has <strong>two palettes</strong>. You load both, then use bits 3:1 of this register to instantly switch which palette each layer uses. This is palette animation without touching palette data: preload a sunset in palette A and a moonlit version in palette B, then toggle bit 2 once per frame.</p>
<ul class="[:is(ol,ul)_&amp;]:_my-3 [&amp;:not(:first-child)]:_mt-6 _list-disc ltr:_ml-6 rtl:_mr-6">
<li class="_my-2">Bit 7: Disable auto-increment of palette index after writes. Useful when you want to write the same index multiple times without the index wandering off.</li>
<li class="_my-2">Bit 0: Enable <strong>ULANext mode</strong> â€” an extended ULA color system where the attribute byte drives more than just 8-color INK/PAPER.</li>
</ul>
<h3 id="ulanext-0x42" class="_font-semibold _tracking-tight _text-slate-900 dark:_text-slate-100 _mt-8 _text-2xl">ULANext (<code class="nextra-code" dir="ltr">0x42</code>)<a href="#ulanext-0x42" class="nextra-focus subheading-anchor" aria-label="Permalink for this section"></a></h3>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7"><strong>Register <code class="nextra-code" dir="ltr">0x42</code> â€” ULANext Attribute Byte Format</strong></p>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7">In ULANext mode, the attribute byteâ€™s bits are split between INK and PAPER differently than the original:</p>
<ul class="[:is(ol,ul)_&amp;]:_my-3 [&amp;:not(:first-child)]:_mt-6 _list-disc ltr:_ml-6 rtl:_mr-6">
<li class="_my-2">The mask value tells the hardware how many low bits of the attribute byte represent INK; the remaining bits represent PAPER.</li>
<li class="_my-2">Valid masks: <code class="nextra-code" dir="ltr">0x01</code>, <code class="nextra-code" dir="ltr">0x03</code>, <code class="nextra-code" dir="ltr">0x07</code> (default), <code class="nextra-code" dir="ltr">0x0F</code>, <code class="nextra-code" dir="ltr">0x1F</code>, <code class="nextra-code" dir="ltr">0x3F</code>, <code class="nextra-code" dir="ltr">0x7F</code>, <code class="nextra-code" dir="ltr">0xFF</code>.</li>
<li class="_my-2">Mask <code class="nextra-code" dir="ltr">0xFF</code> = full INK mode: all 256 palette entries are INK colors, and PAPER/border come from the fallback color in <code class="nextra-code" dir="ltr">0x4A</code>.</li>
</ul>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7">With mask <code class="nextra-code" dir="ltr">0x07</code> (default), bits 2:0 are INK (8 colors of ink palette), bits 7:3 are PAPER. With mask <code class="nextra-code" dir="ltr">0x3F</code>, bits 5:0 are INK (64 ink colors), bits 7:6 are PAPER. This lets you trade PAPER color range for INK color range.</p>
<hr class="_my-8 _border-neutral-200/70 contrast-more:_border-neutral-400 dark:_border-primary-100/10 contrast-more:dark:_border-neutral-400"/>
<h2 id="video-clip-windows" class="_font-semibold _tracking-tight _text-slate-900 dark:_text-slate-100 _mt-10 _border-b _pb-1 _text-3xl _border-neutral-200/70 contrast-more:_border-neutral-400 dark:_border-primary-100/10 contrast-more:dark:_border-neutral-400">Video: Clip Windows<a href="#video-clip-windows" class="nextra-focus subheading-anchor" aria-label="Permalink for this section"></a></h2>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7">Every graphics layer can be clipped to a rectangle smaller than the full display. This is how you create split-screen layouts, HUD overlays, or windowed displays within a larger scene.</p>
<h3 id="setting-clip-rectangles-0x18-0x19-0x1a-0x1b" class="_font-semibold _tracking-tight _text-slate-900 dark:_text-slate-100 _mt-8 _text-2xl">Setting Clip Rectangles (<code class="nextra-code" dir="ltr">0x18</code>, <code class="nextra-code" dir="ltr">0x19</code>, <code class="nextra-code" dir="ltr">0x1A</code>, <code class="nextra-code" dir="ltr">0x1B</code>)<a href="#setting-clip-rectangles-0x18-0x19-0x1a-0x1b" class="nextra-focus subheading-anchor" aria-label="Permalink for this section"></a></h3>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7">Each clip register takes four consecutive writes in orderâ€”X1, X2, Y1, Y2â€”all inclusive pixel coordinates:</p>

























<table class="_not-prose _block _overflow-x-auto nextra-scrollbar [&amp;:not(:first-child)]:_mt-6 _p-0"><thead><tr class="_m-0 _border-t _border-gray-300 _p-0 dark:_border-gray-600 even:_bg-gray-100 even:dark:_bg-gray-600/20"><th class="_m-0 _border _border-gray-300 _px-4 _py-2 _font-semibold dark:_border-gray-600">Register</th><th class="_m-0 _border _border-gray-300 _px-4 _py-2 _font-semibold dark:_border-gray-600">Layer</th></tr></thead><tbody><tr class="_m-0 _border-t _border-gray-300 _p-0 dark:_border-gray-600 even:_bg-gray-100 even:dark:_bg-gray-600/20"><td class="_m-0 _border _border-gray-300 _px-4 _py-2 dark:_border-gray-600"><code class="nextra-code" dir="ltr">0x18</code></td><td class="_m-0 _border _border-gray-300 _px-4 _py-2 dark:_border-gray-600">Layer 2 (default: 0, 255, 0, 191)</td></tr><tr class="_m-0 _border-t _border-gray-300 _p-0 dark:_border-gray-600 even:_bg-gray-100 even:dark:_bg-gray-600/20"><td class="_m-0 _border _border-gray-300 _px-4 _py-2 dark:_border-gray-600"><code class="nextra-code" dir="ltr">0x19</code></td><td class="_m-0 _border _border-gray-300 _px-4 _py-2 dark:_border-gray-600">Sprites (default: 0, 255, 0, 191)</td></tr><tr class="_m-0 _border-t _border-gray-300 _p-0 dark:_border-gray-600 even:_bg-gray-100 even:dark:_bg-gray-600/20"><td class="_m-0 _border _border-gray-300 _px-4 _py-2 dark:_border-gray-600"><code class="nextra-code" dir="ltr">0x1A</code></td><td class="_m-0 _border _border-gray-300 _px-4 _py-2 dark:_border-gray-600">ULA and LoRes (default: 0, 255, 0, 191)</td></tr><tr class="_m-0 _border-t _border-gray-300 _p-0 dark:_border-gray-600 even:_bg-gray-100 even:dark:_bg-gray-600/20"><td class="_m-0 _border _border-gray-300 _px-4 _py-2 dark:_border-gray-600"><code class="nextra-code" dir="ltr">0x1B</code></td><td class="_m-0 _border _border-gray-300 _px-4 _py-2 dark:_border-gray-600">Tilemap (default: 0, 159, 0, 255)</td></tr></tbody></table>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7">Reads return the current coordinate but <strong>do not advance</strong> the write index. To re-set coordinates without having to cycle through all four writes, use the reset bits in <code class="nextra-code" dir="ltr">0x1C</code>.</p>
<h3 id="checking-and-resetting-clip-indices-0x1c" class="_font-semibold _tracking-tight _text-slate-900 dark:_text-slate-100 _mt-8 _text-2xl">Checking and Resetting Clip Indices (<code class="nextra-code" dir="ltr">0x1C</code>)<a href="#checking-and-resetting-clip-indices-0x1c" class="nextra-focus subheading-anchor" aria-label="Permalink for this section"></a></h3>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7"><strong>Register <code class="nextra-code" dir="ltr">0x1C</code> â€” Clip Window Control</strong></p>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7">Reading shows the current write index for each layer (0â€“3, where 0 means the next write goes to X1):</p>
<ul class="[:is(ol,ul)_&amp;]:_my-3 [&amp;:not(:first-child)]:_mt-6 _list-disc ltr:_ml-6 rtl:_mr-6">
<li class="_my-2">Bits 7:6 â€” Tilemap clip index</li>
<li class="_my-2">Bits 5:4 â€” ULA/LoRes clip index</li>
<li class="_my-2">Bits 3:2 â€” Sprite clip index</li>
<li class="_my-2">Bits 1:0 â€” Layer 2 clip index</li>
</ul>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7">Writing resets individual clip indices:</p>
<ul class="[:is(ol,ul)_&amp;]:_my-3 [&amp;:not(:first-child)]:_mt-6 _list-disc ltr:_ml-6 rtl:_mr-6">
<li class="_my-2">Bit 3: reset Tilemap clip index to 0 (X1)</li>
<li class="_my-2">Bit 2: reset ULA/LoRes clip index to 0</li>
<li class="_my-2">Bit 1: reset Sprite clip index to 0</li>
<li class="_my-2">Bit 0: reset Layer 2 clip index to 0</li>
</ul>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7">You need this when code runs at unknown points in the write sequenceâ€”reset first, then write all four coordinates cleanly.</p>
<hr class="_my-8 _border-neutral-200/70 contrast-more:_border-neutral-400 dark:_border-primary-100/10 contrast-more:dark:_border-neutral-400"/>
<h2 id="the-copper-co-processor" class="_font-semibold _tracking-tight _text-slate-900 dark:_text-slate-100 _mt-10 _border-b _pb-1 _text-3xl _border-neutral-200/70 contrast-more:_border-neutral-400 dark:_border-primary-100/10 contrast-more:dark:_border-neutral-400">The Copper Co-Processor<a href="#the-copper-co-processor" class="nextra-focus subheading-anchor" aria-label="Permalink for this section"></a></h2>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7">The Copper is a tiny co-processor that watches the raster beam and modifies NextRegs at precise screen positions. It runs independently of the Z80, executing from its own 2KB instruction memory. You load programs into it, start it, and walk awayâ€”the Copper fires palette changes, scroll updates, layer switches, and more, frame after frame, without touching the CPU.</p>
<h3 id="loading-copper-programs" class="_font-semibold _tracking-tight _text-slate-900 dark:_text-slate-100 _mt-8 _text-2xl">Loading Copper Programs<a href="#loading-copper-programs" class="nextra-focus subheading-anchor" aria-label="Permalink for this section"></a></h3>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7"><strong>Register <code class="nextra-code" dir="ltr">0x60</code> â€” Copper Data (8-bit Write)</strong><br/>
<strong>Register <code class="nextra-code" dir="ltr">0x63</code> â€” Copper Data (16-bit Write)</strong></p>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7"><code class="nextra-code" dir="ltr">0x60</code> writes one byte at a time to the Copperâ€™s instruction memory, auto-incrementing the address after each write. Since Copper instructions are 2 bytes, most programs use <code class="nextra-code" dir="ltr">0x63</code> insteadâ€”it writes a full 16-bit instruction at once, auto-incrementing past both bytes.</p>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7">Each Copper instruction is one of two types:</p>
<ul class="[:is(ol,ul)_&amp;]:_my-3 [&amp;:not(:first-child)]:_mt-6 _list-disc ltr:_ml-6 rtl:_mr-6">
<li class="_my-2"><strong>WAIT</strong>: pause execution until the raster reaches a specific X,Y position. Encoded as two bytes with the MSB bit set.</li>
<li class="_my-2"><strong>MOVE</strong>: write a value to a NextReg. Encoded as two bytes: the register number and the value.</li>
</ul>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7"><strong>Register <code class="nextra-code" dir="ltr">0x61</code> â€” Copper Address LSB</strong><br/>
<strong>Register <code class="nextra-code" dir="ltr">0x62</code> bits 2:0 â€” Copper Address MSB</strong></p>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7">Together these form the 11-bit write address into Copper memory (0â€“<code class="nextra-code" dir="ltr">0x7FF</code>). Set the address before loading a new program.</p>
<h3 id="starting-and-stopping-the-copper-0x62" class="_font-semibold _tracking-tight _text-slate-900 dark:_text-slate-100 _mt-8 _text-2xl">Starting and Stopping the Copper (<code class="nextra-code" dir="ltr">0x62</code>)<a href="#starting-and-stopping-the-copper-0x62" class="nextra-focus subheading-anchor" aria-label="Permalink for this section"></a></h3>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7"><strong>Register <code class="nextra-code" dir="ltr">0x62</code> â€” Copper Control</strong></p>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7">Bits 7:6 control execution:</p>
<ul class="[:is(ol,ul)_&amp;]:_my-3 [&amp;:not(:first-child)]:_mt-6 _list-disc ltr:_ml-6 rtl:_mr-6">
<li class="_my-2"><code class="nextra-code" dir="ltr">00</code> â€” Copper fully stopped</li>
<li class="_my-2"><code class="nextra-code" dir="ltr">01</code> â€” Start from address 0, loop continuously</li>
<li class="_my-2"><code class="nextra-code" dir="ltr">10</code> â€” Start from last stopped position, loop continuously</li>
<li class="_my-2"><code class="nextra-code" dir="ltr">11</code> â€” Start from address 0, restart when raster reaches (0,0) (frame-synchronized)</li>
</ul>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7">Writing the same start value twice doesnâ€™t reset the Copperâ€”youâ€™d need to stop it first, then start again.</p>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7">Mode <code class="nextra-code" dir="ltr">11</code> is the most useful for frame effects: the Copper restarts at the top of each frame automatically, so your scanline palette animations run in perfect sync with the display, no synchronization code required.</p>
<blockquote class="[&amp;:not(:first-child)]:_mt-6 _border-gray-300 _italic _text-gray-700 dark:_border-gray-700 dark:_text-gray-400 ltr:_border-l-2 ltr:_pl-6 rtl:_border-r-2 rtl:_pr-6">
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7"><strong>Copper access</strong>: The Copper can read and write NextRegs <code class="nextra-code" dir="ltr">0x00</code>â€“<code class="nextra-code" dir="ltr">0x7F</code>. Registers <code class="nextra-code" dir="ltr">0x80</code> and above are inaccessible to itâ€”so the Copper canâ€™t touch memory mapping, expansion bus control, or interrupt configuration. Everything visual is fair game.</p>
</blockquote>
<h3 id="aligning-copper-timing-0x64" class="_font-semibold _tracking-tight _text-slate-900 dark:_text-slate-100 _mt-8 _text-2xl">Aligning Copper Timing (<code class="nextra-code" dir="ltr">0x64</code>)<a href="#aligning-copper-timing-0x64" class="nextra-focus subheading-anchor" aria-label="Permalink for this section"></a></h3>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7"><strong>Register <code class="nextra-code" dir="ltr">0x64</code> â€” Vertical Line Count Offset</strong></p>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7">The Copper counts raster lines from 0, and normally line 0 coincides with the first ULA pixel row. This register adds an offset, shifting the alignment. If your Copper WAIT instructions target tilemap/sprite pixel positions that donâ€™t match ULA rows, set this offset to align them.</p>
<hr class="_my-8 _border-neutral-200/70 contrast-more:_border-neutral-400 dark:_border-primary-100/10 contrast-more:dark:_border-neutral-400"/>
<h2 id="audio" class="_font-semibold _tracking-tight _text-slate-900 dark:_text-slate-100 _mt-10 _border-b _pb-1 _text-3xl _border-neutral-200/70 contrast-more:_border-neutral-400 dark:_border-primary-100/10 contrast-more:dark:_border-neutral-400">Audio<a href="#audio" class="nextra-focus subheading-anchor" aria-label="Permalink for this section"></a></h2>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7">The Nextâ€™s audio system layers multiple sources simultaneously: beeper, three AY-3-8912 chips (TurboSound), four 8-bit DACs, and IÂ²S digital audio from the Raspberry Pi connector. Most sources mix automaticallyâ€”you just enable what you need.</p>
<h3 id="peripheral-settings-for-audio-0x06-0x08-0x09" class="_font-semibold _tracking-tight _text-slate-900 dark:_text-slate-100 _mt-8 _text-2xl">Peripheral Settings for Audio (<code class="nextra-code" dir="ltr">0x06</code>, <code class="nextra-code" dir="ltr">0x08</code>, <code class="nextra-code" dir="ltr">0x09</code>)<a href="#peripheral-settings-for-audio-0x06-0x08-0x09" class="nextra-focus subheading-anchor" aria-label="Permalink for this section"></a></h3>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7"><strong>Register <code class="nextra-code" dir="ltr">0x06</code> â€” Peripheral 2 Setting</strong> (audio-relevant bits)</p>
<ul class="[:is(ol,ul)_&amp;]:_my-3 [&amp;:not(:first-child)]:_mt-6 _list-disc ltr:_ml-6 rtl:_mr-6">
<li class="_my-2"><strong>Bits 1:0 â€” Audio chip mode</strong>:
<ul class="[:is(ol,ul)_&amp;]:_my-3 [&amp;:not(:first-child)]:_mt-6 _list-disc ltr:_ml-6 rtl:_mr-6">
<li class="_my-2"><code class="nextra-code" dir="ltr">00</code> â€” YM2149 (Yamaha, slightly different envelope behavior from AY)</li>
<li class="_my-2"><code class="nextra-code" dir="ltr">01</code> â€” AY-3-8910 (the authentic Spectrum 128K chip)</li>
<li class="_my-2"><code class="nextra-code" dir="ltr">10</code> â€” ZXN-8950 (experimental extended mode)</li>
<li class="_my-2"><code class="nextra-code" dir="ltr">11</code> â€” Hold all AY chips in reset (silence them)</li>
</ul>
</li>
<li class="_my-2"><strong>Bit 6</strong>: Route the beeper exclusively to the internal speaker, keeping it off the audio output jacks. Useful when you want the click of a real speaker but clean audio on HDMI.</li>
</ul>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7"><strong>Register <code class="nextra-code" dir="ltr">0x08</code> â€” Peripheral 3 Setting</strong> (audio-relevant bits)</p>
<ul class="[:is(ol,ul)_&amp;]:_my-3 [&amp;:not(:first-child)]:_mt-6 _list-disc ltr:_ml-6 rtl:_mr-6">
<li class="_my-2"><strong>Bit 4</strong>: Enable the internal speaker (enabled by default)</li>
<li class="_my-2"><strong>Bit 3</strong>: Enable the four 8-bit DACs (A, B, C, D). DACs A+D are mono (or left+right pair), B is left, C is right</li>
<li class="_my-2"><strong>Bit 1</strong>: Enable TurboSoundâ€”the second and third AY chips. Without this, only AY 0 is active</li>
<li class="_my-2"><strong>Bit 5</strong>: AY stereo mode â€” 0 = ABC (left-center-right), 1 = ACB (left-right-center). ACB puts all action on the outer channels, which sounds wider on headphones</li>
</ul>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7"><strong>Register <code class="nextra-code" dir="ltr">0x09</code> â€” Peripheral 4 Setting</strong> (audio-relevant bits)</p>
<ul class="[:is(ol,ul)_&amp;]:_my-3 [&amp;:not(:first-child)]:_mt-6 _list-disc ltr:_ml-6 rtl:_mr-6">
<li class="_my-2"><strong>Bits 7:5</strong>: Force AY 2, AY 1, or AY 0 (respectively) into mono mode. Mono combines both stereo channels of that AY chip into one, useful when a mono music track sounds wrong when panned hard left or right</li>
<li class="_my-2"><strong>Bit 2</strong>: Silence HDMI audio output (audio still plays on analog jacks)</li>
</ul>
<h3 id="dac-output-0x2c-0x2d-0x2e" class="_font-semibold _tracking-tight _text-slate-900 dark:_text-slate-100 _mt-8 _text-2xl">DAC Output (<code class="nextra-code" dir="ltr">0x2C</code>, <code class="nextra-code" dir="ltr">0x2D</code>, <code class="nextra-code" dir="ltr">0x2E</code>)<a href="#dac-output-0x2c-0x2d-0x2e" class="nextra-focus subheading-anchor" aria-label="Permalink for this section"></a></h3>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7"><strong>Register <code class="nextra-code" dir="ltr">0x2C</code> â€” DAC B Mirror (Left)</strong><br/>
<strong>Register <code class="nextra-code" dir="ltr">0x2D</code> â€” DAC A+D Mirror (Mono)</strong><br/>
<strong>Register <code class="nextra-code" dir="ltr">0x2E</code> â€” DAC C Mirror (Right)</strong></p>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7">These are the direct write paths to the four DACsâ€”accessible via NextReg as mirrors of the port-based DAC interface:</p>
<ul class="[:is(ol,ul)_&amp;]:_my-3 [&amp;:not(:first-child)]:_mt-6 _list-disc ltr:_ml-6 rtl:_mr-6">
<li class="_my-2">Write to <code class="nextra-code" dir="ltr">0x2C</code>: set left DAC B to an 8-bit sample (0x80 = silence, 0x00 = full negative, 0xFF = full positive)</li>
<li class="_my-2">Write to <code class="nextra-code" dir="ltr">0x2E</code>: set right DAC C similarly</li>
<li class="_my-2">Write to <code class="nextra-code" dir="ltr">0x2D</code>: set both DAC A and D simultaneously (the mono/center pair)</li>
</ul>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7">Reading these registers returns the current sample being received from the Raspberry Pi IÂ²S interfaceâ€”useful for monitoring or routing Pi audio back through the Nextâ€™s mixer.</p>
<blockquote class="[&amp;:not(:first-child)]:_mt-6 _border-gray-300 _italic _text-gray-700 dark:_border-gray-700 dark:_text-gray-400 ltr:_border-l-2 ltr:_pl-6 rtl:_border-r-2 rtl:_pr-6">
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7"><strong>DMA-driven audio</strong>: For real-time music playback, use the DMA controller to stream samples from a buffer to the DAC ports automatically. The DMAâ€™s burst mode is purpose-built for this: set source address, destination port (DAC), byte count, repeat, and the music plays without consuming any CPU cycles.</p>
</blockquote>
<h3 id="raspberry-pi-is-audio-0xa2" class="_font-semibold _tracking-tight _text-slate-900 dark:_text-slate-100 _mt-8 _text-2xl">Raspberry Pi IÂ²S Audio (<code class="nextra-code" dir="ltr">0xA2</code>)<a href="#raspberry-pi-is-audio-0xa2" class="nextra-focus subheading-anchor" aria-label="Permalink for this section"></a></h3>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7"><strong>Register <code class="nextra-code" dir="ltr">0xA2</code> â€” PI IÂ²S Audio Control</strong></p>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7">The Raspberry Pi connector carries IÂ²S digital audio in both directions:</p>
<ul class="[:is(ol,ul)_&amp;]:_my-3 [&amp;:not(:first-child)]:_mt-6 _list-disc ltr:_ml-6 rtl:_mr-6">
<li class="_my-2"><strong>Bits 7:6 â€” IÂ²S enable</strong>: Off, mono-right, mono-left, or stereo</li>
<li class="_my-2"><strong>Bit 4</strong>: Direction â€” 0 for sending audio <em>to</em> Pi hats, 1 for receiving audio <em>from</em> a Pi</li>
<li class="_my-2"><strong>Bits 3:2</strong>: Mute left or right channels independently</li>
<li class="_my-2"><strong>Bit 0</strong>: Route incoming IÂ²S audio directly to the EAR input on port <code class="nextra-code" dir="ltr">0xFE</code>â€”enabling the Pi to feed audio data as if from a tape, for software tape-loading over IÂ²S</li>
</ul>
<hr class="_my-8 _border-neutral-200/70 contrast-more:_border-neutral-400 dark:_border-primary-100/10 contrast-more:dark:_border-neutral-400"/>
<h2 id="interrupts" class="_font-semibold _tracking-tight _text-slate-900 dark:_text-slate-100 _mt-10 _border-b _pb-1 _text-3xl _border-neutral-200/70 contrast-more:_border-neutral-400 dark:_border-primary-100/10 contrast-more:dark:_border-neutral-400">Interrupts<a href="#interrupts" class="nextra-focus subheading-anchor" aria-label="Permalink for this section"></a></h2>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7">The original Spectrumâ€™s interrupt story was simple: one source, one vector, every 20ms. The Next adds nine more interrupt sources, a priority system, hardware-generated vectors, and the ability to interrupt a DMA transfer mid-stream.</p>
<h3 id="interrupt-mode-control-0xc0" class="_font-semibold _tracking-tight _text-slate-900 dark:_text-slate-100 _mt-8 _text-2xl">Interrupt Mode Control (<code class="nextra-code" dir="ltr">0xC0</code>)<a href="#interrupt-mode-control-0xc0" class="nextra-focus subheading-anchor" aria-label="Permalink for this section"></a></h3>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7"><strong>Register <code class="nextra-code" dir="ltr">0xC0</code> â€” Interrupt Control</strong></p>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7">The fundamental interrupt configuration:</p>
<ul class="[:is(ol,ul)_&amp;]:_my-3 [&amp;:not(:first-child)]:_mt-6 _list-disc ltr:_ml-6 rtl:_mr-6">
<li class="_my-2"><strong>Bit 0</strong>: 0 = classic pulse-mode interrupts (compatible with all software), 1 = hardware IM2 mode with automatic vector generation</li>
<li class="_my-2"><strong>Bits 7:5</strong>: When in hardware IM2 mode, these are the top 3 bits of the interrupt vector generated. Choose a page-aligned location for your interrupt table</li>
<li class="_my-2"><strong>Bit 3</strong>: Enable stackless NMI response (see NMI registers below)</li>
<li class="_my-2"><strong>Bits 2:1</strong>: Read-onlyâ€”reflects the current Z80 interrupt mode (0, 1, or 2)</li>
</ul>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7"><strong>Hardware IM2 mode</strong> is the key feature. In standard IM2, Z80 asks the interrupting device for a byte and uses it as the low byte of the vector. In hardware IM2 mode, the Next generates the vector automatically based on interrupt priorityâ€”no need for an interrupt-vector-supplying device on the bus.</p>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7">The generated vectorâ€™s low bits encode the source:</p>
<ul class="[:is(ol,ul)_&amp;]:_my-3 [&amp;:not(:first-child)]:_mt-6 _list-disc ltr:_ml-6 rtl:_mr-6">
<li class="_my-2"><code class="nextra-code" dir="ltr">0</code> â€” Line interrupt (highest priority)</li>
<li class="_my-2"><code class="nextra-code" dir="ltr">1</code>/<code class="nextra-code" dir="ltr">2</code> â€” UART 0/1 Rx</li>
<li class="_my-2"><code class="nextra-code" dir="ltr">3</code>â€“<code class="nextra-code" dir="ltr">10</code> â€” CTC channels 0â€“7</li>
<li class="_my-2"><code class="nextra-code" dir="ltr">11</code> â€” ULA (frame interrupt)</li>
<li class="_my-2"><code class="nextra-code" dir="ltr">12</code>/<code class="nextra-code" dir="ltr">13</code> â€” UART 0/1 Tx (lowest priority)</li>
</ul>
<h3 id="line-interrupt-0x22-0x23" class="_font-semibold _tracking-tight _text-slate-900 dark:_text-slate-100 _mt-8 _text-2xl">Line Interrupt (<code class="nextra-code" dir="ltr">0x22</code>, <code class="nextra-code" dir="ltr">0x23</code>)<a href="#line-interrupt-0x22-0x23" class="nextra-focus subheading-anchor" aria-label="Permalink for this section"></a></h3>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7"><strong>Register <code class="nextra-code" dir="ltr">0x22</code> â€” Line Interrupt Control</strong><br/>
<strong>Register <code class="nextra-code" dir="ltr">0x23</code> â€” Line Interrupt Value LSB</strong></p>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7">A line interrupt fires when the raster reaches a specific scanline. Together with the MSB from <code class="nextra-code" dir="ltr">0x22</code> bit 0, <code class="nextra-code" dir="ltr">0x23</code> specifies which line (0â€“311, though lines above ~311 may not exist in practice).</p>
<ul class="[:is(ol,ul)_&amp;]:_my-3 [&amp;:not(:first-child)]:_mt-6 _list-disc ltr:_ml-6 rtl:_mr-6">
<li class="_my-2"><strong>Bit 2</strong> of <code class="nextra-code" dir="ltr">0x22</code>: Disable the ULA frame interrupt (the normal 50/60Hz tick). Clear this if youâ€™re using line interrupts instead and donâ€™t want ULA interrupts competing.</li>
<li class="_my-2"><strong>Bit 1</strong> of <code class="nextra-code" dir="ltr">0x22</code>: Enable the line interrupt.</li>
<li class="_my-2"><strong>Bit 7</strong> of <code class="nextra-code" dir="ltr">0x22</code> (read-only): 1 if the ULA is currently asserting an interrupt.</li>
</ul>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7">These bits in <code class="nextra-code" dir="ltr">0x22</code> are also aliased in <code class="nextra-code" dir="ltr">0xC4</code> along with all other interrupt enablesâ€”so both registers show the same state.</p>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7">Line interrupts let you split the screen into zones with different rendering modesâ€”switch graphics modes, palettes, or layer configurations at exactly the right scanline. This is how split-screen text-at-bottom, game-at-top displays work cleanly.</p>
<h3 id="enabling-interrupt-sources-0xc4-0xc5-0xc6" class="_font-semibold _tracking-tight _text-slate-900 dark:_text-slate-100 _mt-8 _text-2xl">Enabling Interrupt Sources (<code class="nextra-code" dir="ltr">0xC4</code>, <code class="nextra-code" dir="ltr">0xC5</code>, <code class="nextra-code" dir="ltr">0xC6</code>)<a href="#enabling-interrupt-sources-0xc4-0xc5-0xc6" class="nextra-focus subheading-anchor" aria-label="Permalink for this section"></a></h3>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7"><strong>Register <code class="nextra-code" dir="ltr">0xC4</code> â€” Interrupt Enables 0</strong><br/>
<strong>Register <code class="nextra-code" dir="ltr">0xC5</code> â€” Interrupt Enables 1</strong><br/>
<strong>Register <code class="nextra-code" dir="ltr">0xC6</code> â€” Interrupt Enables 2</strong></p>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7">Enable bits for all interrupt sources. A disabled interrupt enters <strong>polled mode</strong>â€”you can check <code class="nextra-code" dir="ltr">0xC8</code>â€“<code class="nextra-code" dir="ltr">0xCA</code> to see if it fired without taking an actual interrupt. This is how you check whether a CTC channel has counted out without needing an ISR.</p>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7"><code class="nextra-code" dir="ltr">0xC4</code>:</p>
<ul class="[:is(ol,ul)_&amp;]:_my-3 [&amp;:not(:first-child)]:_mt-6 _list-disc ltr:_ml-6 rtl:_mr-6">
<li class="_my-2">Bit 7: Expansion bus <code class="nextra-code" dir="ltr">/INT</code></li>
<li class="_my-2">Bit 1: Line interrupt</li>
<li class="_my-2">Bit 0: ULA frame interrupt (default enabled)</li>
</ul>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7"><code class="nextra-code" dir="ltr">0xC5</code>, bits 7:0: CTC channels 7â€“0 respectively</p>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7"><code class="nextra-code" dir="ltr">0xC6</code>:</p>
<ul class="[:is(ol,ul)_&amp;]:_my-3 [&amp;:not(:first-child)]:_mt-6 _list-disc ltr:_ml-6 rtl:_mr-6">
<li class="_my-2">Bits 6, 2: UART 1 and 0 Tx empty</li>
<li class="_my-2">Bits 5:4: UART 1 Rx near-full / available</li>
<li class="_my-2">Bits 1:0: UART 0 Rx near-full / available</li>
</ul>
<h3 id="forcing-interrupts-0x20" class="_font-semibold _tracking-tight _text-slate-900 dark:_text-slate-100 _mt-8 _text-2xl">Forcing Interrupts (<code class="nextra-code" dir="ltr">0x20</code>)<a href="#forcing-interrupts-0x20" class="nextra-focus subheading-anchor" aria-label="Permalink for this section"></a></h3>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7"><strong>Register <code class="nextra-code" dir="ltr">0x20</code> â€” Generate Maskable Interrupt</strong></p>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7">Writing set bits here immediately generates maskable interrupts for those sources, regardless of whether theyâ€™ve actually fired. Reading shows which interrupts are currently pending. This is invaluable for testing interrupt handlers: write <code class="nextra-code" dir="ltr">0x80</code> (line interruptâ€”itâ€™s bit 7) or <code class="nextra-code" dir="ltr">0x40</code> (ULA frame interruptâ€”bit 6) and your ISR fires immediately without waiting for an actual raster event.</p>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7">The bit layout matches <code class="nextra-code" dir="ltr">0xC8</code>: bit 7 = line, bit 6 = ULA, bits 3:0 = CTC channels 3â€“0.</p>
<h3 id="checking-interrupt-status-0xc8-0xc9-0xca" class="_font-semibold _tracking-tight _text-slate-900 dark:_text-slate-100 _mt-8 _text-2xl">Checking Interrupt Status (<code class="nextra-code" dir="ltr">0xC8</code>, <code class="nextra-code" dir="ltr">0xC9</code>, <code class="nextra-code" dir="ltr">0xCA</code>)<a href="#checking-interrupt-status-0xc8-0xc9-0xca" class="nextra-focus subheading-anchor" aria-label="Permalink for this section"></a></h3>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7"><strong>Registers <code class="nextra-code" dir="ltr">0xC8</code>â€“<code class="nextra-code" dir="ltr">0xCA</code> â€” Interrupt Status 0â€“2</strong></p>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7">Mirror the layout of <code class="nextra-code" dir="ltr">0xC4</code>â€“<code class="nextra-code" dir="ltr">0xC6</code>. Reading shows which interrupts have fired (set bits = fired or currently pending). Writing set bits <strong>clears</strong> those status flags.</p>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7">In polled modeâ€”where an interrupt is disabledâ€”you read these to detect events without taking an interrupt. Check frequently in a game loop if you need CTC timing without ISR overhead.</p>
<h3 id="nmi-handling-0xc2-0xc3-0xc0-bit-3" class="_font-semibold _tracking-tight _text-slate-900 dark:_text-slate-100 _mt-8 _text-2xl">NMI Handling (<code class="nextra-code" dir="ltr">0xC2</code>, <code class="nextra-code" dir="ltr">0xC3</code>, <code class="nextra-code" dir="ltr">0xC0</code> bit 3)<a href="#nmi-handling-0xc2-0xc3-0xc0-bit-3" class="nextra-focus subheading-anchor" aria-label="Permalink for this section"></a></h3>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7"><strong>Registers <code class="nextra-code" dir="ltr">0xC2</code>/<code class="nextra-code" dir="ltr">0xC3</code> â€” NMI Return Address LSB/MSB</strong></p>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7">During an NMI acknowledge cycle, the return address is <em>always</em> written hereâ€”regardless of the stackless setting. Read these in your NMI handler to know where the Z80 was interrupted.</p>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7"><strong>Register <code class="nextra-code" dir="ltr">0xC0</code> bit 3 â€” Stackless NMI</strong></p>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7">With stackless NMI enabled, the NMI return address goes into <code class="nextra-code" dir="ltr">0xC2</code>/<code class="nextra-code" dir="ltr">0xC3</code> instead of the actual stack. The stack pointer decrements and increments normally, but the memory write/read is intercepted. The first <code class="nextra-code" dir="ltr">RETN</code> instruction after the NMI reads the return address from these registers instead of memory.</p>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7">Why? Because NMI handlers for debugging tools (like Multiface) need to inspect the stack without disturbing it. Normally, acknowledging an NMI pushes the PC to the stackâ€”corrupting the very memory youâ€™re trying to examine. Stackless mode neatly sidesteps this.</p>
<h3 id="dma-interrupt-enables-0xcc-0xcd-0xce" class="_font-semibold _tracking-tight _text-slate-900 dark:_text-slate-100 _mt-8 _text-2xl">DMA Interrupt Enables (<code class="nextra-code" dir="ltr">0xCC</code>, <code class="nextra-code" dir="ltr">0xCD</code>, <code class="nextra-code" dir="ltr">0xCE</code>)<a href="#dma-interrupt-enables-0xcc-0xcd-0xce" class="nextra-focus subheading-anchor" aria-label="Permalink for this section"></a></h3>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7"><strong>Registers <code class="nextra-code" dir="ltr">0xCC</code>â€“<code class="nextra-code" dir="ltr">0xCE</code> â€” DMA Interrupt Enables</strong></p>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7">The DMA controller can be interrupted while running a transfer. These registers specify which interrupt sources can pause a DMA operation. The layout mirrors <code class="nextra-code" dir="ltr">0xC4</code>â€“<code class="nextra-code" dir="ltr">0xC6</code>.</p>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7">This is how audio streaming with DMA stays synchronized: enable the line interrupt in <code class="nextra-code" dir="ltr">0xCC</code> so the DMA pauses at a scanline boundaryâ€”preventing audio sample tearing if you update the buffer.</p>
<h3 id="reserved-interrupt-area-registers-0xc7-0xcb-0xcf" class="_font-semibold _tracking-tight _text-slate-900 dark:_text-slate-100 _mt-8 _text-2xl">Reserved Interrupt-Area Registers (<code class="nextra-code" dir="ltr">0xC7</code>, <code class="nextra-code" dir="ltr">0xCB</code>, <code class="nextra-code" dir="ltr">0xCF</code>)<a href="#reserved-interrupt-area-registers-0xc7-0xcb-0xcf" class="nextra-focus subheading-anchor" aria-label="Permalink for this section"></a></h3>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7">Three reserved registers live within the interrupt register block. They serve no user-visible function, but they have specific values the hardware expects:</p>
<ul class="[:is(ol,ul)_&amp;]:_my-3 [&amp;:not(:first-child)]:_mt-6 _list-disc ltr:_ml-6 rtl:_mr-6">
<li class="_my-2"><strong><code class="nextra-code" dir="ltr">0xC7</code></strong> â€” Reserved; write <code class="nextra-code" dir="ltr">0x00</code></li>
<li class="_my-2"><strong><code class="nextra-code" dir="ltr">0xCB</code></strong> â€” Reserved; write <code class="nextra-code" dir="ltr">0xFF</code></li>
<li class="_my-2"><strong><code class="nextra-code" dir="ltr">0xCF</code></strong> â€” Reserved; write <code class="nextra-code" dir="ltr">0x00</code></li>
</ul>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7">If youâ€™re bulk-initializing the interrupt system, write these sentinel values to avoid unexpected behavior from unverified hardware state. Future firmware revisions might assign these registers real functionsâ€”for now, treat them as write-once housekeeping.</p>
<hr class="_my-8 _border-neutral-200/70 contrast-more:_border-neutral-400 dark:_border-primary-100/10 contrast-more:dark:_border-neutral-400"/>
<h2 id="peripheral-settings" class="_font-semibold _tracking-tight _text-slate-900 dark:_text-slate-100 _mt-10 _border-b _pb-1 _text-3xl _border-neutral-200/70 contrast-more:_border-neutral-400 dark:_border-primary-100/10 contrast-more:dark:_border-neutral-400">Peripheral Settings<a href="#peripheral-settings" class="nextra-focus subheading-anchor" aria-label="Permalink for this section"></a></h2>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7">Four registers pack a lot of configuration into single bytes. They cover joystick modes, speaker control, AY audio, PS/2 input, hotkeys, and more.</p>
<h3 id="joystick-configuration-0x05" class="_font-semibold _tracking-tight _text-slate-900 dark:_text-slate-100 _mt-8 _text-2xl">Joystick Configuration (<code class="nextra-code" dir="ltr">0x05</code>)<a href="#joystick-configuration-0x05" class="nextra-focus subheading-anchor" aria-label="Permalink for this section"></a></h3>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7"><strong>Register <code class="nextra-code" dir="ltr">0x05</code> â€” Peripheral 1 Setting</strong></p>
<ul class="[:is(ol,ul)_&amp;]:_my-3 [&amp;:not(:first-child)]:_mt-6 _list-disc ltr:_ml-6 rtl:_mr-6">
<li class="_my-2"><strong>Bits 7:6 and 3</strong> (together): Joystick 1 mode (3-bit value)</li>
<li class="_my-2"><strong>Bits 5:4 and 1</strong> (together): Joystick 2 mode (3-bit value)</li>
<li class="_my-2"><strong>Bit 2</strong>: 50/60Hz display mode (0 = 50Hz, 1 = 60Hz)</li>
<li class="_my-2"><strong>Bit 0</strong>: Enable scandoubler (1 = VGA 31kHz mode, 0 = direct 15kHz for CRT monitors)</li>
</ul>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7">Joystick modes:</p>









































<table class="_not-prose _block _overflow-x-auto nextra-scrollbar [&amp;:not(:first-child)]:_mt-6 _p-0"><thead><tr class="_m-0 _border-t _border-gray-300 _p-0 dark:_border-gray-600 even:_bg-gray-100 even:dark:_bg-gray-600/20"><th class="_m-0 _border _border-gray-300 _px-4 _py-2 _font-semibold dark:_border-gray-600">Code</th><th class="_m-0 _border _border-gray-300 _px-4 _py-2 _font-semibold dark:_border-gray-600">Mode</th></tr></thead><tbody><tr class="_m-0 _border-t _border-gray-300 _p-0 dark:_border-gray-600 even:_bg-gray-100 even:dark:_bg-gray-600/20"><td class="_m-0 _border _border-gray-300 _px-4 _py-2 dark:_border-gray-600"><code class="nextra-code" dir="ltr">000</code></td><td class="_m-0 _border _border-gray-300 _px-4 _py-2 dark:_border-gray-600">Sinclair 2 (keys 1â€“5)</td></tr><tr class="_m-0 _border-t _border-gray-300 _p-0 dark:_border-gray-600 even:_bg-gray-100 even:dark:_bg-gray-600/20"><td class="_m-0 _border _border-gray-300 _px-4 _py-2 dark:_border-gray-600"><code class="nextra-code" dir="ltr">001</code></td><td class="_m-0 _border _border-gray-300 _px-4 _py-2 dark:_border-gray-600">Kempston 1 (port <code class="nextra-code" dir="ltr">0x1F</code>)</td></tr><tr class="_m-0 _border-t _border-gray-300 _p-0 dark:_border-gray-600 even:_bg-gray-100 even:dark:_bg-gray-600/20"><td class="_m-0 _border _border-gray-300 _px-4 _py-2 dark:_border-gray-600"><code class="nextra-code" dir="ltr">010</code></td><td class="_m-0 _border _border-gray-300 _px-4 _py-2 dark:_border-gray-600">Cursor (keys 5,6,7,8,0)</td></tr><tr class="_m-0 _border-t _border-gray-300 _p-0 dark:_border-gray-600 even:_bg-gray-100 even:dark:_bg-gray-600/20"><td class="_m-0 _border _border-gray-300 _px-4 _py-2 dark:_border-gray-600"><code class="nextra-code" dir="ltr">011</code></td><td class="_m-0 _border _border-gray-300 _px-4 _py-2 dark:_border-gray-600">Sinclair 1 (keys 6â€“0)</td></tr><tr class="_m-0 _border-t _border-gray-300 _p-0 dark:_border-gray-600 even:_bg-gray-100 even:dark:_bg-gray-600/20"><td class="_m-0 _border _border-gray-300 _px-4 _py-2 dark:_border-gray-600"><code class="nextra-code" dir="ltr">100</code></td><td class="_m-0 _border _border-gray-300 _px-4 _py-2 dark:_border-gray-600">Kempston 2 (port <code class="nextra-code" dir="ltr">0x37</code>)</td></tr><tr class="_m-0 _border-t _border-gray-300 _p-0 dark:_border-gray-600 even:_bg-gray-100 even:dark:_bg-gray-600/20"><td class="_m-0 _border _border-gray-300 _px-4 _py-2 dark:_border-gray-600"><code class="nextra-code" dir="ltr">101</code></td><td class="_m-0 _border _border-gray-300 _px-4 _py-2 dark:_border-gray-600">MD joystick 1 (3 or 6-button, port <code class="nextra-code" dir="ltr">0x1F</code>)</td></tr><tr class="_m-0 _border-t _border-gray-300 _p-0 dark:_border-gray-600 even:_bg-gray-100 even:dark:_bg-gray-600/20"><td class="_m-0 _border _border-gray-300 _px-4 _py-2 dark:_border-gray-600"><code class="nextra-code" dir="ltr">110</code></td><td class="_m-0 _border _border-gray-300 _px-4 _py-2 dark:_border-gray-600">MD joystick 2 (port <code class="nextra-code" dir="ltr">0x37</code>)</td></tr><tr class="_m-0 _border-t _border-gray-300 _p-0 dark:_border-gray-600 even:_bg-gray-100 even:dark:_bg-gray-600/20"><td class="_m-0 _border _border-gray-300 _px-4 _py-2 dark:_border-gray-600"><code class="nextra-code" dir="ltr">111</code></td><td class="_m-0 _border _border-gray-300 _px-4 _py-2 dark:_border-gray-600">User-defined keys joystick</td></tr></tbody></table>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7">The user-defined keys joystick is programmed through the PS/2 keymap interface (<code class="nextra-code" dir="ltr">0x28</code>â€“<code class="nextra-code" dir="ltr">0x2B</code>): write 128 to <code class="nextra-code" dir="ltr">0x28</code> to select key joystick mode, then specify which keyboard matrix positions map to each joystick button.</p>
<h3 id="joystick-io-mode-0x0b" class="_font-semibold _tracking-tight _text-slate-900 dark:_text-slate-100 _mt-8 _text-2xl">Joystick I/O Mode (<code class="nextra-code" dir="ltr">0x0B</code>)<a href="#joystick-io-mode-0x0b" class="nextra-focus subheading-anchor" aria-label="Permalink for this section"></a></h3>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7"><strong>Register <code class="nextra-code" dir="ltr">0x0B</code> â€” Joystick I/O Mode</strong></p>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7">Repurposes the joystick ports as general I/O:</p>
<ul class="[:is(ol,ul)_&amp;]:_my-3 [&amp;:not(:first-child)]:_mt-6 _list-disc ltr:_ml-6 rtl:_mr-6">
<li class="_my-2"><strong>Bit 7</strong>: Enable I/O mode (disables joystick reading; keyboard joystick types produce no readings)</li>
<li class="_my-2"><strong>Bits 5:4</strong>: Mode â€” bit-bang GPIO, clock output, or UART on left/right joystick port</li>
<li class="_my-2"><strong>Bit 0</strong>: Parameter value (GPIO output level in bit-bang, clock run in clock mode, UART redirect in uart mode)</li>
</ul>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7">UART mode is particularly useful: it redirects either the ESP Wi-Fi UART or the Raspberry Pi UART to the joystick port pins, allowing communication with external hardware using standard DB9 joystick cables.</p>
<h3 id="other-peripheral-control-0x06-0x08-0x09-0x0a" class="_font-semibold _tracking-tight _text-slate-900 dark:_text-slate-100 _mt-8 _text-2xl">Other Peripheral Control (<code class="nextra-code" dir="ltr">0x06</code>, <code class="nextra-code" dir="ltr">0x08</code>, <code class="nextra-code" dir="ltr">0x09</code>, <code class="nextra-code" dir="ltr">0x0A</code>)<a href="#other-peripheral-control-0x06-0x08-0x09-0x0a" class="nextra-focus subheading-anchor" aria-label="Permalink for this section"></a></h3>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7"><strong>Register <code class="nextra-code" dir="ltr">0x06</code> â€” Peripheral 2 Setting</strong> (non-audio bits)</p>
<ul class="[:is(ol,ul)_&amp;]:_my-3 [&amp;:not(:first-child)]:_mt-6 _list-disc ltr:_ml-6 rtl:_mr-6">
<li class="_my-2"><strong>Bit 7</strong>: Enable F8 CPU-speed and F5/F6 expansion-bus hotkeys</li>
<li class="_my-2"><strong>Bit 5</strong>: Enable F3 50/60Hz toggle hotkey</li>
<li class="_my-2"><strong>Bit 4</strong>: Enable DivMMC NMI from DRIVE button</li>
<li class="_my-2"><strong>Bit 3</strong>: Enable Multiface NMI from M1 button</li>
<li class="_my-2"><strong>Bit 2</strong>: PS/2 mode â€” 0 = keyboard primary, 1 = mouse primary (config mode only)</li>
</ul>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7"><strong>Register <code class="nextra-code" dir="ltr">0x08</code> â€” Peripheral 3 Setting</strong> (non-audio bits)</p>
<ul class="[:is(ol,ul)_&amp;]:_my-3 [&amp;:not(:first-child)]:_mt-6 _list-disc ltr:_ml-6 rtl:_mr-6">
<li class="_my-2"><strong>Bit 7</strong>: Unlock port <code class="nextra-code" dir="ltr">0x7FFD</code> (when the 128K ROM locks it, this undoes that)</li>
<li class="_my-2"><strong>Bit 6</strong>: Disable RAM and port contention. Turn this on if youâ€™re running code at high speed and donâ€™t need ULA-accurate timing. Games built for 48K timing may glitch; demos often want it on for maximum speed</li>
<li class="_my-2"><strong>Bit 2</strong>: Enable port <code class="nextra-code" dir="ltr">0xFF</code> Timex video mode reads (hides the floating bus)</li>
<li class="_my-2"><strong>Bit 0</strong>: Issue 2 keyboard compatibility (affects how the keyboard matrix is decoded)</li>
</ul>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7"><strong>Register <code class="nextra-code" dir="ltr">0x09</code> â€” Peripheral 4 Setting</strong> (non-audio bits)</p>
<ul class="[:is(ol,ul)_&amp;]:_my-3 [&amp;:not(:first-child)]:_mt-6 _list-disc ltr:_ml-6 rtl:_mr-6">
<li class="_my-2"><strong>Bit 4</strong>: Sprite ID lockstep â€” keep <code class="nextra-code" dir="ltr">0x34</code> and port <code class="nextra-code" dir="ltr">0x303B</code> always in sync</li>
<li class="_my-2"><strong>Bit 3</strong>: Reset the DivMMC mapram bit (port <code class="nextra-code" dir="ltr">0xE3</code> bit 6). Write-only, reads 0</li>
<li class="_my-2"><strong>Bits 1:0</strong>: Scanline weight for CRT scanline simulation:
<ul class="[:is(ol,ul)_&amp;]:_my-3 [&amp;:not(:first-child)]:_mt-6 _list-disc ltr:_ml-6 rtl:_mr-6">
<li class="_my-2"><code class="nextra-code" dir="ltr">00</code> â€” No scanlines</li>
<li class="_my-2"><code class="nextra-code" dir="ltr">01</code> â€” 50% scanlines</li>
<li class="_my-2"><code class="nextra-code" dir="ltr">10</code> â€” 25% scanlines</li>
<li class="_my-2"><code class="nextra-code" dir="ltr">11</code> â€” 12.5% scanlines</li>
</ul>
</li>
</ul>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7"><strong>Register <code class="nextra-code" dir="ltr">0x0A</code> â€” Peripheral 5 Setting</strong></p>
<ul class="[:is(ol,ul)_&amp;]:_my-3 [&amp;:not(:first-child)]:_mt-6 _list-disc ltr:_ml-6 rtl:_mr-6">
<li class="_my-2"><strong>Bits 7:6</strong>: Multiface type (config mode only) â€” +3, 128 v87.2, 128 v87.12, or Multiface 1. Determines which ports the Multiface responds to.</li>
<li class="_my-2"><strong>Bit 4</strong>: Enable DivMMC automap</li>
<li class="_my-2"><strong>Bit 3</strong>: Reverse left and right mouse buttons</li>
<li class="_my-2"><strong>Bits 1:0</strong>: Mouse DPI â€” low (00), default (01), medium (10), high (11)</li>
</ul>
<hr class="_my-8 _border-neutral-200/70 contrast-more:_border-neutral-400 dark:_border-primary-100/10 contrast-more:dark:_border-neutral-400"/>
<h2 id="input-keyboard-and-key-reading" class="_font-semibold _tracking-tight _text-slate-900 dark:_text-slate-100 _mt-10 _border-b _pb-1 _text-3xl _border-neutral-200/70 contrast-more:_border-neutral-400 dark:_border-primary-100/10 contrast-more:dark:_border-neutral-400">Input: Keyboard and Key Reading<a href="#input-keyboard-and-key-reading" class="nextra-focus subheading-anchor" aria-label="Permalink for this section"></a></h2>
<h3 id="ps2-keymap-0x28-0x29-0x2a-0x2b" class="_font-semibold _tracking-tight _text-slate-900 dark:_text-slate-100 _mt-8 _text-2xl">PS/2 Keymap (<code class="nextra-code" dir="ltr">0x28</code>, <code class="nextra-code" dir="ltr">0x29</code>, <code class="nextra-code" dir="ltr">0x2A</code>, <code class="nextra-code" dir="ltr">0x2B</code>)<a href="#ps2-keymap-0x28-0x29-0x2a-0x2b" class="nextra-focus subheading-anchor" aria-label="Permalink for this section"></a></h3>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7">The Next remaps PS/2 keyboard keys to the Spectrumâ€™s 8Ã—5 keyboard matrix. The default mapping makes a PS/2 keyboard feel natural on a Spectrum, but you can reprogram individual keys.</p>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7"><strong>Register <code class="nextra-code" dir="ltr">0x28</code> â€” PS/2 Keymap Address MSB</strong> (on write)</p>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7">Writing here starts a keymap programming session. Bit 7 = 0 selects the PS/2 keymap; bit 7 = 1 selects the joystick keymap. Bit 0 is the MSB of the keymap address.</p>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7"><strong>Register <code class="nextra-code" dir="ltr">0x29</code> â€” PS/2 Keymap Address LSB</strong></p>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7">The LSB of the keymap read/write address.</p>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7"><strong>Register <code class="nextra-code" dir="ltr">0x2A</code> â€” PS/2 Keymap Data MSB</strong> (write-only)</p>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7">Bit 0 of this register carries the MSB of the keymap data byte. Currently this bit is not used by the hardwareâ€”the keymap entries are all 8-bit values fitting in <code class="nextra-code" dir="ltr">0x2B</code> alone. Write <code class="nextra-code" dir="ltr">0</code> here before writing <code class="nextra-code" dir="ltr">0x2B</code>. It exists in the register map as a placeholder for potential future expansion of the keymap data width.</p>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7"><strong>Register <code class="nextra-code" dir="ltr">0x2B</code> â€” PS/2 Keymap Data LSB</strong></p>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7">Writing here writes the new key mapping entry and auto-increments the address. Each entry maps a PS/2 scan code to a Spectrum matrix position (bits 5:3 = row, bits 2:0 = column; <code class="nextra-code" dir="ltr">111</code> = no key pressed). Read back through <code class="nextra-code" dir="ltr">0x28</code> (reading returns the stored palette value, not keymap dataâ€”keymap is write-only).</p>
<h3 id="extended-key-states-0xb0-0xb1-0xb2" class="_font-semibold _tracking-tight _text-slate-900 dark:_text-slate-100 _mt-8 _text-2xl">Extended Key States (<code class="nextra-code" dir="ltr">0xB0</code>, <code class="nextra-code" dir="ltr">0xB1</code>, <code class="nextra-code" dir="ltr">0xB2</code>)<a href="#extended-key-states-0xb0-0xb1-0xb2" class="nextra-focus subheading-anchor" aria-label="Permalink for this section"></a></h3>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7">The ZX Spectrum Next keyboard has keys the original never had. These registers expose them directly.</p>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7"><strong>Register <code class="nextra-code" dir="ltr">0xB0</code> â€” Extended Keys 0</strong> (read-only)</p>









































<table class="_not-prose _block _overflow-x-auto nextra-scrollbar [&amp;:not(:first-child)]:_mt-6 _p-0"><thead><tr class="_m-0 _border-t _border-gray-300 _p-0 dark:_border-gray-600 even:_bg-gray-100 even:dark:_bg-gray-600/20"><th class="_m-0 _border _border-gray-300 _px-4 _py-2 _font-semibold dark:_border-gray-600">Bit</th><th class="_m-0 _border _border-gray-300 _px-4 _py-2 _font-semibold dark:_border-gray-600">Key</th></tr></thead><tbody><tr class="_m-0 _border-t _border-gray-300 _p-0 dark:_border-gray-600 even:_bg-gray-100 even:dark:_bg-gray-600/20"><td class="_m-0 _border _border-gray-300 _px-4 _py-2 dark:_border-gray-600">7</td><td class="_m-0 _border _border-gray-300 _px-4 _py-2 dark:_border-gray-600"><code class="nextra-code" dir="ltr">;</code></td></tr><tr class="_m-0 _border-t _border-gray-300 _p-0 dark:_border-gray-600 even:_bg-gray-100 even:dark:_bg-gray-600/20"><td class="_m-0 _border _border-gray-300 _px-4 _py-2 dark:_border-gray-600">6</td><td class="_m-0 _border _border-gray-300 _px-4 _py-2 dark:_border-gray-600"><code class="nextra-code" dir="ltr">&quot;</code></td></tr><tr class="_m-0 _border-t _border-gray-300 _p-0 dark:_border-gray-600 even:_bg-gray-100 even:dark:_bg-gray-600/20"><td class="_m-0 _border _border-gray-300 _px-4 _py-2 dark:_border-gray-600">5</td><td class="_m-0 _border _border-gray-300 _px-4 _py-2 dark:_border-gray-600"><code class="nextra-code" dir="ltr">,</code></td></tr><tr class="_m-0 _border-t _border-gray-300 _p-0 dark:_border-gray-600 even:_bg-gray-100 even:dark:_bg-gray-600/20"><td class="_m-0 _border _border-gray-300 _px-4 _py-2 dark:_border-gray-600">4</td><td class="_m-0 _border _border-gray-300 _px-4 _py-2 dark:_border-gray-600"><code class="nextra-code" dir="ltr">.</code></td></tr><tr class="_m-0 _border-t _border-gray-300 _p-0 dark:_border-gray-600 even:_bg-gray-100 even:dark:_bg-gray-600/20"><td class="_m-0 _border _border-gray-300 _px-4 _py-2 dark:_border-gray-600">3</td><td class="_m-0 _border _border-gray-300 _px-4 _py-2 dark:_border-gray-600">UP</td></tr><tr class="_m-0 _border-t _border-gray-300 _p-0 dark:_border-gray-600 even:_bg-gray-100 even:dark:_bg-gray-600/20"><td class="_m-0 _border _border-gray-300 _px-4 _py-2 dark:_border-gray-600">2</td><td class="_m-0 _border _border-gray-300 _px-4 _py-2 dark:_border-gray-600">DOWN</td></tr><tr class="_m-0 _border-t _border-gray-300 _p-0 dark:_border-gray-600 even:_bg-gray-100 even:dark:_bg-gray-600/20"><td class="_m-0 _border _border-gray-300 _px-4 _py-2 dark:_border-gray-600">1</td><td class="_m-0 _border _border-gray-300 _px-4 _py-2 dark:_border-gray-600">LEFT</td></tr><tr class="_m-0 _border-t _border-gray-300 _p-0 dark:_border-gray-600 even:_bg-gray-100 even:dark:_bg-gray-600/20"><td class="_m-0 _border _border-gray-300 _px-4 _py-2 dark:_border-gray-600">0</td><td class="_m-0 _border _border-gray-300 _px-4 _py-2 dark:_border-gray-600">RIGHT</td></tr></tbody></table>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7"><strong>Register <code class="nextra-code" dir="ltr">0xB1</code> â€” Extended Keys 1</strong> (read-only)</p>









































<table class="_not-prose _block _overflow-x-auto nextra-scrollbar [&amp;:not(:first-child)]:_mt-6 _p-0"><thead><tr class="_m-0 _border-t _border-gray-300 _p-0 dark:_border-gray-600 even:_bg-gray-100 even:dark:_bg-gray-600/20"><th class="_m-0 _border _border-gray-300 _px-4 _py-2 _font-semibold dark:_border-gray-600">Bit</th><th class="_m-0 _border _border-gray-300 _px-4 _py-2 _font-semibold dark:_border-gray-600">Key</th></tr></thead><tbody><tr class="_m-0 _border-t _border-gray-300 _p-0 dark:_border-gray-600 even:_bg-gray-100 even:dark:_bg-gray-600/20"><td class="_m-0 _border _border-gray-300 _px-4 _py-2 dark:_border-gray-600">7</td><td class="_m-0 _border _border-gray-300 _px-4 _py-2 dark:_border-gray-600">DELETE</td></tr><tr class="_m-0 _border-t _border-gray-300 _p-0 dark:_border-gray-600 even:_bg-gray-100 even:dark:_bg-gray-600/20"><td class="_m-0 _border _border-gray-300 _px-4 _py-2 dark:_border-gray-600">6</td><td class="_m-0 _border _border-gray-300 _px-4 _py-2 dark:_border-gray-600">EDIT</td></tr><tr class="_m-0 _border-t _border-gray-300 _p-0 dark:_border-gray-600 even:_bg-gray-100 even:dark:_bg-gray-600/20"><td class="_m-0 _border _border-gray-300 _px-4 _py-2 dark:_border-gray-600">5</td><td class="_m-0 _border _border-gray-300 _px-4 _py-2 dark:_border-gray-600">BREAK</td></tr><tr class="_m-0 _border-t _border-gray-300 _p-0 dark:_border-gray-600 even:_bg-gray-100 even:dark:_bg-gray-600/20"><td class="_m-0 _border _border-gray-300 _px-4 _py-2 dark:_border-gray-600">4</td><td class="_m-0 _border _border-gray-300 _px-4 _py-2 dark:_border-gray-600">INV VIDEO</td></tr><tr class="_m-0 _border-t _border-gray-300 _p-0 dark:_border-gray-600 even:_bg-gray-100 even:dark:_bg-gray-600/20"><td class="_m-0 _border _border-gray-300 _px-4 _py-2 dark:_border-gray-600">3</td><td class="_m-0 _border _border-gray-300 _px-4 _py-2 dark:_border-gray-600">TRUE VIDEO</td></tr><tr class="_m-0 _border-t _border-gray-300 _p-0 dark:_border-gray-600 even:_bg-gray-100 even:dark:_bg-gray-600/20"><td class="_m-0 _border _border-gray-300 _px-4 _py-2 dark:_border-gray-600">2</td><td class="_m-0 _border _border-gray-300 _px-4 _py-2 dark:_border-gray-600">GRAPH</td></tr><tr class="_m-0 _border-t _border-gray-300 _p-0 dark:_border-gray-600 even:_bg-gray-100 even:dark:_bg-gray-600/20"><td class="_m-0 _border _border-gray-300 _px-4 _py-2 dark:_border-gray-600">1</td><td class="_m-0 _border _border-gray-300 _px-4 _py-2 dark:_border-gray-600">CAPS LOCK</td></tr><tr class="_m-0 _border-t _border-gray-300 _p-0 dark:_border-gray-600 even:_bg-gray-100 even:dark:_bg-gray-600/20"><td class="_m-0 _border _border-gray-300 _px-4 _py-2 dark:_border-gray-600">0</td><td class="_m-0 _border _border-gray-300 _px-4 _py-2 dark:_border-gray-600">EXTEND</td></tr></tbody></table>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7">Setting bit 4 of <code class="nextra-code" dir="ltr">0x68</code> prevents these extended keys from also inserting entries into the 8Ã—5 membrane matrixâ€”so reading port <code class="nextra-code" dir="ltr">0xFE</code> wonâ€™t see spurious keypresses from them.</p>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7"><strong>Register <code class="nextra-code" dir="ltr">0xB2</code> â€” Extended MD Pad Buttons</strong> (read-only)</p>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7">For Mega Drive pad mode, reads the extra buttons (X, Z, Y, MODE) on both left and right joystick ports separately. Bits 7:4 = right pad, bits 3:0 = left pad.</p>
<hr class="_my-8 _border-neutral-200/70 contrast-more:_border-neutral-400 dark:_border-primary-100/10 contrast-more:dark:_border-neutral-400"/>
<h2 id="divmmc-and-storage" class="_font-semibold _tracking-tight _text-slate-900 dark:_text-slate-100 _mt-10 _border-b _pb-1 _text-3xl _border-neutral-200/70 contrast-more:_border-neutral-400 dark:_border-primary-100/10 contrast-more:dark:_border-neutral-400">DivMMC and Storage<a href="#divmmc-and-storage" class="nextra-focus subheading-anchor" aria-label="Permalink for this section"></a></h2>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7">DivMMC handles transparent SD card access. The fundamental mechanism is <em>automapping</em>: when the Z80 fetches an instruction from specific addresses (typically ROM entry points), DivMMC pages its own RAM and ROM into the Z80â€™s address space, runs the SD card routine, then pages itself outâ€”the calling code never knows DivMMC was involved.</p>
<h3 id="divmmc-entry-points-0xb8-0xb9-0xba-0xbb" class="_font-semibold _tracking-tight _text-slate-900 dark:_text-slate-100 _mt-8 _text-2xl">DivMMC Entry Points (<code class="nextra-code" dir="ltr">0xB8</code>, <code class="nextra-code" dir="ltr">0xB9</code>, <code class="nextra-code" dir="ltr">0xBA</code>, <code class="nextra-code" dir="ltr">0xBB</code>)<a href="#divmmc-entry-points-0xb8-0xb9-0xba-0xbb" class="nextra-focus subheading-anchor" aria-label="Permalink for this section"></a></h3>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7"><strong>Register <code class="nextra-code" dir="ltr">0xB8</code> â€” DivMMC Entry Points 0</strong></p>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7">Controls which addresses trigger automapping (instruction fetch only). Individual bits enable specific RST vectors:</p>
<ul class="[:is(ol,ul)_&amp;]:_my-3 [&amp;:not(:first-child)]:_mt-6 _list-disc ltr:_ml-6 rtl:_mr-6">
<li class="_my-2">Bit 0: Address <code class="nextra-code" dir="ltr">0x0000</code></li>
<li class="_my-2">Bit 1: Address <code class="nextra-code" dir="ltr">0x0008</code></li>
<li class="_my-2">â€¦</li>
<li class="_my-2">Bit 7: Address <code class="nextra-code" dir="ltr">0x0038</code> (IM1 interrupt vector)</li>
</ul>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7">The default enables <code class="nextra-code" dir="ltr">0x0000</code> and <code class="nextra-code" dir="ltr">0x0038</code>.</p>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7"><strong>Register <code class="nextra-code" dir="ltr">0xB9</code> â€” DivMMC Entry Points Valid 0</strong></p>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7">For each entry point in <code class="nextra-code" dir="ltr">0xB8</code>, this sets whether it triggers <em>always</em> (bit set) or only when ROM3 is paged in (bit clear). ROM3 is the 48K BASIC ROMâ€”so most tape-loading traps are ROM3-only.</p>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7"><strong>Register <code class="nextra-code" dir="ltr">0xBA</code> â€” DivMMC Entry Points Timing 0</strong></p>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7">For each entry point, whether mapping is <em>instant</em> (bit setâ€”maps before the instruction executes) or <em>delayed</em> (bit clearâ€”maps after the instruction, for compatibility). RST 0 and NMI entry at <code class="nextra-code" dir="ltr">0x0066</code> need instant mapping; tape traps at ROM addresses work better delayed.</p>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7"><strong>Register <code class="nextra-code" dir="ltr">0xBB</code> â€” DivMMC Entry Points 1</strong></p>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7">Additional entry points beyond the RST vectors:</p>
<ul class="[:is(ol,ul)_&amp;]:_my-3 [&amp;:not(:first-child)]:_mt-6 _list-disc ltr:_ml-6 rtl:_mr-6">
<li class="_my-2">Bit 7: Addresses <code class="nextra-code" dir="ltr">0x3DXX</code> (TR-DOS entry points, instant, ROM3)â€”for TR-DOS disk compatibility</li>
<li class="_my-2">Bit 6: Disable exit from automap at <code class="nextra-code" dir="ltr">0x1FF8</code>â€“<code class="nextra-code" dir="ltr">0x1FFF</code></li>
<li class="_my-2">Bits 5:4: Tape trap addresses for NextZXOS (<code class="nextra-code" dir="ltr">0x056A</code>, <code class="nextra-code" dir="ltr">0x04D7</code>)</li>
<li class="_my-2">Bits 3:2: Tape trap addresses for ESXdos / original DivMMC (<code class="nextra-code" dir="ltr">0x0562</code>, <code class="nextra-code" dir="ltr">0x04C6</code>)</li>
<li class="_my-2">Bit 1: <code class="nextra-code" dir="ltr">0x0066</code> instant (NMI handler)</li>
<li class="_my-2">Bit 0: <code class="nextra-code" dir="ltr">0x0066</code> delayed</li>
</ul>
<hr class="_my-8 _border-neutral-200/70 contrast-more:_border-neutral-400 dark:_border-primary-100/10 contrast-more:dark:_border-neutral-400"/>
<h2 id="expansion-bus" class="_font-semibold _tracking-tight _text-slate-900 dark:_text-slate-100 _mt-10 _border-b _pb-1 _text-3xl _border-neutral-200/70 contrast-more:_border-neutral-400 dark:_border-primary-100/10 contrast-more:dark:_border-neutral-400">Expansion Bus<a href="#expansion-bus" class="nextra-focus subheading-anchor" aria-label="Permalink for this section"></a></h2>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7">The Nextâ€™s edge connector is electrically compatible with the original Spectrumâ€™s expansion bus. Original Spectrum peripherals can connect and work, but the Next also gives you fine-grained control over which ports get routed internally versus passed through to external hardware.</p>
<h3 id="enabling-the-bus-0x80" class="_font-semibold _tracking-tight _text-slate-900 dark:_text-slate-100 _mt-8 _text-2xl">Enabling the Bus (<code class="nextra-code" dir="ltr">0x80</code>)<a href="#enabling-the-bus-0x80" class="nextra-focus subheading-anchor" aria-label="Permalink for this section"></a></h3>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7"><strong>Register <code class="nextra-code" dir="ltr">0x80</code> â€” Expansion Bus Enable</strong></p>
<ul class="[:is(ol,ul)_&amp;]:_my-3 [&amp;:not(:first-child)]:_mt-6 _list-disc ltr:_ml-6 rtl:_mr-6">
<li class="_my-2"><strong>Bit 7</strong> (immediate): Enable the expansion bus</li>
<li class="_my-2"><strong>Bit 6</strong> (immediate): Enable ROMCS replacement from DivMMC banks 14/15</li>
<li class="_my-2"><strong>Bit 5</strong> (immediate): Disable internal I/O cycles and ignore IORQULAâ€”all I/O goes to the bus</li>
<li class="_my-2"><strong>Bit 4</strong> (immediate): Disable internal memory cyclesâ€”all memory access goes to the bus</li>
</ul>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7">Bits 3:0 are the â€œsavedâ€ versions that take effect after soft reset (copied from bits 7:4 at soft-reset time).</p>
<h3 id="bus-control-0x81" class="_font-semibold _tracking-tight _text-slate-900 dark:_text-slate-100 _mt-8 _text-2xl">Bus Control (<code class="nextra-code" dir="ltr">0x81</code>)<a href="#bus-control-0x81" class="nextra-focus subheading-anchor" aria-label="Permalink for this section"></a></h3>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7"><strong>Register <code class="nextra-code" dir="ltr">0x81</code> â€” Expansion Bus Control</strong></p>
<ul class="[:is(ol,ul)_&amp;]:_my-3 [&amp;:not(:first-child)]:_mt-6 _list-disc ltr:_ml-6 rtl:_mr-6">
<li class="_my-2"><strong>Bit 7</strong> (read-only): ROMCS is currently asserted on the expansion bus</li>
<li class="_my-2"><strong>Bit 6</strong>: Allow bus peripherals to override ULA on even-port reads (needed for Rotronics Wafadrive)</li>
<li class="_my-2"><strong>Bit 5</strong>: Disable NMI button debounce on the expansion bus (for Opus Discovery compatibility)</li>
<li class="_my-2"><strong>Bit 4</strong>: Propagate the maximum CPU clock at all times, even when the bus is off</li>
</ul>
<h3 id="port-decoding-control-0x820x85-0x860x89" class="_font-semibold _tracking-tight _text-slate-900 dark:_text-slate-100 _mt-8 _text-2xl">Port Decoding Control (<code class="nextra-code" dir="ltr">0x82</code>â€“<code class="nextra-code" dir="ltr">0x85</code>, <code class="nextra-code" dir="ltr">0x86</code>â€“<code class="nextra-code" dir="ltr">0x89</code>)<a href="#port-decoding-control-0x820x85-0x860x89" class="nextra-focus subheading-anchor" aria-label="Permalink for this section"></a></h3>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7"><strong>Registers <code class="nextra-code" dir="ltr">0x82</code>â€“<code class="nextra-code" dir="ltr">0x85</code> â€” Internal Port Decoding Enables</strong> (32-bit field, <code class="nextra-code" dir="ltr">0x85</code> = MSB)<br/>
<strong>Registers <code class="nextra-code" dir="ltr">0x86</code>â€“<code class="nextra-code" dir="ltr">0x89</code> â€” Expansion Bus Port Decoding Enables</strong> (32-bit field, <code class="nextra-code" dir="ltr">0x89</code> = MSB)</p>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7">Each bit enables or disables one port or group of ports. A clear bit means the internal device for that port is disabled; when the expansion bus is on, the corresponding I/O cycle propagates to external hardware.</p>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7">Key bits (by position in the combined 32-bit value):</p>
<ul class="[:is(ol,ul)_&amp;]:_my-3 [&amp;:not(:first-child)]:_mt-6 _list-disc ltr:_ml-6 rtl:_mr-6">
<li class="_my-2">Bit 0: Port <code class="nextra-code" dir="ltr">0xFF</code></li>
<li class="_my-2">Bit 1: Port <code class="nextra-code" dir="ltr">0x7FFD</code> (128K paging)</li>
<li class="_my-2">Bit 5: Port <code class="nextra-code" dir="ltr">0x6B</code> ZXN DMA</li>
<li class="_my-2">Bit 6: Port <code class="nextra-code" dir="ltr">0x1F</code> Kempston/MD1 joystick</li>
<li class="_my-2">Bit 9: Multiface ports</li>
<li class="_my-2">Bit 14: Sprite ports (<code class="nextra-code" dir="ltr">0x57</code>, <code class="nextra-code" dir="ltr">0x5B</code>, <code class="nextra-code" dir="ltr">0x303B</code>)</li>
<li class="_my-2">Bit 15: Layer 2 port (<code class="nextra-code" dir="ltr">0x123B</code>)</li>
<li class="_my-2">Bit 16: AY ports (<code class="nextra-code" dir="ltr">0xFFFD</code>, <code class="nextra-code" dir="ltr">0xBFFD</code>)</li>
<li class="_my-2">Bits 17â€“23: DAC ports (various Soundrive, Covox, Specdrum configurations)</li>
<li class="_my-2">Bit 24: ULA+ ports</li>
<li class="_my-2">Bit 25: Z80 DMA port</li>
<li class="_my-2">Bit 27: CTC ports</li>
</ul>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7">Internal enables always apply. Expansion bus enables are ANDed with internal enablesâ€”you canâ€™t enable something on the bus thatâ€™s disabled internally.</p>
<h3 id="io-port-propagation-0x8a" class="_font-semibold _tracking-tight _text-slate-900 dark:_text-slate-100 _mt-8 _text-2xl">I/O Port Propagation (<code class="nextra-code" dir="ltr">0x8A</code>)<a href="#io-port-propagation-0x8a" class="nextra-focus subheading-anchor" aria-label="Permalink for this section"></a></h3>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7"><strong>Register <code class="nextra-code" dir="ltr">0x8A</code> â€” Expansion Bus I/O Propagate</strong></p>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7">Even when a port is handled internally, you can still propagate its I/O cycles to the expansion bus so external hardware can monitor state changes:</p>
<ul class="[:is(ol,ul)_&amp;]:_my-3 [&amp;:not(:first-child)]:_mt-6 _list-disc ltr:_ml-6 rtl:_mr-6">
<li class="_my-2">Bit 0: Port <code class="nextra-code" dir="ltr">0xFE</code> (ULA keyboard/border/EARâ€”enables external keyboards to mix their readings)</li>
<li class="_my-2">Bit 1: Port <code class="nextra-code" dir="ltr">0x7FFD</code></li>
<li class="_my-2">Bit 2: Port <code class="nextra-code" dir="ltr">0xDFFD</code></li>
<li class="_my-2">Bit 3: Port <code class="nextra-code" dir="ltr">0x1FFD</code></li>
<li class="_my-2">Bit 4: Port <code class="nextra-code" dir="ltr">0xFF</code></li>
<li class="_my-2">Bit 5: Port <code class="nextra-code" dir="ltr">0xEFF7</code></li>
</ul>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7">The <code class="nextra-code" dir="ltr">0xFE</code> propagation is special: any value an external keyboard puts on the data bus during a port <code class="nextra-code" dir="ltr">0xFE</code> read gets mixed into the keyboard resultâ€”making external keyboards work naturally.</p>
<h3 id="alternate-rom-0x8c-1" class="_font-semibold _tracking-tight _text-slate-900 dark:_text-slate-100 _mt-8 _text-2xl">Alternate ROM (<code class="nextra-code" dir="ltr">0x8C</code>)<a href="#alternate-rom-0x8c-1" class="nextra-focus subheading-anchor" aria-label="Permalink for this section"></a></h3>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7"><strong>Register <code class="nextra-code" dir="ltr">0x8C</code> â€” Alternate ROM</strong></p>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7">Replaces the standard Spectrum ROM with custom pages from DivMMC banks. The â€œimmediateâ€ bits (7:4) take effect now; bits 3:0 are saved and restored after soft reset.</p>
<ul class="[:is(ol,ul)_&amp;]:_my-3 [&amp;:not(:first-child)]:_mt-6 _list-disc ltr:_ml-6 rtl:_mr-6">
<li class="_my-2">Bit 7 (or 3): Enable alternate ROM</li>
<li class="_my-2">Bit 6 (or 2): Make alternate ROM visible only during writes (not reads)â€”useful for write trapping</li>
<li class="_my-2">Bits 5,4 (or 1,0): Lock ROM1 (48K ROM) or ROM0 (128K ROM) in place, preventing them from being paged out</li>
</ul>
<hr class="_my-8 _border-neutral-200/70 contrast-more:_border-neutral-400 dark:_border-primary-100/10 contrast-more:dark:_border-neutral-400"/>
<h2 id="raspberry-pi-and-gpio" class="_font-semibold _tracking-tight _text-slate-900 dark:_text-slate-100 _mt-10 _border-b _pb-1 _text-3xl _border-neutral-200/70 contrast-more:_border-neutral-400 dark:_border-primary-100/10 contrast-more:dark:_border-neutral-400">Raspberry Pi and GPIO<a href="#raspberry-pi-and-gpio" class="nextra-focus subheading-anchor" aria-label="Permalink for this section"></a></h2>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7">The Nextâ€™s edge connector includes a Raspberry Pi Zero footprint, and the Next FPGA connects to Pi GPIO pins. These NextRegs configure that bridge.</p>
<h3 id="pi-gpio-output-enable-0x900x93" class="_font-semibold _tracking-tight _text-slate-900 dark:_text-slate-100 _mt-8 _text-2xl">Pi GPIO Output Enable (<code class="nextra-code" dir="ltr">0x90</code>â€“<code class="nextra-code" dir="ltr">0x93</code>)<a href="#pi-gpio-output-enable-0x900x93" class="nextra-focus subheading-anchor" aria-label="Permalink for this section"></a></h3>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7"><strong>Registers <code class="nextra-code" dir="ltr">0x90</code>â€“<code class="nextra-code" dir="ltr">0x93</code> â€” PI GPIO Output Enable</strong> (28-bit field)</p>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7">Each bit enables output mode on the corresponding Pi GPIO pin (0â€“27). Pins 0 and 1 are fixed as inputs (IÂ²C by default). All other pins can be switched between input and output individually. A set bit = output enabled.</p>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7">After soft reset, all pins are inputs.</p>
<h3 id="pi-gpio-state-0x980x9b" class="_font-semibold _tracking-tight _text-slate-900 dark:_text-slate-100 _mt-8 _text-2xl">Pi GPIO State (<code class="nextra-code" dir="ltr">0x98</code>â€“<code class="nextra-code" dir="ltr">0x9B</code>)<a href="#pi-gpio-state-0x980x9b" class="nextra-focus subheading-anchor" aria-label="Permalink for this section"></a></h3>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7"><strong>Registers <code class="nextra-code" dir="ltr">0x98</code>â€“<code class="nextra-code" dir="ltr">0x9B</code> â€” PI GPIO State</strong> (28-bit field)</p>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7">Reading returns the current state of all 28 GPIO pins regardless of direction. Writing sets output levels on pins that have output enabled (via <code class="nextra-code" dir="ltr">0x90</code>â€“<code class="nextra-code" dir="ltr">0x93</code>); writes to input-configured pins are ignored.</p>
<h3 id="pi-peripheral-enable-0xa0" class="_font-semibold _tracking-tight _text-slate-900 dark:_text-slate-100 _mt-8 _text-2xl">Pi Peripheral Enable (<code class="nextra-code" dir="ltr">0xA0</code>)<a href="#pi-peripheral-enable-0xa0" class="nextra-focus subheading-anchor" aria-label="Permalink for this section"></a></h3>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7"><strong>Register <code class="nextra-code" dir="ltr">0xA0</code> â€” PI Peripheral Enable</strong></p>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7">Enables dedicated Pi interfaces that share GPIO pins with general GPIO:</p>
<ul class="[:is(ol,ul)_&amp;]:_my-3 [&amp;:not(:first-child)]:_mt-6 _list-disc ltr:_ml-6 rtl:_mr-6">
<li class="_my-2"><strong>Bit 5</strong>: UART on GPIO 14 and 15 (overrides GPIO for those pins)</li>
<li class="_my-2"><strong>Bit 4</strong>: UART direction â€” 0 = Rx/GPIO15 Tx/GPIO14 (for Pi hats), 1 = reversed (for Pi itself)</li>
<li class="_my-2"><strong>Bit 3</strong>: IÂ²C on GPIO 2 and 3</li>
<li class="_my-2"><strong>Bit 0</strong>: SPI on GPIO 7, 8, 9, 10, 11</li>
</ul>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7">When any of these are enabled, the corresponding pins are no longer general-purpose GPIO.</p>
<h3 id="esp-wi-fi-gpio-0xa8-0xa9" class="_font-semibold _tracking-tight _text-slate-900 dark:_text-slate-100 _mt-8 _text-2xl">ESP Wi-Fi GPIO (<code class="nextra-code" dir="ltr">0xA8</code>, <code class="nextra-code" dir="ltr">0xA9</code>)<a href="#esp-wi-fi-gpio-0xa8-0xa9" class="nextra-focus subheading-anchor" aria-label="Permalink for this section"></a></h3>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7"><strong>Registers <code class="nextra-code" dir="ltr">0xA8</code>/<code class="nextra-code" dir="ltr">0xA9</code> â€” ESP Wifi GPIO</strong></p>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7">The ESP8266 Wi-Fi module on the Pi connector exposes two GPIO pins: GPIO0 and GPIO2. Register <code class="nextra-code" dir="ltr">0xA8</code> enables output, <code class="nextra-code" dir="ltr">0xA9</code> reads/writes state. GPIO2 is read-only (its output enable bit is fixed at 0).</p>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7">These are used to hold the ESP in programming mode (GPIO0 low during reset) or to toggle module state. Normally the operating system handles this, but if youâ€™re implementing custom Wi-Fi control, these give you direct access.</p>
<hr class="_my-8 _border-neutral-200/70 contrast-more:_border-neutral-400 dark:_border-primary-100/10 contrast-more:dark:_border-neutral-400"/>
<h2 id="debugging-features" class="_font-semibold _tracking-tight _text-slate-900 dark:_text-slate-100 _mt-10 _border-b _pb-1 _text-3xl _border-neutral-200/70 contrast-more:_border-neutral-400 dark:_border-primary-100/10 contrast-more:dark:_border-neutral-400">Debugging Features<a href="#debugging-features" class="nextra-focus subheading-anchor" aria-label="Permalink for this section"></a></h2>
<h3 id="io-traps-0xd8-0xd9-0xda--experimental" class="_font-semibold _tracking-tight _text-slate-900 dark:_text-slate-100 _mt-8 _text-2xl">I/O Traps (<code class="nextra-code" dir="ltr">0xD8</code>, <code class="nextra-code" dir="ltr">0xD9</code>, <code class="nextra-code" dir="ltr">0xDA</code>) â€” <em>Experimental</em><a href="#io-traps-0xd8-0xd9-0xda--experimental" class="nextra-focus subheading-anchor" aria-label="Permalink for this section"></a></h3>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7"><strong>Register <code class="nextra-code" dir="ltr">0xD8</code> â€” I/O Traps</strong></p>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7">With bit 0 set, I/O writes to ports <code class="nextra-code" dir="ltr">0x2FFD</code> and <code class="nextra-code" dir="ltr">0x3FFD</code> (the +3 FDC disk controller ports) generate a Multiface NMI instead of actually executingâ€”trapping them for inspection or redirection. Useful for +3 disk DOS compatibility layers.</p>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7">The NMI status appears in <code class="nextra-code" dir="ltr">0x02</code> bit 4. In your NMI handler, check <code class="nextra-code" dir="ltr">0xDA</code> to find the cause, and <code class="nextra-code" dir="ltr">0xD9</code> for the byte that was written.</p>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7">Traps cannot fire while DMA, DivMMC, Multiface, or an external NMI master is already active.</p>
<h3 id="xadc-diagnostics-0xf0-0xf8-0xf9-0xfa--issue-4-only" class="_font-semibold _tracking-tight _text-slate-900 dark:_text-slate-100 _mt-8 _text-2xl">XADC Diagnostics (<code class="nextra-code" dir="ltr">0xF0</code>, <code class="nextra-code" dir="ltr">0xF8</code>, <code class="nextra-code" dir="ltr">0xF9</code>, <code class="nextra-code" dir="ltr">0xFA</code>) â€” Issue 4 Only<a href="#xadc-diagnostics-0xf0-0xf8-0xf9-0xfa--issue-4-only" class="nextra-focus subheading-anchor" aria-label="Permalink for this section"></a></h3>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7">The Artix-7 FPGA in Issue 4 boards includes XADC (Extended Analog-to-Digital Converter) and DNA (Device Unique ID) interfaces. These are exposed through a small state machine accessed via <code class="nextra-code" dir="ltr">0xF0</code>.</p>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7"><strong>Register <code class="nextra-code" dir="ltr">0xF0</code> â€” XDEV CMD</strong></p>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7">Write <code class="nextra-code" dir="ltr">0x80</code> to enter select mode. Then write <code class="nextra-code" dir="ltr">0xC0 | device_id</code> to select a device (DNA = 1, XADC = 2). Finally write 0 to exit select mode and start communicating with the selected device via the same register.</p>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7"><strong>Xilinx DNA mode</strong>: Read serial bit-by-bit; the first 8 bits give the DNA field length, followed by the unique device ID. This gives you a hardware serial number unique to each FPGA device.</p>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7"><strong>XADC mode</strong>: Trigger conversions and read analog measurements via <code class="nextra-code" dir="ltr">0xF8</code>â€“<code class="nextra-code" dir="ltr">0xFA</code>. The XADC can measure internal chip temperature and supply voltagesâ€”useful for thermal diagnostics or detecting a stressed board. Consult Xilinx UG480 for the full DRP register map.</p>
<hr class="_my-8 _border-neutral-200/70 contrast-more:_border-neutral-400 dark:_border-primary-100/10 contrast-more:dark:_border-neutral-400"/>
<h2 id="user-storage-0x7f" class="_font-semibold _tracking-tight _text-slate-900 dark:_text-slate-100 _mt-10 _border-b _pb-1 _text-3xl _border-neutral-200/70 contrast-more:_border-neutral-400 dark:_border-primary-100/10 contrast-more:dark:_border-neutral-400">User Storage (<code class="nextra-code" dir="ltr">0x7F</code>)<a href="#user-storage-0x7f" class="nextra-focus subheading-anchor" aria-label="Permalink for this section"></a></h2>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7"><strong>Register <code class="nextra-code" dir="ltr">0x7F</code> â€” User Register 0</strong></p>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7">Eight bits of scratch storage that the hardware ignores. Write anything, read it back later. Soft reset returns it to <code class="nextra-code" dir="ltr">0xFF</code>.</p>
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7">Not exactly a feature with a lot of drama, but itâ€™s occasionally useful: store a mode byte here that multiple interrupt handlers can read without needing to reserve precious RAM, or use it as a quick handshake flag between interrupt and main code.</p>
<blockquote class="[&amp;:not(:first-child)]:_mt-6 _border-gray-300 _italic _text-gray-700 dark:_border-gray-700 dark:_text-gray-400 ltr:_border-l-2 ltr:_pl-6 rtl:_border-r-2 rtl:_pr-6">
<p class="[&amp;:not(:first-child)]:_mt-6 _leading-7"><strong>Upper limit</strong>: NextRegs <code class="nextra-code" dir="ltr">0x80</code> and above are inaccessible to the Copper but still reachable via I/O ports and NEXTREG instructions. Register <code class="nextra-code" dir="ltr">0xFF</code> is reserved for internal useâ€”donâ€™t write to it.</p>
</blockquote>
<hr class="_my-8 _border-neutral-200/70 contrast-more:_border-neutral-400 dark:_border-primary-100/10 contrast-more:dark:_border-neutral-400"/>
<h2 id="quick-reference-registers-by-category" class="_font-semibold _tracking-tight _text-slate-900 dark:_text-slate-100 _mt-10 _border-b _pb-1 _text-3xl _border-neutral-200/70 contrast-more:_border-neutral-400 dark:_border-primary-100/10 contrast-more:dark:_border-neutral-400">Quick Reference: Registers by Category<a href="#quick-reference-registers-by-category" class="nextra-focus subheading-anchor" aria-label="Permalink for this section"></a></h2>

































































































<table class="_not-prose _block _overflow-x-auto nextra-scrollbar [&amp;:not(:first-child)]:_mt-6 _p-0"><thead><tr class="_m-0 _border-t _border-gray-300 _p-0 dark:_border-gray-600 even:_bg-gray-100 even:dark:_bg-gray-600/20"><th class="_m-0 _border _border-gray-300 _px-4 _py-2 _font-semibold dark:_border-gray-600">Category</th><th class="_m-0 _border _border-gray-300 _px-4 _py-2 _font-semibold dark:_border-gray-600">Registers</th></tr></thead><tbody><tr class="_m-0 _border-t _border-gray-300 _p-0 dark:_border-gray-600 even:_bg-gray-100 even:dark:_bg-gray-600/20"><td class="_m-0 _border _border-gray-300 _px-4 _py-2 dark:_border-gray-600">System identity</td><td class="_m-0 _border _border-gray-300 _px-4 _py-2 dark:_border-gray-600"><code class="nextra-code" dir="ltr">0x00</code>, <code class="nextra-code" dir="ltr">0x01</code>, <code class="nextra-code" dir="ltr">0x0E</code>, <code class="nextra-code" dir="ltr">0x0F</code></td></tr><tr class="_m-0 _border-t _border-gray-300 _p-0 dark:_border-gray-600 even:_bg-gray-100 even:dark:_bg-gray-600/20"><td class="_m-0 _border _border-gray-300 _px-4 _py-2 dark:_border-gray-600">System control</td><td class="_m-0 _border _border-gray-300 _px-4 _py-2 dark:_border-gray-600"><code class="nextra-code" dir="ltr">0x02</code>, <code class="nextra-code" dir="ltr">0x03</code>, <code class="nextra-code" dir="ltr">0x07</code>, <code class="nextra-code" dir="ltr">0x10</code>, <code class="nextra-code" dir="ltr">0x24</code></td></tr><tr class="_m-0 _border-t _border-gray-300 _p-0 dark:_border-gray-600 even:_bg-gray-100 even:dark:_bg-gray-600/20"><td class="_m-0 _border _border-gray-300 _px-4 _py-2 dark:_border-gray-600">Memory (MMU)</td><td class="_m-0 _border _border-gray-300 _px-4 _py-2 dark:_border-gray-600"><code class="nextra-code" dir="ltr">0x04</code>, <code class="nextra-code" dir="ltr">0x50</code>â€“<code class="nextra-code" dir="ltr">0x57</code>, <code class="nextra-code" dir="ltr">0x8C</code>, <code class="nextra-code" dir="ltr">0x8E</code>, <code class="nextra-code" dir="ltr">0x8F</code></td></tr><tr class="_m-0 _border-t _border-gray-300 _p-0 dark:_border-gray-600 even:_bg-gray-100 even:dark:_bg-gray-600/20"><td class="_m-0 _border _border-gray-300 _px-4 _py-2 dark:_border-gray-600">Layer system</td><td class="_m-0 _border _border-gray-300 _px-4 _py-2 dark:_border-gray-600"><code class="nextra-code" dir="ltr">0x14</code>, <code class="nextra-code" dir="ltr">0x15</code>, <code class="nextra-code" dir="ltr">0x4A</code>, <code class="nextra-code" dir="ltr">0x4B</code>, <code class="nextra-code" dir="ltr">0x4C</code></td></tr><tr class="_m-0 _border-t _border-gray-300 _p-0 dark:_border-gray-600 even:_bg-gray-100 even:dark:_bg-gray-600/20"><td class="_m-0 _border _border-gray-300 _px-4 _py-2 dark:_border-gray-600">Layer 2</td><td class="_m-0 _border _border-gray-300 _px-4 _py-2 dark:_border-gray-600"><code class="nextra-code" dir="ltr">0x12</code>, <code class="nextra-code" dir="ltr">0x13</code>, <code class="nextra-code" dir="ltr">0x16</code>, <code class="nextra-code" dir="ltr">0x17</code>, <code class="nextra-code" dir="ltr">0x18</code>, <code class="nextra-code" dir="ltr">0x69</code>, <code class="nextra-code" dir="ltr">0x70</code>, <code class="nextra-code" dir="ltr">0x71</code></td></tr><tr class="_m-0 _border-t _border-gray-300 _p-0 dark:_border-gray-600 even:_bg-gray-100 even:dark:_bg-gray-600/20"><td class="_m-0 _border _border-gray-300 _px-4 _py-2 dark:_border-gray-600">ULA / LoRes</td><td class="_m-0 _border _border-gray-300 _px-4 _py-2 dark:_border-gray-600"><code class="nextra-code" dir="ltr">0x11</code>, <code class="nextra-code" dir="ltr">0x1A</code>, <code class="nextra-code" dir="ltr">0x26</code>, <code class="nextra-code" dir="ltr">0x27</code>, <code class="nextra-code" dir="ltr">0x32</code>, <code class="nextra-code" dir="ltr">0x33</code>, <code class="nextra-code" dir="ltr">0x64</code>, <code class="nextra-code" dir="ltr">0x68</code>, <code class="nextra-code" dir="ltr">0x69</code>, <code class="nextra-code" dir="ltr">0x6A</code></td></tr><tr class="_m-0 _border-t _border-gray-300 _p-0 dark:_border-gray-600 even:_bg-gray-100 even:dark:_bg-gray-600/20"><td class="_m-0 _border _border-gray-300 _px-4 _py-2 dark:_border-gray-600">Sprites</td><td class="_m-0 _border _border-gray-300 _px-4 _py-2 dark:_border-gray-600"><code class="nextra-code" dir="ltr">0x19</code>, <code class="nextra-code" dir="ltr">0x34</code>, <code class="nextra-code" dir="ltr">0x35</code>â€“<code class="nextra-code" dir="ltr">0x39</code>, <code class="nextra-code" dir="ltr">0x75</code>â€“<code class="nextra-code" dir="ltr">0x79</code></td></tr><tr class="_m-0 _border-t _border-gray-300 _p-0 dark:_border-gray-600 even:_bg-gray-100 even:dark:_bg-gray-600/20"><td class="_m-0 _border _border-gray-300 _px-4 _py-2 dark:_border-gray-600">Tilemap</td><td class="_m-0 _border _border-gray-300 _px-4 _py-2 dark:_border-gray-600"><code class="nextra-code" dir="ltr">0x1B</code>, <code class="nextra-code" dir="ltr">0x2F</code>, <code class="nextra-code" dir="ltr">0x30</code>, <code class="nextra-code" dir="ltr">0x31</code>, <code class="nextra-code" dir="ltr">0x6B</code>, <code class="nextra-code" dir="ltr">0x6C</code>, <code class="nextra-code" dir="ltr">0x6E</code>, <code class="nextra-code" dir="ltr">0x6F</code></td></tr><tr class="_m-0 _border-t _border-gray-300 _p-0 dark:_border-gray-600 even:_bg-gray-100 even:dark:_bg-gray-600/20"><td class="_m-0 _border _border-gray-300 _px-4 _py-2 dark:_border-gray-600">Palettes</td><td class="_m-0 _border _border-gray-300 _px-4 _py-2 dark:_border-gray-600"><code class="nextra-code" dir="ltr">0x40</code>, <code class="nextra-code" dir="ltr">0x41</code>, <code class="nextra-code" dir="ltr">0x42</code>, <code class="nextra-code" dir="ltr">0x43</code>, <code class="nextra-code" dir="ltr">0x44</code></td></tr><tr class="_m-0 _border-t _border-gray-300 _p-0 dark:_border-gray-600 even:_bg-gray-100 even:dark:_bg-gray-600/20"><td class="_m-0 _border _border-gray-300 _px-4 _py-2 dark:_border-gray-600">Clip windows</td><td class="_m-0 _border _border-gray-300 _px-4 _py-2 dark:_border-gray-600"><code class="nextra-code" dir="ltr">0x18</code>â€“<code class="nextra-code" dir="ltr">0x1C</code></td></tr><tr class="_m-0 _border-t _border-gray-300 _p-0 dark:_border-gray-600 even:_bg-gray-100 even:dark:_bg-gray-600/20"><td class="_m-0 _border _border-gray-300 _px-4 _py-2 dark:_border-gray-600">Raster / timing</td><td class="_m-0 _border _border-gray-300 _px-4 _py-2 dark:_border-gray-600"><code class="nextra-code" dir="ltr">0x1E</code>, <code class="nextra-code" dir="ltr">0x1F</code>, <code class="nextra-code" dir="ltr">0x20</code>, <code class="nextra-code" dir="ltr">0x22</code>, <code class="nextra-code" dir="ltr">0x23</code></td></tr><tr class="_m-0 _border-t _border-gray-300 _p-0 dark:_border-gray-600 even:_bg-gray-100 even:dark:_bg-gray-600/20"><td class="_m-0 _border _border-gray-300 _px-4 _py-2 dark:_border-gray-600">Copper</td><td class="_m-0 _border _border-gray-300 _px-4 _py-2 dark:_border-gray-600"><code class="nextra-code" dir="ltr">0x60</code>, <code class="nextra-code" dir="ltr">0x61</code>, <code class="nextra-code" dir="ltr">0x62</code>, <code class="nextra-code" dir="ltr">0x63</code>, <code class="nextra-code" dir="ltr">0x64</code></td></tr><tr class="_m-0 _border-t _border-gray-300 _p-0 dark:_border-gray-600 even:_bg-gray-100 even:dark:_bg-gray-600/20"><td class="_m-0 _border _border-gray-300 _px-4 _py-2 dark:_border-gray-600">Audio</td><td class="_m-0 _border _border-gray-300 _px-4 _py-2 dark:_border-gray-600"><code class="nextra-code" dir="ltr">0x06</code>, <code class="nextra-code" dir="ltr">0x08</code>, <code class="nextra-code" dir="ltr">0x09</code>, <code class="nextra-code" dir="ltr">0x2C</code>, <code class="nextra-code" dir="ltr">0x2D</code>, <code class="nextra-code" dir="ltr">0x2E</code>, <code class="nextra-code" dir="ltr">0xA2</code></td></tr><tr class="_m-0 _border-t _border-gray-300 _p-0 dark:_border-gray-600 even:_bg-gray-100 even:dark:_bg-gray-600/20"><td class="_m-0 _border _border-gray-300 _px-4 _py-2 dark:_border-gray-600">Interrupts</td><td class="_m-0 _border _border-gray-300 _px-4 _py-2 dark:_border-gray-600"><code class="nextra-code" dir="ltr">0xC0</code>, <code class="nextra-code" dir="ltr">0xC2</code>, <code class="nextra-code" dir="ltr">0xC3</code>, <code class="nextra-code" dir="ltr">0xC4</code>â€“<code class="nextra-code" dir="ltr">0xC6</code>, <code class="nextra-code" dir="ltr">0xC7</code>, <code class="nextra-code" dir="ltr">0xC8</code>â€“<code class="nextra-code" dir="ltr">0xCA</code>, <code class="nextra-code" dir="ltr">0xCB</code>, <code class="nextra-code" dir="ltr">0xCC</code>â€“<code class="nextra-code" dir="ltr">0xCE</code>, <code class="nextra-code" dir="ltr">0xCF</code></td></tr><tr class="_m-0 _border-t _border-gray-300 _p-0 dark:_border-gray-600 even:_bg-gray-100 even:dark:_bg-gray-600/20"><td class="_m-0 _border _border-gray-300 _px-4 _py-2 dark:_border-gray-600">Joystick</td><td class="_m-0 _border _border-gray-300 _px-4 _py-2 dark:_border-gray-600"><code class="nextra-code" dir="ltr">0x05</code>, <code class="nextra-code" dir="ltr">0x0B</code>, <code class="nextra-code" dir="ltr">0xB2</code></td></tr><tr class="_m-0 _border-t _border-gray-300 _p-0 dark:_border-gray-600 even:_bg-gray-100 even:dark:_bg-gray-600/20"><td class="_m-0 _border _border-gray-300 _px-4 _py-2 dark:_border-gray-600">Keyboard</td><td class="_m-0 _border _border-gray-300 _px-4 _py-2 dark:_border-gray-600"><code class="nextra-code" dir="ltr">0x28</code>, <code class="nextra-code" dir="ltr">0x29</code>, <code class="nextra-code" dir="ltr">0x2A</code>, <code class="nextra-code" dir="ltr">0x2B</code>, <code class="nextra-code" dir="ltr">0xB0</code>, <code class="nextra-code" dir="ltr">0xB1</code></td></tr><tr class="_m-0 _border-t _border-gray-300 _p-0 dark:_border-gray-600 even:_bg-gray-100 even:dark:_bg-gray-600/20"><td class="_m-0 _border _border-gray-300 _px-4 _py-2 dark:_border-gray-600">Peripherals</td><td class="_m-0 _border _border-gray-300 _px-4 _py-2 dark:_border-gray-600"><code class="nextra-code" dir="ltr">0x06</code>, <code class="nextra-code" dir="ltr">0x08</code>, <code class="nextra-code" dir="ltr">0x09</code>, <code class="nextra-code" dir="ltr">0x0A</code></td></tr><tr class="_m-0 _border-t _border-gray-300 _p-0 dark:_border-gray-600 even:_bg-gray-100 even:dark:_bg-gray-600/20"><td class="_m-0 _border _border-gray-300 _px-4 _py-2 dark:_border-gray-600">DivMMC</td><td class="_m-0 _border _border-gray-300 _px-4 _py-2 dark:_border-gray-600"><code class="nextra-code" dir="ltr">0xB8</code>, <code class="nextra-code" dir="ltr">0xB9</code>, <code class="nextra-code" dir="ltr">0xBA</code>, <code class="nextra-code" dir="ltr">0xBB</code></td></tr><tr class="_m-0 _border-t _border-gray-300 _p-0 dark:_border-gray-600 even:_bg-gray-100 even:dark:_bg-gray-600/20"><td class="_m-0 _border _border-gray-300 _px-4 _py-2 dark:_border-gray-600">Expansion bus</td><td class="_m-0 _border _border-gray-300 _px-4 _py-2 dark:_border-gray-600"><code class="nextra-code" dir="ltr">0x80</code>, <code class="nextra-code" dir="ltr">0x81</code>, <code class="nextra-code" dir="ltr">0x82</code>â€“<code class="nextra-code" dir="ltr">0x89</code>, <code class="nextra-code" dir="ltr">0x8A</code></td></tr><tr class="_m-0 _border-t _border-gray-300 _p-0 dark:_border-gray-600 even:_bg-gray-100 even:dark:_bg-gray-600/20"><td class="_m-0 _border _border-gray-300 _px-4 _py-2 dark:_border-gray-600">Raspberry Pi / GPIO</td><td class="_m-0 _border _border-gray-300 _px-4 _py-2 dark:_border-gray-600"><code class="nextra-code" dir="ltr">0x90</code>â€“<code class="nextra-code" dir="ltr">0x93</code>, <code class="nextra-code" dir="ltr">0x98</code>â€“<code class="nextra-code" dir="ltr">0x9B</code>, <code class="nextra-code" dir="ltr">0xA0</code>, <code class="nextra-code" dir="ltr">0xA2</code>, <code class="nextra-code" dir="ltr">0xA8</code>, <code class="nextra-code" dir="ltr">0xA9</code></td></tr><tr class="_m-0 _border-t _border-gray-300 _p-0 dark:_border-gray-600 even:_bg-gray-100 even:dark:_bg-gray-600/20"><td class="_m-0 _border _border-gray-300 _px-4 _py-2 dark:_border-gray-600">Debugging</td><td class="_m-0 _border _border-gray-300 _px-4 _py-2 dark:_border-gray-600"><code class="nextra-code" dir="ltr">0xD8</code>, <code class="nextra-code" dir="ltr">0xD9</code>, <code class="nextra-code" dir="ltr">0xDA</code>, <code class="nextra-code" dir="ltr">0xF0</code>, <code class="nextra-code" dir="ltr">0xF8</code>â€“<code class="nextra-code" dir="ltr">0xFA</code></td></tr><tr class="_m-0 _border-t _border-gray-300 _p-0 dark:_border-gray-600 even:_bg-gray-100 even:dark:_bg-gray-600/20"><td class="_m-0 _border _border-gray-300 _px-4 _py-2 dark:_border-gray-600">User storage</td><td class="_m-0 _border _border-gray-300 _px-4 _py-2 dark:_border-gray-600"><code class="nextra-code" dir="ltr">0x7F</code></td></tr></tbody></table><div class="_mt-16"></div><div class="_mb-8 _flex _items-center _border-t _pt-8 dark:_border-neutral-800 contrast-more:_border-neutral-400 dark:contrast-more:_border-neutral-400 print:_hidden"><a title="Installing Klive" class="nextra-focus _text-gray-600 dark:_text-gray-400 hover:_text-gray-800 dark:hover:_text-gray-200 contrast-more:_text-gray-700 contrast-more:dark:_text-gray-100 _flex _max-w-[50%] _items-center _gap-1 _py-4 _text-base _font-medium _transition-colors [word-break:break-word] md:_text-lg ltr:_ml-auto ltr:_pl-4 ltr:_text-right rtl:_mr-auto rtl:_pr-4 rtl:_text-left" href="/kliveide/getting-started/installation/">Installing Klive<svg viewBox="0 0 24 24" stroke="currentColor" fill="none" stroke-width="2" class="_inline _h-5 _shrink-0 rtl:_rotate-180"><path d="M9 5l7 7-7 7" stroke-linecap="round" stroke-linejoin="round"></path></svg></a></div></main></article></div><footer class="_bg-gray-100 _pb-[env(safe-area-inset-bottom)] dark:_bg-neutral-900 print:_bg-transparent"><div class="_mx-auto _flex _max-w-[90rem] _gap-2 _py-2 _px-4 _hidden"><button title="Change theme" class="_h-7 _rounded-md _px-2 _text-xs _font-medium _transition-colors _text-gray-600 dark:_text-gray-400" id="headlessui-listbox-button-:R6st6:" type="button" aria-haspopup="listbox" aria-expanded="false" data-headlessui-state=""><div class="_flex _items-center _gap-2 _capitalize"><svg fill="none" viewBox="3 3 18 18" width="12" height="12" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" fill="currentColor" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"></path></svg><span class="">Light</span></div></button></div><hr class="dark:_border-neutral-800"/><div class="_mx-auto _flex _max-w-[90rem] _justify-center _py-12 _text-gray-600 dark:_text-gray-400 md:_justify-start _pl-[max(env(safe-area-inset-left),1.5rem)] _pr-[max(env(safe-area-inset-right),1.5rem)]"></div></footer></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{}},"page":"/book/app-B-nextreg-reference","query":{},"buildId":"76Ws_RuPXROEPanE2NnsQ","assetPrefix":"/kliveide","nextExport":true,"autoExport":true,"isFallback":false,"scriptLoader":[]}</script></body></html>