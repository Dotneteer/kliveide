import { Callout } from 'nextra/components'
import Image from 'next/image'
import sjasmpReset from '../../public/images/working-with-ide/sjasmp-reset.png'
import sjasmProject from '../../public/images/working-with-ide/new-sjasmp-project.png'
import sjasmRunning from '../../public/images/working-with-ide/running-sjasmp-code.png'

# SJASMPLUS Integration

Klive IDE supports SJASMPLUS out-of-the-box, provided you installed the SjasmPlus Z80 assembler utility on your machine. After setting up SjasmPlus integration, you can use Klive IDE to edit, run, and debug programs created with this assembler.

<Callout type="warning" emoji="ðŸ’¡">
Running and debugging SjasmPlus-compiled code is tested only with the ZX Spectrum 48K model.
</Callout>

As Klive IDE does not know where to find the SjasmPlus compiler on your machine, you must set it up before using it.

## Setting up SJASMPLUS

Visit the GitHub page of [SjasmPlus](https://github.com/z00m128/sjasmplus) for details about this excellent Z80 assembler. You can read information about installing it [here](https://github.com/z00m128/sjasmplus/blob/master/INSTALL.md). Note the installation folder; you will need it to set up the integration with Klive.

The IDE provides a command, `sjasmp-reset` (or shorter, `sjasmpr`), to connect Klive with SjasmPlus. You can issue this command from the Command window:

<Image src={sjasmpReset} alt="SjasmpReset" width="770" style={{marginTop: 24}} />

The command expects a single parameter: the path of the SjasmPlus installation folder. When Klive invokes the assembler, the SjasmPlus executable name is added to this path. 

## Using SJASMPLUS

After setting up the SjasmPlus integration, you can create Klive projects with the `sjasmplus` template: 

<Image src={sjasmProject} alt="SJASMPLUS project" width="512" style={{marginTop: 24}} />

This template creates a project with a `code.asm` file as the build root and associates the `.asm` and `.sjasm` file extensions with the SjasmPlus compiler.

If you start with an existing project, you can create source code files with the `.sjasm` extension and promote them to build roots. Such a file will leverage the SjasmPlus compiler.

When you run the SjasmPlus code in the default Klive project template, you can see the result in the Emulator window:

<Image src={sjasmRunning} alt="ZxbRunning" width="480" height="467" style={{marginTop: 24}} />